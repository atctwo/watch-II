<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>watch 2: components/arduino-esp32/libraries/WebServer/src/WebServer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">watch 2
   </div>
   <div id="projectbrief">Firmwareforwatch2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_5eb99044ce905dee52e93bf33cea5db4.html">arduino-esp32</a></li><li class="navelem"><a class="el" href="dir_0b98385dcf64e929fcaa5e8c894594ea.html">libraries</a></li><li class="navelem"><a class="el" href="dir_93df50ebbcb928b82d18e54767fb24f0.html">WebServer</a></li><li class="navelem"><a class="el" href="dir_14842bc50c14b7310a07081af377aaea.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">WebServer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="WebServer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">  WebServer.cpp - Dead simple web-server.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">  Supports only one simultaneous client, knows how to handle GET and POST.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">  Copyright (c) 2014 Ivan Grokhotkov. All rights reserved.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">  This library is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">  modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">  License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">  version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">  This library is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">  Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">  You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">  License along with this library; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">  Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">  Modified 8 May 2015 by Hristo Gochkov (proper post and file upload handling)</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Arduino_8h.html">Arduino.h</a>&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="esp32-hal-log_8h.html">esp32-hal-log.h</a>&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="cencode_8h.html">libb64/cencode.h</a>&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WiFiServer_8h.html">WiFiServer.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WiFiClient_8h.html">WiFiClient.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WebServer_8h.html">WebServer.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FS_8h.html">FS.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RequestHandlersImpl_8h.html">detail/RequestHandlersImpl.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="components_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h.html">mbedtls/md5.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> AUTHORIZATION_HEADER[] = <span class="stringliteral">&quot;Authorization&quot;</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> qop_auth[] = <span class="stringliteral">&quot;qop=\&quot;auth\&quot;&quot;</span>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> WWW_Authenticate[] = <span class="stringliteral">&quot;WWW-Authenticate&quot;</span>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> Content_Length[] = <span class="stringliteral">&quot;Content-Length&quot;</span>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classWebServer.html#a99dd56bba59ae704ed3ca1e7fb32dd14">   41</a></span>&#160;<a class="code" href="classWebServer.html#a99dd56bba59ae704ed3ca1e7fb32dd14">WebServer::WebServer</a>(<a class="code" href="classIPAddress.html">IPAddress</a> <a class="code" href="cacheasm_8h.html#afe5809c047748d9483eda9b50b962ff1">addr</a>, <span class="keywordtype">int</span> port)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;: _corsEnabled(<a class="code" href="crt__abstractions_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;, _server(<a class="code" href="cacheasm_8h.html#afe5809c047748d9483eda9b50b962ff1">addr</a>, port)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;, _currentMethod(<a class="code" href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47da32498970693fbd48d717a129eca87df7">HTTP_ANY</a>)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;, _currentVersion(0)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;, _currentStatus(<a class="code" href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071caa56e3990f0e6fc6e0535e92183937076">HC_NONE</a>)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;, _statusChange(0)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;, _currentHandler(nullptr)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;, _firstHandler(nullptr)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;, _lastHandler(nullptr)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;, _currentArgCount(0)</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;, _currentArgs(nullptr)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;, _postArgsLen(0)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;, _postArgs(nullptr)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;, _headerKeysCount(0)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;, _currentHeaders(nullptr)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;, _contentLength(0)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;, _chunked(<a class="code" href="crt__abstractions_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classWebServer.html#a786f01b1e0195c4ac648c8a9d61b8f47">   62</a></span>&#160;<a class="code" href="classWebServer.html#a99dd56bba59ae704ed3ca1e7fb32dd14">WebServer::WebServer</a>(<span class="keywordtype">int</span> port)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;: _corsEnabled(<a class="code" href="crt__abstractions_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;, _server(port)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;, _currentMethod(<a class="code" href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47da32498970693fbd48d717a129eca87df7">HTTP_ANY</a>)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;, _currentVersion(0)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;, _currentStatus(<a class="code" href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071caa56e3990f0e6fc6e0535e92183937076">HC_NONE</a>)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;, _statusChange(0)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;, _currentHandler(nullptr)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;, _firstHandler(nullptr)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;, _lastHandler(nullptr)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;, _currentArgCount(0)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;, _currentArgs(nullptr)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;, _postArgsLen(0)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;, _postArgs(nullptr)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;, _headerKeysCount(0)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;, _currentHeaders(nullptr)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;, _contentLength(0)</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;, _chunked(<a class="code" href="crt__abstractions_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classWebServer.html#a1a0a29895986ab3558a638bc75f41259">   83</a></span>&#160;<a class="code" href="classWebServer.html#a1a0a29895986ab3558a638bc75f41259">WebServer::~WebServer</a>() {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="classWebServer.html#a75b84cfa2ad1dc81e7b10c8442273d4d">_server</a>.<a class="code" href="classWiFiServer.html#acb118e420ed19bc3bc32d3c24d612697">close</a>();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a>)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keyword">delete</span>[]<a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="classRequestHandler.html">RequestHandler</a>* handler = <a class="code" href="classWebServer.html#a80f32184979a9efed36f11a8d8007a1d">_firstHandler</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">while</span> (handler) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="classRequestHandler.html">RequestHandler</a>* next = handler-&gt;<a class="code" href="classRequestHandler.html#ac852f240320a76edadf7a6e622a086fc">next</a>();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keyword">delete</span> handler;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    handler = next;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="classWebServer.html#a2aaf44ab7f4ae94d2b4fd93ba80b24d3">   95</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a2aaf44ab7f4ae94d2b4fd93ba80b24d3">WebServer::begin</a>() {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="classWebServer.html#adbc4c0b7276d5ff1d9491d27e59f2e11">close</a>();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="classWebServer.html#a75b84cfa2ad1dc81e7b10c8442273d4d">_server</a>.<a class="code" href="classWiFiServer.html#a6f2c479ff31f78e95c47ba0f7f1fa379">begin</a>();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="classWebServer.html#a75b84cfa2ad1dc81e7b10c8442273d4d">_server</a>.<a class="code" href="classWiFiServer.html#a2cec2d40cd743167dc70f9990b04655f">setNoDelay</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classWebServer.html#a5a349b7ba85e24d8e20aed45a5839a7a">  101</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a2aaf44ab7f4ae94d2b4fd93ba80b24d3">WebServer::begin</a>(<a class="code" href="stdint_8h.html#a281b4b5562236420969a830503b0ba19">uint16_t</a> port) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="classWebServer.html#adbc4c0b7276d5ff1d9491d27e59f2e11">close</a>();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="classWebServer.html#a75b84cfa2ad1dc81e7b10c8442273d4d">_server</a>.<a class="code" href="classWiFiServer.html#a6f2c479ff31f78e95c47ba0f7f1fa379">begin</a>(port);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="classWebServer.html#a75b84cfa2ad1dc81e7b10c8442273d4d">_server</a>.<a class="code" href="classWiFiServer.html#a2cec2d40cd743167dc70f9990b04655f">setNoDelay</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classWebServer.html#a0d056bf3ec10638282703ccfcb0444af">  107</a></span>&#160;String <a class="code" href="classWebServer.html#a0d056bf3ec10638282703ccfcb0444af">WebServer::_extractParam</a>(String&amp; authReq,<span class="keyword">const</span> String&amp; <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>,<span class="keyword">const</span> <span class="keywordtype">char</span> delimit){</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordtype">int</span> _begin = authReq.indexOf(<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">if</span> (_begin == -1)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">return</span> authReq.substring(_begin+<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>.length(),authReq.indexOf(delimit,_begin+<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>.length()));</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">static</span> String md5str(String &amp;<a class="code" href="RPSL_8txt.html#a41b63e2e1c5ed84534837a2f274db04d">in</a>){</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordtype">char</span> <a class="code" href="namespaceimageconverter.html#ad3438e03b181aa0c715d45f0bf88922b">out</a>[33] = {0};</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="structmbedtls__md5__context.html">mbedtls_md5_context</a> _ctx;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> * _buf = (<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a>*)<a class="code" href="unity__fixture__malloc__overrides_8h.html#acf143577800376dd931c059ecc61ba06">malloc</a>(16);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">if</span>(_buf == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> String(<a class="code" href="namespaceimageconverter.html#ad3438e03b181aa0c715d45f0bf88922b">out</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  memset(_buf, 0x00, 16);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="components_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h.html#ad8147bb77981950e6965914d837d9b3e">mbedtls_md5_init</a>(&amp;_ctx);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="components_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h.html#a79c215e36a335de1e8f0a61163cf5a8d">mbedtls_md5_starts</a>(&amp;_ctx);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="components_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h.html#afb55d9ff4eeeec521f70886eb5abee8b">mbedtls_md5_update</a>(&amp;_ctx, (<span class="keyword">const</span> <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> *)<a class="code" href="RPSL_8txt.html#a41b63e2e1c5ed84534837a2f274db04d">in</a>.c_str(), <a class="code" href="RPSL_8txt.html#a41b63e2e1c5ed84534837a2f274db04d">in</a>.length());</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="components_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h.html#ad7f7365759b09ca82efedadfb5f8a88b">mbedtls_md5_finish</a>(&amp;_ctx, _buf);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 16; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    sprintf(<a class="code" href="namespaceimageconverter.html#ad3438e03b181aa0c715d45f0bf88922b">out</a> + (<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2), <span class="stringliteral">&quot;%02x&quot;</span>, _buf[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="namespaceimageconverter.html#ad3438e03b181aa0c715d45f0bf88922b">out</a>[32] = 0;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="RPSL_8txt.html#ae227cfd33a5880ffce840d383c2fbff3">free</a>(_buf);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">return</span> String(<a class="code" href="namespaceimageconverter.html#ad3438e03b181aa0c715d45f0bf88922b">out</a>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classWebServer.html#a09dad9475adaf67809faa1e58f8a15bb">  134</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classWebServer.html#a09dad9475adaf67809faa1e58f8a15bb">WebServer::authenticate</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * username, <span class="keyword">const</span> <span class="keywordtype">char</span> * password){</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classWebServer.html#a0cb11e97e0dad8f6b210f59d44f5c986">hasHeader</a>(FPSTR(AUTHORIZATION_HEADER))) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    String authReq = <a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">header</a>(FPSTR(AUTHORIZATION_HEADER));</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span>(authReq.startsWith(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Basic&quot;</span>))){</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      authReq = authReq.substring(6);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      authReq.trim();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="keywordtype">char</span> toencodeLen = strlen(username)+strlen(password)+1;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordtype">char</span> *toencode = <span class="keyword">new</span> <span class="keywordtype">char</span>[toencodeLen + 1];</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keywordflow">if</span>(toencode == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>){</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        authReq = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordtype">char</span> *encoded = <span class="keyword">new</span> <span class="keywordtype">char</span>[<a class="code" href="cencode_8h.html#a29fa25b7d6ec7b3034d65fe5a9f55589">base64_encode_expected_len</a>(toencodeLen)+1];</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keywordflow">if</span>(encoded == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>){</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        authReq = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keyword">delete</span>[] toencode;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      sprintf(toencode, <span class="stringliteral">&quot;%s:%s&quot;</span>, username, password);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="cencode_8c.html#a595759c28247c260fa147921e5569e06">base64_encode_chars</a>(toencode, toencodeLen, encoded) &gt; 0 &amp;&amp; authReq.equalsConstantTime(encoded)) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        authReq = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keyword">delete</span>[] toencode;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keyword">delete</span>[] encoded;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="keyword">delete</span>[] toencode;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keyword">delete</span>[] encoded;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(authReq.startsWith(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Digest&quot;</span>))) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      authReq = authReq.substring(7);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a>(<span class="stringliteral">&quot;%s&quot;</span>, authReq.c_str());</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      String _username = <a class="code" href="classWebServer.html#a0d056bf3ec10638282703ccfcb0444af">_extractParam</a>(authReq,<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;username=\&quot;&quot;</span>),<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">if</span>(!_username.length() || _username != String(username)) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        authReq = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="comment">// extracting required parameters for RFC 2069 simpler Digest</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      String _realm    = <a class="code" href="classWebServer.html#a0d056bf3ec10638282703ccfcb0444af">_extractParam</a>(authReq, <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;realm=\&quot;&quot;</span>),<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      String _nonce    = <a class="code" href="classWebServer.html#a0d056bf3ec10638282703ccfcb0444af">_extractParam</a>(authReq, <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;nonce=\&quot;&quot;</span>),<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      String _uri      = <a class="code" href="classWebServer.html#a0d056bf3ec10638282703ccfcb0444af">_extractParam</a>(authReq, <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;uri=\&quot;&quot;</span>),<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      String _response = <a class="code" href="classWebServer.html#a0d056bf3ec10638282703ccfcb0444af">_extractParam</a>(authReq, <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;response=\&quot;&quot;</span>),<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      String _opaque   = <a class="code" href="classWebServer.html#a0d056bf3ec10638282703ccfcb0444af">_extractParam</a>(authReq, <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;opaque=\&quot;&quot;</span>),<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">if</span>((!_realm.length()) || (!_nonce.length()) || (!_uri.length()) || (!_response.length()) || (!_opaque.length())) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        authReq = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">if</span>((_opaque != <a class="code" href="classWebServer.html#aed3aeffd66058fc84f4b4fccbf011934">_sopaque</a>) || (_nonce != <a class="code" href="classWebServer.html#a73514fc677ac35fa51e485e64b298db9">_snonce</a>) || (_realm != <a class="code" href="classWebServer.html#a53ac82f52fad03bbbdda9f23a6764a63">_srealm</a>)) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        authReq = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="comment">// parameters for the RFC 2617 newer Digest</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      String _nc,_cnonce;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keywordflow">if</span>(authReq.indexOf(FPSTR(qop_auth)) != -1) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        _nc = <a class="code" href="classWebServer.html#a0d056bf3ec10638282703ccfcb0444af">_extractParam</a>(authReq, <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;nc=&quot;</span>), <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        _cnonce = <a class="code" href="classWebServer.html#a0d056bf3ec10638282703ccfcb0444af">_extractParam</a>(authReq, <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;cnonce=\&quot;&quot;</span>),<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      String _H1 = md5str(String(username) + <span class="charliteral">&#39;:&#39;</span> + _realm + <span class="charliteral">&#39;:&#39;</span> + String(password));</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <a class="code" href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a>(<span class="stringliteral">&quot;Hash of user:realm:pass=%s&quot;</span>, _H1.c_str());</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      String _H2 = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classWebServer.html#a4b06a724fa81796290da8edf6b4b53f3">_currentMethod</a> == <a class="code" href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47da4ad23c3d2f21f7502ba058ef89518166">HTTP_GET</a>){</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;          _H2 = md5str(String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;GET:&quot;</span>)) + _uri);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classWebServer.html#a4b06a724fa81796290da8edf6b4b53f3">_currentMethod</a> == <a class="code" href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47daa763023b51da2b3618f24cbf994b34bf">HTTP_POST</a>){</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;          _H2 = md5str(String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;POST:&quot;</span>)) + _uri);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classWebServer.html#a4b06a724fa81796290da8edf6b4b53f3">_currentMethod</a> == <a class="code" href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47da2415577115dd0cd5d5a5aa62d52e1512">HTTP_PUT</a>){</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;          _H2 = md5str(String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;PUT:&quot;</span>)) + _uri);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classWebServer.html#a4b06a724fa81796290da8edf6b4b53f3">_currentMethod</a> == <a class="code" href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47da427575ab776ed70f0aa76667affc3942">HTTP_DELETE</a>){</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;          _H2 = md5str(String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;DELETE:&quot;</span>)) + _uri);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;          _H2 = md5str(String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;GET:&quot;</span>)) + _uri);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <a class="code" href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a>(<span class="stringliteral">&quot;Hash of GET:uri=%s&quot;</span>, _H2.c_str());</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      String _responsecheck = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">if</span>(authReq.indexOf(FPSTR(qop_auth)) != -1) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;          _responsecheck = md5str(_H1 + <span class="charliteral">&#39;:&#39;</span> + _nonce + <span class="charliteral">&#39;:&#39;</span> + _nc + <span class="charliteral">&#39;:&#39;</span> + _cnonce + <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;:auth:&quot;</span>) + _H2);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          _responsecheck = md5str(_H1 + <span class="charliteral">&#39;:&#39;</span> + _nonce + <span class="charliteral">&#39;:&#39;</span> + _H2);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <a class="code" href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a>(<span class="stringliteral">&quot;The Proper response=%s&quot;</span>, _responsecheck.c_str());</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">if</span>(_response == _responsecheck){</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        authReq = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    authReq = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classWebServer.html#a8a0d568bcc6a0bf57981180bd2c7cd3a">  222</a></span>&#160;String <a class="code" href="classWebServer.html#a8a0d568bcc6a0bf57981180bd2c7cd3a">WebServer::_getRandomHexString</a>() {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordtype">char</span> <a class="code" href="structbuffer.html">buffer</a>[33];  <span class="comment">// buffer to hold 32 Hex Digit + /0</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    sprintf (<a class="code" href="structbuffer.html">buffer</a> + (<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>*8), <span class="stringliteral">&quot;%08x&quot;</span>, <a class="code" href="esp__system_8h.html#a93effc946eee727e9c14497c1b9a34da">esp_random</a>());</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">return</span> String(<a class="code" href="structbuffer.html">buffer</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classWebServer.html#a493897f4a0c6258ae2aa05617d897abd">  231</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a493897f4a0c6258ae2aa05617d897abd">WebServer::requestAuthentication</a>(<a class="code" href="WebServer_8h.html#ac943282902f9e5e2e56cfd79b13b27a3">HTTPAuthMethod</a> mode, <span class="keyword">const</span> <span class="keywordtype">char</span>* realm, <span class="keyword">const</span> String&amp; authFailMsg) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">if</span>(realm == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="classWebServer.html#a53ac82f52fad03bbbdda9f23a6764a63">_srealm</a> = String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Login Required&quot;</span>));</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="classWebServer.html#a53ac82f52fad03bbbdda9f23a6764a63">_srealm</a> = String(realm);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span>(mode == <a class="code" href="WebServer_8h.html#ac943282902f9e5e2e56cfd79b13b27a3a75e117339f44be922c585df8c74d5266">BASIC_AUTH</a>) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">sendHeader</a>(String(FPSTR(WWW_Authenticate)), String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Basic realm=\&quot;&quot;</span>)) + <a class="code" href="classWebServer.html#a53ac82f52fad03bbbdda9f23a6764a63">_srealm</a> + String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;\&quot;&quot;</span>)));</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="classWebServer.html#a73514fc677ac35fa51e485e64b298db9">_snonce</a>=<a class="code" href="classWebServer.html#a8a0d568bcc6a0bf57981180bd2c7cd3a">_getRandomHexString</a>();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="classWebServer.html#aed3aeffd66058fc84f4b4fccbf011934">_sopaque</a>=<a class="code" href="classWebServer.html#a8a0d568bcc6a0bf57981180bd2c7cd3a">_getRandomHexString</a>();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">sendHeader</a>(String(FPSTR(WWW_Authenticate)), String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Digest realm=\&quot;&quot;</span>)) +<a class="code" href="classWebServer.html#a53ac82f52fad03bbbdda9f23a6764a63">_srealm</a> + String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;\&quot;, qop=\&quot;auth\&quot;, nonce=\&quot;&quot;</span>)) + <a class="code" href="classWebServer.html#a73514fc677ac35fa51e485e64b298db9">_snonce</a> + String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;\&quot;, opaque=\&quot;&quot;</span>)) + <a class="code" href="classWebServer.html#aed3aeffd66058fc84f4b4fccbf011934">_sopaque</a> + String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;\&quot;&quot;</span>)));</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keyword">using namespace </span><a class="code" href="namespacemime.html">mime</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="classWebServer.html#a8a9c406ba711b7b5dc249008a7808ab4">send</a>(401, String(FPSTR(<a class="code" href="namespacemime.html#a2dc5e176cda9260c1c5661f4571a4451">mimeTable</a>[<a class="code" href="tag__strings_8h.html#a8f99bc655183db169e126fc155ceb631">html</a>].mimeType)), authFailMsg);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="classWebServer.html#aa30c971df68c262598a73090e071f90f">  248</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#aa30c971df68c262598a73090e071f90f">WebServer::on</a>(<span class="keyword">const</span> <a class="code" href="classUri.html">Uri</a> &amp;<a class="code" href="classWebServer.html#affabd971e0f968030ad58255df24cc26">uri</a>, <a class="code" href="classWebServer.html#afee027a40053c7ef771a354526d48f7a">WebServer::THandlerFunction</a> handler) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <a class="code" href="classWebServer.html#aa30c971df68c262598a73090e071f90f">on</a>(<a class="code" href="classWebServer.html#affabd971e0f968030ad58255df24cc26">uri</a>, <a class="code" href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47da32498970693fbd48d717a129eca87df7">HTTP_ANY</a>, handler);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="classWebServer.html#a9beea3921b6321dd421216a756f20c7b">  252</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#aa30c971df68c262598a73090e071f90f">WebServer::on</a>(<span class="keyword">const</span> <a class="code" href="classUri.html">Uri</a> &amp;<a class="code" href="classWebServer.html#affabd971e0f968030ad58255df24cc26">uri</a>, <a class="code" href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47d">HTTPMethod</a> <a class="code" href="classWebServer.html#af929b8974568e2fae12124fadad4c779">method</a>, <a class="code" href="classWebServer.html#afee027a40053c7ef771a354526d48f7a">WebServer::THandlerFunction</a> fn) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="classWebServer.html#aa30c971df68c262598a73090e071f90f">on</a>(<a class="code" href="classWebServer.html#affabd971e0f968030ad58255df24cc26">uri</a>, <a class="code" href="classWebServer.html#af929b8974568e2fae12124fadad4c779">method</a>, fn, <a class="code" href="classWebServer.html#abe9b677fe60050fd3f1efaff4ea20c13">_fileUploadHandler</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="classWebServer.html#ab48717fc1b09ecb2278fd3c3ff630207">  256</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#aa30c971df68c262598a73090e071f90f">WebServer::on</a>(<span class="keyword">const</span> <a class="code" href="classUri.html">Uri</a> &amp;<a class="code" href="classWebServer.html#affabd971e0f968030ad58255df24cc26">uri</a>, <a class="code" href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47d">HTTPMethod</a> <a class="code" href="classWebServer.html#af929b8974568e2fae12124fadad4c779">method</a>, <a class="code" href="classWebServer.html#afee027a40053c7ef771a354526d48f7a">WebServer::THandlerFunction</a> fn, <a class="code" href="classWebServer.html#afee027a40053c7ef771a354526d48f7a">WebServer::THandlerFunction</a> ufn) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="classWebServer.html#a6918228c23636a6c63379fc394085c2c">_addRequestHandler</a>(<span class="keyword">new</span> <a class="code" href="classFunctionRequestHandler.html">FunctionRequestHandler</a>(fn, ufn, <a class="code" href="classWebServer.html#affabd971e0f968030ad58255df24cc26">uri</a>, <a class="code" href="classWebServer.html#af929b8974568e2fae12124fadad4c779">method</a>));</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="classWebServer.html#a6e1357979538e0ffc511fa5f6d32cd5a">  260</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a6e1357979538e0ffc511fa5f6d32cd5a">WebServer::addHandler</a>(<a class="code" href="classRequestHandler.html">RequestHandler</a>* handler) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classWebServer.html#a6918228c23636a6c63379fc394085c2c">_addRequestHandler</a>(handler);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="classWebServer.html#a6918228c23636a6c63379fc394085c2c">  264</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a6918228c23636a6c63379fc394085c2c">WebServer::_addRequestHandler</a>(<a class="code" href="classRequestHandler.html">RequestHandler</a>* handler) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classWebServer.html#ac0682705f6fc11263b40ebd2c7578199">_lastHandler</a>) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <a class="code" href="classWebServer.html#a80f32184979a9efed36f11a8d8007a1d">_firstHandler</a> = handler;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <a class="code" href="classWebServer.html#ac0682705f6fc11263b40ebd2c7578199">_lastHandler</a> = handler;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <a class="code" href="classWebServer.html#ac0682705f6fc11263b40ebd2c7578199">_lastHandler</a>-&gt;<a class="code" href="classRequestHandler.html#ac852f240320a76edadf7a6e622a086fc">next</a>(handler);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <a class="code" href="classWebServer.html#ac0682705f6fc11263b40ebd2c7578199">_lastHandler</a> = handler;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classWebServer.html#af0dce2bd7d030dabcd05485eeb44aeb8">  275</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#af0dce2bd7d030dabcd05485eeb44aeb8">WebServer::serveStatic</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classWebServer.html#affabd971e0f968030ad58255df24cc26">uri</a>, <a class="code" href="classfs_1_1FS.html">FS</a>&amp; <a class="code" href="namespacefs.html">fs</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="cJSON__Utils_8h.html#ac1a48d629d26c2b545b14e8394e83061">path</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* cache_header) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="classWebServer.html#a6918228c23636a6c63379fc394085c2c">_addRequestHandler</a>(<span class="keyword">new</span> <a class="code" href="classStaticRequestHandler.html">StaticRequestHandler</a>(<a class="code" href="namespacefs.html">fs</a>, <a class="code" href="cJSON__Utils_8h.html#ac1a48d629d26c2b545b14e8394e83061">path</a>, <a class="code" href="classWebServer.html#affabd971e0f968030ad58255df24cc26">uri</a>, cache_header));</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="classWebServer.html#a6e62f3eca13579224519716bf09ff30d">  279</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a6e62f3eca13579224519716bf09ff30d">WebServer::handleClient</a>() {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#a4c8e7b18e7aca41841e35563ab43694e">_currentStatus</a> == <a class="code" href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071caa56e3990f0e6fc6e0535e92183937076">HC_NONE</a>) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="classWiFiClient.html">WiFiClient</a> <a class="code" href="classWebServer.html#a41f2a1c71470012bf39f92859693380c">client</a> = <a class="code" href="classWebServer.html#a75b84cfa2ad1dc81e7b10c8442273d4d">_server</a>.<a class="code" href="classWiFiServer.html#abfd839b75fa3c40bd5e22c4a122ed800">available</a>();</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classWebServer.html#a41f2a1c71470012bf39f92859693380c">client</a>) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a>(<span class="stringliteral">&quot;New client&quot;</span>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="classWebServer.html#a5c2e0691d69968b897ef3bfd98eb8968">_currentClient</a> = <a class="code" href="classWebServer.html#a41f2a1c71470012bf39f92859693380c">client</a>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="classWebServer.html#a4c8e7b18e7aca41841e35563ab43694e">_currentStatus</a> = <a class="code" href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071cae7c2a9c2ff5060d65d33d8e73714a9c9">HC_WAIT_READ</a>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="classWebServer.html#a8ab086a1e3f7773f2a01bde66e2a725c">_statusChange</a> = <a class="code" href="esp32-hal-misc_8c.html#a54206d5e03939a99623bf51db4159120">millis</a>();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordtype">bool</span> keepCurrentClient = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordtype">bool</span> callYield = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#a5c2e0691d69968b897ef3bfd98eb8968">_currentClient</a>.<a class="code" href="classWiFiClient.html#aaf69c75c27d44c01484185e9306bd8da">connected</a>()) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classWebServer.html#a4c8e7b18e7aca41841e35563ab43694e">_currentStatus</a>) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071caa56e3990f0e6fc6e0535e92183937076">HC_NONE</a>:</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="comment">// No-op to avoid C++ compiler warning</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071cae7c2a9c2ff5060d65d33d8e73714a9c9">HC_WAIT_READ</a>:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="comment">// Wait for data from client to become available</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#a5c2e0691d69968b897ef3bfd98eb8968">_currentClient</a>.<a class="code" href="classWiFiClient.html#a027090f7f03b80180d23316cf2647cf8">available</a>()) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#ab29b93a184d203c6d4e3b2912bbc3ae4">_parseRequest</a>(<a class="code" href="classWebServer.html#a5c2e0691d69968b897ef3bfd98eb8968">_currentClient</a>)) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;          <span class="comment">// because HTTP_MAX_SEND_WAIT is expressed in milliseconds,</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;          <span class="comment">// it must be divided by 1000</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;          <a class="code" href="classWebServer.html#a5c2e0691d69968b897ef3bfd98eb8968">_currentClient</a>.<a class="code" href="classWiFiClient.html#a1a926102e5607f7c6c632503aa62b6e9">setTimeout</a>(<a class="code" href="WebServer_8h.html#a92026b49cc282bdd88e33290cd1ec806">HTTP_MAX_SEND_WAIT</a> / 1000);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;          <a class="code" href="classWebServer.html#a2244b04a5bfd2dd5423f0efcc1b6be1f">_contentLength</a> = <a class="code" href="WebServer_8h.html#a497db09f81590144bb1bf1f8d3cac661">CONTENT_LENGTH_NOT_SET</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;          <a class="code" href="classWebServer.html#a2b12fa813967e421f6b9e4f4387f6ad1">_handleRequest</a>();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#a5c2e0691d69968b897ef3bfd98eb8968">_currentClient</a>.<a class="code" href="classWiFiClient.html#aaf69c75c27d44c01484185e9306bd8da">connected</a>()) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <a class="code" href="classWebServer.html#a4c8e7b18e7aca41841e35563ab43694e">_currentStatus</a> = <a class="code" href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071ca9df94dedc2aefa197a7239c67a548180">HC_WAIT_CLOSE</a>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <a class="code" href="classWebServer.html#a8ab086a1e3f7773f2a01bde66e2a725c">_statusChange</a> = <a class="code" href="esp32-hal-misc_8c.html#a54206d5e03939a99623bf51db4159120">millis</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            keepCurrentClient = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;          }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">// !_currentClient.available()</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="esp32-hal-misc_8c.html#a54206d5e03939a99623bf51db4159120">millis</a>() - <a class="code" href="classWebServer.html#a8ab086a1e3f7773f2a01bde66e2a725c">_statusChange</a> &lt;= <a class="code" href="WebServer_8h.html#a4c6c24e8c7ff9fa32ed0fa66132b94ad">HTTP_MAX_DATA_WAIT</a>) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          keepCurrentClient = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        callYield = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071ca9df94dedc2aefa197a7239c67a548180">HC_WAIT_CLOSE</a>:</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="comment">// Wait for client to close the connection</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="esp32-hal-misc_8c.html#a54206d5e03939a99623bf51db4159120">millis</a>() - <a class="code" href="classWebServer.html#a8ab086a1e3f7773f2a01bde66e2a725c">_statusChange</a> &lt;= <a class="code" href="WebServer_8h.html#acc8c0df5cbbca874119d1164f5e31f62">HTTP_MAX_CLOSE_WAIT</a>) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        keepCurrentClient = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        callYield = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">if</span> (!keepCurrentClient) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="classWebServer.html#a5c2e0691d69968b897ef3bfd98eb8968">_currentClient</a> = <a class="code" href="classWiFiClient.html">WiFiClient</a>();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="classWebServer.html#a4c8e7b18e7aca41841e35563ab43694e">_currentStatus</a> = <a class="code" href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071caa56e3990f0e6fc6e0535e92183937076">HC_NONE</a>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="classWebServer.html#a0ce78ba180acb966e62a5048022d922b">_currentUpload</a>.reset();</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">if</span> (callYield) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="yield_8hpp.html#abaa9287233697b1cd0175180304c7e1d">yield</a>();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="classWebServer.html#adbc4c0b7276d5ff1d9491d27e59f2e11">  344</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#adbc4c0b7276d5ff1d9491d27e59f2e11">WebServer::close</a>() {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="classWebServer.html#a75b84cfa2ad1dc81e7b10c8442273d4d">_server</a>.<a class="code" href="classWiFiServer.html#acb118e420ed19bc3bc32d3c24d612697">close</a>();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="classWebServer.html#a4c8e7b18e7aca41841e35563ab43694e">_currentStatus</a> = <a class="code" href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071caa56e3990f0e6fc6e0535e92183937076">HC_NONE</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="classWebServer.html#ab1daac589f9c0b98b73e50e1a5b8bb8f">_headerKeysCount</a>)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="classWebServer.html#a855f53ab549dc477304cf267f48fea7e">collectHeaders</a>(0, 0);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classWebServer.html#ab432937d4b1c5d665653319e545292ab">  351</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#ab432937d4b1c5d665653319e545292ab">WebServer::stop</a>() {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <a class="code" href="classWebServer.html#adbc4c0b7276d5ff1d9491d27e59f2e11">close</a>();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">  355</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">WebServer::sendHeader</a>(<span class="keyword">const</span> String&amp; <a class="code" href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a>, <span class="keyword">const</span> String&amp; <a class="code" href="cJSON__Utils_8h.html#a0dff3c76a075649fa412b1c429ffe382">value</a>, <span class="keywordtype">bool</span> first) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  String headerLine = <a class="code" href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  headerLine += <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;: &quot;</span>);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  headerLine += <a class="code" href="cJSON__Utils_8h.html#a0dff3c76a075649fa412b1c429ffe382">value</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  headerLine += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">if</span> (first) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="classWebServer.html#a521b41b83dc4fd66958d45f123a5c056">_responseHeaders</a> = headerLine + <a class="code" href="classWebServer.html#a521b41b83dc4fd66958d45f123a5c056">_responseHeaders</a>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="classWebServer.html#a521b41b83dc4fd66958d45f123a5c056">_responseHeaders</a> += headerLine;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="classWebServer.html#afe9d062463e401ef70e84af66bbd0484">  369</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#afe9d062463e401ef70e84af66bbd0484">WebServer::setContentLength</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> contentLength) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="classWebServer.html#a2244b04a5bfd2dd5423f0efcc1b6be1f">_contentLength</a> = contentLength;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="classWebServer.html#ac183ba4f18c6ff825065d82eef256d46">  373</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#ac183ba4f18c6ff825065d82eef256d46">WebServer::enableCORS</a>(<span class="keywordtype">boolean</span> <a class="code" href="cJSON__Utils_8h.html#a0dff3c76a075649fa412b1c429ffe382">value</a>) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="classWebServer.html#a7f356699f76cf1996b7eab3cb90ee2b7">_corsEnabled</a> = <a class="code" href="cJSON__Utils_8h.html#a0dff3c76a075649fa412b1c429ffe382">value</a>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="classWebServer.html#a42a8ddb136af9578ab4283a791429e83">  377</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a42a8ddb136af9578ab4283a791429e83">WebServer::enableCrossOrigin</a>(<span class="keywordtype">boolean</span> <a class="code" href="cJSON__Utils_8h.html#a0dff3c76a075649fa412b1c429ffe382">value</a>) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <a class="code" href="classWebServer.html#ac183ba4f18c6ff825065d82eef256d46">enableCORS</a>(<a class="code" href="cJSON__Utils_8h.html#a0dff3c76a075649fa412b1c429ffe382">value</a>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="classWebServer.html#a1512278f0b88870023bbf4efadeb7036">  381</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a1512278f0b88870023bbf4efadeb7036">WebServer::_prepareHeader</a>(String&amp; response, <span class="keywordtype">int</span> <a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* content_type, <span class="keywordtype">size_t</span> contentLength) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    response = String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;HTTP/1.&quot;</span>)) + String(<a class="code" href="classWebServer.html#aa950c84656916d8426917db4857612e8">_currentVersion</a>) + <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    response += String(<a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    response += <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    response += <a class="code" href="classWebServer.html#a3c0e9bc00495af9545a42b46c139dddd">_responseCodeToString</a>(<a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    response += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keyword">using namespace </span><a class="code" href="namespacemime.html">mime</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> (!content_type)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        content_type = <a class="code" href="namespacemime.html#a2dc5e176cda9260c1c5661f4571a4451">mimeTable</a>[<a class="code" href="tag__strings_8h.html#a8f99bc655183db169e126fc155ceb631">html</a>].<a class="code" href="structmime_1_1Entry.html#aeda4201e69025f79ec9a38d3fd3b4852">mimeType</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">sendHeader</a>(String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Content-Type&quot;</span>)), String(FPSTR(content_type)), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#a2244b04a5bfd2dd5423f0efcc1b6be1f">_contentLength</a> == <a class="code" href="WebServer_8h.html#a497db09f81590144bb1bf1f8d3cac661">CONTENT_LENGTH_NOT_SET</a>) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">sendHeader</a>(String(FPSTR(Content_Length)), String(contentLength));</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#a2244b04a5bfd2dd5423f0efcc1b6be1f">_contentLength</a> != <a class="code" href="WebServer_8h.html#acdc8a6c73ec21484f00b429d696ebd33">CONTENT_LENGTH_UNKNOWN</a>) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">sendHeader</a>(String(FPSTR(Content_Length)), String(<a class="code" href="classWebServer.html#a2244b04a5bfd2dd5423f0efcc1b6be1f">_contentLength</a>));</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classWebServer.html#a2244b04a5bfd2dd5423f0efcc1b6be1f">_contentLength</a> == <a class="code" href="WebServer_8h.html#acdc8a6c73ec21484f00b429d696ebd33">CONTENT_LENGTH_UNKNOWN</a> &amp;&amp; <a class="code" href="classWebServer.html#aa950c84656916d8426917db4857612e8">_currentVersion</a>){ <span class="comment">//HTTP/1.1 or above client</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="comment">//let&#39;s do chunked</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <a class="code" href="classWebServer.html#a945e23d0d055445ee319ce7f34041586">_chunked</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <a class="code" href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">sendHeader</a>(String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Accept-Ranges&quot;</span>)),String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;none&quot;</span>)));</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <a class="code" href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">sendHeader</a>(String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Transfer-Encoding&quot;</span>)),String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;chunked&quot;</span>)));</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#a7f356699f76cf1996b7eab3cb90ee2b7">_corsEnabled</a>) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">sendHeader</a>(String(FPSTR(<span class="stringliteral">&quot;Access-Control-Allow-Origin&quot;</span>)), String(<span class="stringliteral">&quot;*&quot;</span>));</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">sendHeader</a>(String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Connection&quot;</span>)), String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;close&quot;</span>)));</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    response += <a class="code" href="classWebServer.html#a521b41b83dc4fd66958d45f123a5c056">_responseHeaders</a>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    response += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="classWebServer.html#a521b41b83dc4fd66958d45f123a5c056">_responseHeaders</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="classWebServer.html#a8a9c406ba711b7b5dc249008a7808ab4">  413</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a8a9c406ba711b7b5dc249008a7808ab4">WebServer::send</a>(<span class="keywordtype">int</span> <a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* content_type, <span class="keyword">const</span> String&amp; content) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    String <a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">header</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// Can we asume the following?</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">//if(code == 200 &amp;&amp; content.length() == 0 &amp;&amp; _contentLength == CONTENT_LENGTH_NOT_SET)</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">//  _contentLength = CONTENT_LENGTH_UNKNOWN;</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="classWebServer.html#a1512278f0b88870023bbf4efadeb7036">_prepareHeader</a>(<a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">header</a>, <a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>, content_type, content.length());</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="classWebServer.html#a2a82a9ea3235db740184640b524a4203">_currentClientWrite</a>(<a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">header</a>.c_str(), <a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">header</a>.length());</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">if</span>(content.length())</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <a class="code" href="classWebServer.html#a3f429916947d85852013696cb97e5897">sendContent</a>(content);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="classWebServer.html#ae94d8af4a5b0d20ff36bc221f00a2be5">  424</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#ae94d8af4a5b0d20ff36bc221f00a2be5">WebServer::send_P</a>(<span class="keywordtype">int</span> <a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>, <a class="code" href="pgmspace_8h.html#a963f816fc88a5d8479c285ed4c630229">PGM_P</a> content_type, <a class="code" href="pgmspace_8h.html#a963f816fc88a5d8479c285ed4c630229">PGM_P</a> content) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordtype">size_t</span> contentLength = 0;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">if</span> (content != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        contentLength = <a class="code" href="pgmspace_8h.html#a05dde754db9944c90362c1f861d358ba">strlen_P</a>(content);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    String <a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">header</a>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="namespacemime.html#acc229cb4011c47f78489364eabf9debd">type</a>[64];</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="pgmspace_8h.html#a42ac09f1c2a347f99082c3f88f55e656">memccpy_P</a>((<span class="keywordtype">void</span>*)<a class="code" href="namespacemime.html#acc229cb4011c47f78489364eabf9debd">type</a>, (<a class="code" href="pgmspace_8h.html#a84a61d55b7efefabd8419e28f02704f9">PGM_VOID_P</a>)content_type, 0, <span class="keyword">sizeof</span>(<a class="code" href="namespacemime.html#acc229cb4011c47f78489364eabf9debd">type</a>));</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="classWebServer.html#a1512278f0b88870023bbf4efadeb7036">_prepareHeader</a>(<a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">header</a>, <a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span>* )<a class="code" href="namespacemime.html#acc229cb4011c47f78489364eabf9debd">type</a>, contentLength);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="classWebServer.html#a2a82a9ea3235db740184640b524a4203">_currentClientWrite</a>(<a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">header</a>.c_str(), <a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">header</a>.length());</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="classWebServer.html#ae98cf78ae646b788abb449456b0a1e68">sendContent_P</a>(content);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="classWebServer.html#a9de9030be5f8ba722b44dbfc576fa3cc">  439</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#ae94d8af4a5b0d20ff36bc221f00a2be5">WebServer::send_P</a>(<span class="keywordtype">int</span> <a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>, <a class="code" href="pgmspace_8h.html#a963f816fc88a5d8479c285ed4c630229">PGM_P</a> content_type, <a class="code" href="pgmspace_8h.html#a963f816fc88a5d8479c285ed4c630229">PGM_P</a> content, <span class="keywordtype">size_t</span> contentLength) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    String <a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">header</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="namespacemime.html#acc229cb4011c47f78489364eabf9debd">type</a>[64];</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="pgmspace_8h.html#a42ac09f1c2a347f99082c3f88f55e656">memccpy_P</a>((<span class="keywordtype">void</span>*)<a class="code" href="namespacemime.html#acc229cb4011c47f78489364eabf9debd">type</a>, (<a class="code" href="pgmspace_8h.html#a84a61d55b7efefabd8419e28f02704f9">PGM_VOID_P</a>)content_type, 0, <span class="keyword">sizeof</span>(<a class="code" href="namespacemime.html#acc229cb4011c47f78489364eabf9debd">type</a>));</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="classWebServer.html#a1512278f0b88870023bbf4efadeb7036">_prepareHeader</a>(<a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">header</a>, <a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span>* )<a class="code" href="namespacemime.html#acc229cb4011c47f78489364eabf9debd">type</a>, contentLength);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="classWebServer.html#a3f429916947d85852013696cb97e5897">sendContent</a>(<a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">header</a>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="classWebServer.html#ae98cf78ae646b788abb449456b0a1e68">sendContent_P</a>(content, contentLength);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;}</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="classWebServer.html#ad91c327f6dc23c0f9072ad2ad629b5b0">  448</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a8a9c406ba711b7b5dc249008a7808ab4">WebServer::send</a>(<span class="keywordtype">int</span> <a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>, <span class="keywordtype">char</span>* content_type, <span class="keyword">const</span> String&amp; content) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <a class="code" href="classWebServer.html#a8a9c406ba711b7b5dc249008a7808ab4">send</a>(<a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)content_type, content);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="classWebServer.html#a30d97b743f8bc6747ffe6265fd24fb55">  452</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a8a9c406ba711b7b5dc249008a7808ab4">WebServer::send</a>(<span class="keywordtype">int</span> <a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>, <span class="keyword">const</span> String&amp; content_type, <span class="keyword">const</span> String&amp; content) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <a class="code" href="classWebServer.html#a8a9c406ba711b7b5dc249008a7808ab4">send</a>(<a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)content_type.c_str(), content);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="classWebServer.html#a3f429916947d85852013696cb97e5897">  456</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a3f429916947d85852013696cb97e5897">WebServer::sendContent</a>(<span class="keyword">const</span> String&amp; content) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="tag__strings_8h.html#ac7cc32a9cfdf8f693f4e066681ce5cc6">footer</a> = <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordtype">size_t</span> len = content.length();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classWebServer.html#a945e23d0d055445ee319ce7f34041586">_chunked</a>) {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordtype">char</span> * chunkSize = (<span class="keywordtype">char</span> *)<a class="code" href="unity__fixture__malloc__overrides_8h.html#acf143577800376dd931c059ecc61ba06">malloc</a>(11);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span>(chunkSize){</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      sprintf(chunkSize, <span class="stringliteral">&quot;%x%s&quot;</span>, len, <a class="code" href="tag__strings_8h.html#ac7cc32a9cfdf8f693f4e066681ce5cc6">footer</a>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <a class="code" href="classWebServer.html#a2a82a9ea3235db740184640b524a4203">_currentClientWrite</a>(chunkSize, strlen(chunkSize));</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <a class="code" href="RPSL_8txt.html#ae227cfd33a5880ffce840d383c2fbff3">free</a>(chunkSize);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <a class="code" href="classWebServer.html#a2a82a9ea3235db740184640b524a4203">_currentClientWrite</a>(content.c_str(), len);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classWebServer.html#a945e23d0d055445ee319ce7f34041586">_chunked</a>){</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="classWebServer.html#a5c2e0691d69968b897ef3bfd98eb8968">_currentClient</a>.<a class="code" href="classWiFiClient.html#ab3a1b37f3b9df62b17592bad36080072">write</a>(<a class="code" href="tag__strings_8h.html#ac7cc32a9cfdf8f693f4e066681ce5cc6">footer</a>, 2);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> (len == 0) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <a class="code" href="classWebServer.html#a945e23d0d055445ee319ce7f34041586">_chunked</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="classWebServer.html#ae98cf78ae646b788abb449456b0a1e68">  476</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#ae98cf78ae646b788abb449456b0a1e68">WebServer::sendContent_P</a>(<a class="code" href="pgmspace_8h.html#a963f816fc88a5d8479c285ed4c630229">PGM_P</a> content) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <a class="code" href="classWebServer.html#ae98cf78ae646b788abb449456b0a1e68">sendContent_P</a>(content, <a class="code" href="pgmspace_8h.html#a05dde754db9944c90362c1f861d358ba">strlen_P</a>(content));</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="classWebServer.html#ae4eceb1e41ca173c347fc52cefe24101">  480</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#ae98cf78ae646b788abb449456b0a1e68">WebServer::sendContent_P</a>(<a class="code" href="pgmspace_8h.html#a963f816fc88a5d8479c285ed4c630229">PGM_P</a> content, <span class="keywordtype">size_t</span> <a class="code" href="cacheasm_8h.html#a296a4dfa224096b538c66a9bab58cb9e">size</a>) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="tag__strings_8h.html#ac7cc32a9cfdf8f693f4e066681ce5cc6">footer</a> = <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classWebServer.html#a945e23d0d055445ee319ce7f34041586">_chunked</a>) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordtype">char</span> * chunkSize = (<span class="keywordtype">char</span> *)<a class="code" href="unity__fixture__malloc__overrides_8h.html#acf143577800376dd931c059ecc61ba06">malloc</a>(11);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span>(chunkSize){</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      sprintf(chunkSize, <span class="stringliteral">&quot;%x%s&quot;</span>, <a class="code" href="cacheasm_8h.html#a296a4dfa224096b538c66a9bab58cb9e">size</a>, <a class="code" href="tag__strings_8h.html#ac7cc32a9cfdf8f693f4e066681ce5cc6">footer</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <a class="code" href="classWebServer.html#a2a82a9ea3235db740184640b524a4203">_currentClientWrite</a>(chunkSize, strlen(chunkSize));</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <a class="code" href="RPSL_8txt.html#ae227cfd33a5880ffce840d383c2fbff3">free</a>(chunkSize);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <a class="code" href="classWebServer.html#a5fe3bd264b6dcbc2bd84f23b80cea8ba">_currentClientWrite_P</a>(content, <a class="code" href="cacheasm_8h.html#a296a4dfa224096b538c66a9bab58cb9e">size</a>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classWebServer.html#a945e23d0d055445ee319ce7f34041586">_chunked</a>){</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="classWebServer.html#a5c2e0691d69968b897ef3bfd98eb8968">_currentClient</a>.<a class="code" href="classWiFiClient.html#ab3a1b37f3b9df62b17592bad36080072">write</a>(<a class="code" href="tag__strings_8h.html#ac7cc32a9cfdf8f693f4e066681ce5cc6">footer</a>, 2);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cacheasm_8h.html#a296a4dfa224096b538c66a9bab58cb9e">size</a> == 0) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <a class="code" href="classWebServer.html#a945e23d0d055445ee319ce7f34041586">_chunked</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="classWebServer.html#a1998442c1aadb4b8a71366f1a6976784">  500</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a1998442c1aadb4b8a71366f1a6976784">WebServer::_streamFileCore</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="FatStructs_8h.html#a48f46ad02b77a00b795d15626ba1d42e">fileSize</a>, <span class="keyword">const</span> String &amp; fileName, <span class="keyword">const</span> String &amp; contentType)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;{</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keyword">using namespace </span><a class="code" href="namespacemime.html">mime</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="classWebServer.html#afe9d062463e401ef70e84af66bbd0484">setContentLength</a>(<a class="code" href="FatStructs_8h.html#a48f46ad02b77a00b795d15626ba1d42e">fileSize</a>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">if</span> (fileName.endsWith(String(FPSTR(<a class="code" href="namespacemime.html#a2dc5e176cda9260c1c5661f4571a4451">mimeTable</a>[<a class="code" href="namespacemime.html#acc229cb4011c47f78489364eabf9debda7d922b1005617b62027a5acd9759e367">gz</a>].endsWith))) &amp;&amp;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      contentType != String(FPSTR(<a class="code" href="namespacemime.html#a2dc5e176cda9260c1c5661f4571a4451">mimeTable</a>[<a class="code" href="namespacemime.html#acc229cb4011c47f78489364eabf9debda7d922b1005617b62027a5acd9759e367">gz</a>].mimeType)) &amp;&amp;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      contentType != String(FPSTR(<a class="code" href="namespacemime.html#a2dc5e176cda9260c1c5661f4571a4451">mimeTable</a>[<a class="code" href="namespacemime.html#acc229cb4011c47f78489364eabf9debdada0d9e093d4c12f51ac06fcb35ea4b1e">none</a>].mimeType))) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">sendHeader</a>(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Content-Encoding&quot;</span>), <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;gzip&quot;</span>));</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <a class="code" href="classWebServer.html#a8a9c406ba711b7b5dc249008a7808ab4">send</a>(200, contentType, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="classWebServer.html#a7427983de57e35b4eaa3804e5ee3367b">  512</a></span>&#160;String <a class="code" href="classWebServer.html#a7427983de57e35b4eaa3804e5ee3367b">WebServer::pathArg</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#a1766cc4ed507c8941bcf66525be5edb7">_currentHandler</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWebServer.html#a1766cc4ed507c8941bcf66525be5edb7">_currentHandler</a>-&gt;<a class="code" href="classRequestHandler.html#ae24a4be80652ed56c72edfff9bc7a6eb">pathArg</a>(<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="classWebServer.html#aa5936c3e5374419bd9eb2673c42dbb3d">  518</a></span>&#160;String <a class="code" href="classWebServer.html#aa5936c3e5374419bd9eb2673c42dbb3d">WebServer::arg</a>(String <a class="code" href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a>) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="classWebServer.html#ac5fad20fdb3ca2d1519e569abcc5a2b0">_postArgsLen</a>; ++j) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="classWebServer.html#a07a0ee0c998465262981e58527705c86">_postArgs</a>[j].key == <a class="code" href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a> )</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classWebServer.html#a07a0ee0c998465262981e58527705c86">_postArgs</a>[j].<a class="code" href="structWebServer_1_1RequestArgument.html#a2c0608809e0ffe11c085746c5a6fcd47">value</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classWebServer.html#ae4bbb3971f72765638b2f1a0b88327b6">_currentArgCount</a>; ++<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classWebServer.html#a2c0e244bee136cecf881f4c5ce05abdf">_currentArgs</a>[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].key == <a class="code" href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a> )</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classWebServer.html#a2c0e244bee136cecf881f4c5ce05abdf">_currentArgs</a>[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structWebServer_1_1RequestArgument.html#a2c0608809e0ffe11c085746c5a6fcd47">value</a>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="classWebServer.html#a0daa826528a9e1eefe16fcce5efb97e2">  530</a></span>&#160;String <a class="code" href="classWebServer.html#aa5936c3e5374419bd9eb2673c42dbb3d">WebServer::arg</a>(<span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classWebServer.html#ae4bbb3971f72765638b2f1a0b88327b6">_currentArgCount</a>)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWebServer.html#a2c0e244bee136cecf881f4c5ce05abdf">_currentArgs</a>[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structWebServer_1_1RequestArgument.html#a2c0608809e0ffe11c085746c5a6fcd47">value</a>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="classWebServer.html#a603a36ebdef0be718346dc4513c7bb17">  536</a></span>&#160;String <a class="code" href="classWebServer.html#a603a36ebdef0be718346dc4513c7bb17">WebServer::argName</a>(<span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classWebServer.html#ae4bbb3971f72765638b2f1a0b88327b6">_currentArgCount</a>)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWebServer.html#a2c0e244bee136cecf881f4c5ce05abdf">_currentArgs</a>[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structWebServer_1_1RequestArgument.html#a5a24711d87ac6e3a73a8f5c2e265f3d1">key</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="classWebServer.html#a02083cf8e377f658bf6ef55f233bb7a5">  542</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classWebServer.html#a02083cf8e377f658bf6ef55f233bb7a5">WebServer::args</a>() {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWebServer.html#ae4bbb3971f72765638b2f1a0b88327b6">_currentArgCount</a>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;}</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="classWebServer.html#aa676d2b19f5cb1cd0e363834d8f74234">  546</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classWebServer.html#aa676d2b19f5cb1cd0e363834d8f74234">WebServer::hasArg</a>(String  <a class="code" href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a>) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="classWebServer.html#ac5fad20fdb3ca2d1519e569abcc5a2b0">_postArgsLen</a>; ++j) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#a07a0ee0c998465262981e58527705c86">_postArgs</a>[j].key == <a class="code" href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a>)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classWebServer.html#ae4bbb3971f72765638b2f1a0b88327b6">_currentArgCount</a>; ++<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#a2c0e244bee136cecf881f4c5ce05abdf">_currentArgs</a>[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].key == <a class="code" href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a>)</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;}</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">  559</a></span>&#160;String <a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">WebServer::header</a>(String <a class="code" href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a>) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classWebServer.html#ab1daac589f9c0b98b73e50e1a5b8bb8f">_headerKeysCount</a>; ++<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a>[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].key.equalsIgnoreCase(<a class="code" href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a>))</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a>[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structWebServer_1_1RequestArgument.html#a2c0608809e0ffe11c085746c5a6fcd47">value</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;}</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="classWebServer.html#a855f53ab549dc477304cf267f48fea7e">  567</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a855f53ab549dc477304cf267f48fea7e">WebServer::collectHeaders</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* headerKeys[], <span class="keyword">const</span> <span class="keywordtype">size_t</span> headerKeysCount) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <a class="code" href="classWebServer.html#ab1daac589f9c0b98b73e50e1a5b8bb8f">_headerKeysCount</a> = headerKeysCount + 1;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a>)</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;     <span class="keyword">delete</span>[]<a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a> = <span class="keyword">new</span> <a class="code" href="structWebServer_1_1RequestArgument.html">RequestArgument</a>[<a class="code" href="classWebServer.html#ab1daac589f9c0b98b73e50e1a5b8bb8f">_headerKeysCount</a>];</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a>[0].<a class="code" href="structWebServer_1_1RequestArgument.html#a5a24711d87ac6e3a73a8f5c2e265f3d1">key</a> = FPSTR(AUTHORIZATION_HEADER);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classWebServer.html#ab1daac589f9c0b98b73e50e1a5b8bb8f">_headerKeysCount</a>; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++){</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a>[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structWebServer_1_1RequestArgument.html#a5a24711d87ac6e3a73a8f5c2e265f3d1">key</a> = headerKeys[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>-1];</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="classWebServer.html#ab92683b0481876236f7bdc408587d202">  578</a></span>&#160;String <a class="code" href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">WebServer::header</a>(<span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classWebServer.html#ab1daac589f9c0b98b73e50e1a5b8bb8f">_headerKeysCount</a>)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a>[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structWebServer_1_1RequestArgument.html#a2c0608809e0ffe11c085746c5a6fcd47">value</a>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="classWebServer.html#a001270ad26bb63ed4b8f72ce51fcc500">  584</a></span>&#160;String <a class="code" href="classWebServer.html#a001270ad26bb63ed4b8f72ce51fcc500">WebServer::headerName</a>(<span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classWebServer.html#ab1daac589f9c0b98b73e50e1a5b8bb8f">_headerKeysCount</a>)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a>[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structWebServer_1_1RequestArgument.html#a5a24711d87ac6e3a73a8f5c2e265f3d1">key</a>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;}</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="classWebServer.html#a0eeac72ee5f63b3f52037efe0f721225">  590</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classWebServer.html#a0eeac72ee5f63b3f52037efe0f721225">WebServer::headers</a>() {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWebServer.html#ab1daac589f9c0b98b73e50e1a5b8bb8f">_headerKeysCount</a>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="classWebServer.html#a0cb11e97e0dad8f6b210f59d44f5c986">  594</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classWebServer.html#a0cb11e97e0dad8f6b210f59d44f5c986">WebServer::hasHeader</a>(String <a class="code" href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a>) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classWebServer.html#ab1daac589f9c0b98b73e50e1a5b8bb8f">_headerKeysCount</a>; ++<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a>[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].key.equalsIgnoreCase(<a class="code" href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a>)) &amp;&amp;  (<a class="code" href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">_currentHeaders</a>[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structWebServer_1_1RequestArgument.html#a2c0608809e0ffe11c085746c5a6fcd47">value</a>.length() &gt; 0))</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="classWebServer.html#a4a82eb57b2dcd5dcd4c806b18b1c3ade">  602</a></span>&#160;String <a class="code" href="classWebServer.html#a4a82eb57b2dcd5dcd4c806b18b1c3ade">WebServer::hostHeader</a>() {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWebServer.html#af4c1f393802903ad63423532cda7fd8f">_hostHeader</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="classWebServer.html#ae593f5390da37bdf6028a0e68453b247">  606</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#ae593f5390da37bdf6028a0e68453b247">WebServer::onFileUpload</a>(<a class="code" href="classWebServer.html#afee027a40053c7ef771a354526d48f7a">THandlerFunction</a> fn) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <a class="code" href="classWebServer.html#abe9b677fe60050fd3f1efaff4ea20c13">_fileUploadHandler</a> = fn;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno"><a class="line" href="classWebServer.html#a97462d440969cc0e23a7aed22710f8fb">  610</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a97462d440969cc0e23a7aed22710f8fb">WebServer::onNotFound</a>(<a class="code" href="classWebServer.html#afee027a40053c7ef771a354526d48f7a">THandlerFunction</a> fn) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <a class="code" href="classWebServer.html#abee46c86c680bb5f3d012b39b313aa9c">_notFoundHandler</a> = fn;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="classWebServer.html#a2b12fa813967e421f6b9e4f4387f6ad1">  614</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a2b12fa813967e421f6b9e4f4387f6ad1">WebServer::_handleRequest</a>() {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordtype">bool</span> handled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classWebServer.html#a1766cc4ed507c8941bcf66525be5edb7">_currentHandler</a>){</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;request handler not found&quot;</span>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    handled = <a class="code" href="classWebServer.html#a1766cc4ed507c8941bcf66525be5edb7">_currentHandler</a>-&gt;<a class="code" href="classRequestHandler.html#ad35a4698ad028dfa8f7e3b74fb4deeb1">handle</a>(*<span class="keyword">this</span>, <a class="code" href="classWebServer.html#a4b06a724fa81796290da8edf6b4b53f3">_currentMethod</a>, <a class="code" href="classWebServer.html#a4f546e9bb9e4caa176dc3c993a4a606b">_currentUri</a>);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">if</span> (!handled) {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;request handler failed to handle request&quot;</span>);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordflow">if</span> (!handled &amp;&amp; <a class="code" href="classWebServer.html#abee46c86c680bb5f3d012b39b313aa9c">_notFoundHandler</a>) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="classWebServer.html#abee46c86c680bb5f3d012b39b313aa9c">_notFoundHandler</a>();</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    handled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">if</span> (!handled) {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keyword">using namespace </span><a class="code" href="namespacemime.html">mime</a>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <a class="code" href="classWebServer.html#a8a9c406ba711b7b5dc249008a7808ab4">send</a>(404, String(FPSTR(<a class="code" href="namespacemime.html#a2dc5e176cda9260c1c5661f4571a4451">mimeTable</a>[<a class="code" href="tag__strings_8h.html#a8f99bc655183db169e126fc155ceb631">html</a>].mimeType)), String(<a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Not found: &quot;</span>)) + <a class="code" href="classWebServer.html#a4f546e9bb9e4caa176dc3c993a4a606b">_currentUri</a>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    handled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordflow">if</span> (handled) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="classWebServer.html#a3907e8af7c5e65728b7bbdfca744f689">_finalizeResponse</a>();</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="classWebServer.html#a4f546e9bb9e4caa176dc3c993a4a606b">_currentUri</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;}</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="classWebServer.html#a3907e8af7c5e65728b7bbdfca744f689">  641</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWebServer.html#a3907e8af7c5e65728b7bbdfca744f689">WebServer::_finalizeResponse</a>() {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWebServer.html#a945e23d0d055445ee319ce7f34041586">_chunked</a>) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="classWebServer.html#a3f429916947d85852013696cb97e5897">sendContent</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;}</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="classWebServer.html#a3c0e9bc00495af9545a42b46c139dddd">  647</a></span>&#160;String <a class="code" href="classWebServer.html#a3c0e9bc00495af9545a42b46c139dddd">WebServer::_responseCodeToString</a>(<span class="keywordtype">int</span> <a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a>) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">case</span> 100: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Continue&quot;</span>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">case</span> 101: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Switching Protocols&quot;</span>);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">case</span> 200: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;OK&quot;</span>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">case</span> 201: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Created&quot;</span>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">case</span> 202: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Accepted&quot;</span>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">case</span> 203: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Non-Authoritative Information&quot;</span>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">case</span> 204: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;No Content&quot;</span>);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">case</span> 205: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Reset Content&quot;</span>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">case</span> 206: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Partial Content&quot;</span>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">case</span> 300: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Multiple Choices&quot;</span>);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">case</span> 301: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Moved Permanently&quot;</span>);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">case</span> 302: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Found&quot;</span>);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">case</span> 303: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;See Other&quot;</span>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">case</span> 304: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Not Modified&quot;</span>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">case</span> 305: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Use Proxy&quot;</span>);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">case</span> 307: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Temporary Redirect&quot;</span>);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">case</span> 400: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Bad Request&quot;</span>);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">case</span> 401: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Unauthorized&quot;</span>);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">case</span> 402: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Payment Required&quot;</span>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">case</span> 403: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Forbidden&quot;</span>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">case</span> 404: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Not Found&quot;</span>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">case</span> 405: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Method Not Allowed&quot;</span>);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">case</span> 406: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Not Acceptable&quot;</span>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">case</span> 407: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Proxy Authentication Required&quot;</span>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">case</span> 408: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Request Time-out&quot;</span>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">case</span> 409: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Conflict&quot;</span>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">case</span> 410: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Gone&quot;</span>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">case</span> 411: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Length Required&quot;</span>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">case</span> 412: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Precondition Failed&quot;</span>);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">case</span> 413: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Request Entity Too Large&quot;</span>);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">case</span> 414: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Request-URI Too Large&quot;</span>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">case</span> 415: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Unsupported Media Type&quot;</span>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">case</span> 416: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Requested range not satisfiable&quot;</span>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">case</span> 417: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Expectation Failed&quot;</span>);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">case</span> 500: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Internal Server Error&quot;</span>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">case</span> 501: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Not Implemented&quot;</span>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">case</span> 502: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Bad Gateway&quot;</span>);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">case</span> 503: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Service Unavailable&quot;</span>);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">case</span> 504: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;Gateway Time-out&quot;</span>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">case</span> 505: <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;HTTP Version not supported&quot;</span>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">default</span>:  <span class="keywordflow">return</span> <a class="code" href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassRequestHandler_html_ad35a4698ad028dfa8f7e3b74fb4deeb1"><div class="ttname"><a href="classRequestHandler.html#ad35a4698ad028dfa8f7e3b74fb4deeb1">RequestHandler::handle</a></div><div class="ttdeci">virtual bool handle(WebServer &amp;server, HTTPMethod requestMethod, String requestUri)</div><div class="ttdef"><b>Definition:</b> <a href="RequestHandler_8h_source.html#l00012">RequestHandler.h:12</a></div></div>
<div class="ttc" id="aArduino_8h_html"><div class="ttname"><a href="Arduino_8h.html">Arduino.h</a></div></div>
<div class="ttc" id="astructmbedtls__md5__context_html"><div class="ttname"><a href="structmbedtls__md5__context.html">mbedtls_md5_context</a></div><div class="ttdoc">MD5 context structure.</div><div class="ttdef"><b>Definition:</b> <a href="components_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h_source.html#l00059">md5.h:60</a></div></div>
<div class="ttc" id="aclassWebServer_html_a6918228c23636a6c63379fc394085c2c"><div class="ttname"><a href="classWebServer.html#a6918228c23636a6c63379fc394085c2c">WebServer::_addRequestHandler</a></div><div class="ttdeci">void _addRequestHandler(RequestHandler *handler)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00264">WebServer.cpp:264</a></div></div>
<div class="ttc" id="atag__strings_8h_html_a8f99bc655183db169e126fc155ceb631"><div class="ttname"><a href="tag__strings_8h.html#a8f99bc655183db169e126fc155ceb631">html</a></div><div class="ttdeci">html</div><div class="ttdef"><b>Definition:</b> <a href="tag__strings_8h_source.html#l00004">tag_strings.h:4</a></div></div>
<div class="ttc" id="aclassWebServer_html_a855f53ab549dc477304cf267f48fea7e"><div class="ttname"><a href="classWebServer.html#a855f53ab549dc477304cf267f48fea7e">WebServer::collectHeaders</a></div><div class="ttdeci">void collectHeaders(const char *headerKeys[], const size_t headerKeysCount)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00567">WebServer.cpp:567</a></div></div>
<div class="ttc" id="aclassWebServer_html_ab432937d4b1c5d665653319e545292ab"><div class="ttname"><a href="classWebServer.html#ab432937d4b1c5d665653319e545292ab">WebServer::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00351">WebServer.cpp:351</a></div></div>
<div class="ttc" id="aWebServer_8h_html_ab9969c3bea58c96ec7f20361de2f071cae7c2a9c2ff5060d65d33d8e73714a9c9"><div class="ttname"><a href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071cae7c2a9c2ff5060d65d33d8e73714a9c9">HC_WAIT_READ</a></div><div class="ttdeci">@ HC_WAIT_READ</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00035">WebServer.h:35</a></div></div>
<div class="ttc" id="aesp32-hal-log_8h_html_a925f3f2d10368d16506845d280b1b7a1"><div class="ttname"><a href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a></div><div class="ttdeci">#define log_v(format,...)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-log_8h_source.html#l00085">esp32-hal-log.h:84</a></div></div>
<div class="ttc" id="acacheasm_8h_html_afe5809c047748d9483eda9b50b962ff1"><div class="ttname"><a href="cacheasm_8h.html#afe5809c047748d9483eda9b50b962ff1">addr</a></div><div class="ttdeci">endr Lperloop blti Lstart_memw memw movi Lperloop *linesize bltu Lstart_cachex endif endm macro cache_hit_region addr</div><div class="ttdef"><b>Definition:</b> <a href="cacheasm_8h_source.html#l00245">cacheasm.h:245</a></div></div>
<div class="ttc" id="astdint_8h_html_a281b4b5562236420969a830503b0ba19"><div class="ttname"><a href="stdint_8h.html#a281b4b5562236420969a830503b0ba19">uint16_t</a></div><div class="ttdeci">__uint16_t uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00033">stdint.h:33</a></div></div>
<div class="ttc" id="aclassWebServer_html_a7427983de57e35b4eaa3804e5ee3367b"><div class="ttname"><a href="classWebServer.html#a7427983de57e35b4eaa3804e5ee3367b">WebServer::pathArg</a></div><div class="ttdeci">String pathArg(unsigned int i)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00512">WebServer.cpp:512</a></div></div>
<div class="ttc" id="aclassWebServer_html_a41f2a1c71470012bf39f92859693380c"><div class="ttname"><a href="classWebServer.html#a41f2a1c71470012bf39f92859693380c">WebServer::client</a></div><div class="ttdeci">virtual WiFiClient client()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00098">WebServer.h:98</a></div></div>
<div class="ttc" id="aclassWebServer_html_a0eeac72ee5f63b3f52037efe0f721225"><div class="ttname"><a href="classWebServer.html#a0eeac72ee5f63b3f52037efe0f721225">WebServer::headers</a></div><div class="ttdeci">int headers()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00590">WebServer.cpp:590</a></div></div>
<div class="ttc" id="aSysCall_8h_html_a0e3009529aac180ed5f48296d6670d6b"><div class="ttname"><a href="SysCall_8h.html#a0e3009529aac180ed5f48296d6670d6b">F</a></div><div class="ttdeci">#define F(str)</div><div class="ttdef"><b>Definition:</b> <a href="SysCall_8h_source.html#l00048">SysCall.h:47</a></div></div>
<div class="ttc" id="aclassRequestHandler_html"><div class="ttname"><a href="classRequestHandler.html">RequestHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="RequestHandler_8h_source.html#l00007">RequestHandler.h:7</a></div></div>
<div class="ttc" id="aclassWebServer_html_a0ce78ba180acb966e62a5048022d922b"><div class="ttname"><a href="classWebServer.html#a0ce78ba180acb966e62a5048022d922b">WebServer::_currentUpload</a></div><div class="ttdeci">std::unique_ptr&lt; HTTPUpload &gt; _currentUpload</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00191">WebServer.h:191</a></div></div>
<div class="ttc" id="aclassWiFiServer_html_a2cec2d40cd743167dc70f9990b04655f"><div class="ttname"><a href="classWiFiServer.html#a2cec2d40cd743167dc70f9990b04655f">WiFiServer::setNoDelay</a></div><div class="ttdeci">void setNoDelay(bool nodelay)</div><div class="ttdef"><b>Definition:</b> <a href="WiFiServer_8cpp_source.html#l00088">WiFiServer.cpp:88</a></div></div>
<div class="ttc" id="aclassWebServer_html_af0dce2bd7d030dabcd05485eeb44aeb8"><div class="ttname"><a href="classWebServer.html#af0dce2bd7d030dabcd05485eeb44aeb8">WebServer::serveStatic</a></div><div class="ttdeci">void serveStatic(const char *uri, fs::FS &amp;fs, const char *path, const char *cache_header=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00275">WebServer.cpp:275</a></div></div>
<div class="ttc" id="aWebServer_8h_html_ab9969c3bea58c96ec7f20361de2f071ca9df94dedc2aefa197a7239c67a548180"><div class="ttname"><a href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071ca9df94dedc2aefa197a7239c67a548180">HC_WAIT_CLOSE</a></div><div class="ttdeci">@ HC_WAIT_CLOSE</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00035">WebServer.h:35</a></div></div>
<div class="ttc" id="aclassStaticRequestHandler_html"><div class="ttname"><a href="classStaticRequestHandler.html">StaticRequestHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="RequestHandlersImpl_8h_source.html#l00063">RequestHandlersImpl.h:63</a></div></div>
<div class="ttc" id="aclassWebServer_html_a2b12fa813967e421f6b9e4f4387f6ad1"><div class="ttname"><a href="classWebServer.html#a2b12fa813967e421f6b9e4f4387f6ad1">WebServer::_handleRequest</a></div><div class="ttdeci">void _handleRequest()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00614">WebServer.cpp:614</a></div></div>
<div class="ttc" id="anamespaceimageconverter_html_ad3438e03b181aa0c715d45f0bf88922b"><div class="ttname"><a href="namespaceimageconverter.html#ad3438e03b181aa0c715d45f0bf88922b">imageconverter.out</a></div><div class="ttdeci">out</div><div class="ttdef"><b>Definition:</b> <a href="imageconverter_8py_source.html#l00015">imageconverter.py:15</a></div></div>
<div class="ttc" id="aclassWebServer_html_a2a82a9ea3235db740184640b524a4203"><div class="ttname"><a href="classWebServer.html#a2a82a9ea3235db740184640b524a4203">WebServer::_currentClientWrite</a></div><div class="ttdeci">virtual size_t _currentClientWrite(const char *b, size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00144">WebServer.h:144</a></div></div>
<div class="ttc" id="anamespacemime_html_acc229cb4011c47f78489364eabf9debd"><div class="ttname"><a href="namespacemime.html#acc229cb4011c47f78489364eabf9debd">mime::type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> <a href="mimetable_8h_source.html#l00008">mimetable.h:9</a></div></div>
<div class="ttc" id="aclassWebServer_html_a7f356699f76cf1996b7eab3cb90ee2b7"><div class="ttname"><a href="classWebServer.html#a7f356699f76cf1996b7eab3cb90ee2b7">WebServer::_corsEnabled</a></div><div class="ttdeci">boolean _corsEnabled</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00170">WebServer.h:170</a></div></div>
<div class="ttc" id="aesp32-hal-log_8h_html"><div class="ttname"><a href="esp32-hal-log_8h.html">esp32-hal-log.h</a></div></div>
<div class="ttc" id="aWebServer_8h_html_a92026b49cc282bdd88e33290cd1ec806"><div class="ttname"><a href="WebServer_8h.html#a92026b49cc282bdd88e33290cd1ec806">HTTP_MAX_SEND_WAIT</a></div><div class="ttdeci">#define HTTP_MAX_SEND_WAIT</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00047">WebServer.h:46</a></div></div>
<div class="ttc" id="aclassWebServer_html_abe9b677fe60050fd3f1efaff4ea20c13"><div class="ttname"><a href="classWebServer.html#abe9b677fe60050fd3f1efaff4ea20c13">WebServer::_fileUploadHandler</a></div><div class="ttdeci">THandlerFunction _fileUploadHandler</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00184">WebServer.h:184</a></div></div>
<div class="ttc" id="aHTTP__Method_8h_html_a837a089a977b319a11edfb8022d9e47da427575ab776ed70f0aa76667affc3942"><div class="ttname"><a href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47da427575ab776ed70f0aa76667affc3942">HTTP_DELETE</a></div><div class="ttdeci">@ HTTP_DELETE</div><div class="ttdef"><b>Definition:</b> <a href="HTTP__Method_8h_source.html#l00007">HTTP_Method.h:7</a></div></div>
<div class="ttc" id="anamespacemime_html_acc229cb4011c47f78489364eabf9debdada0d9e093d4c12f51ac06fcb35ea4b1e"><div class="ttname"><a href="namespacemime.html#acc229cb4011c47f78489364eabf9debdada0d9e093d4c12f51ac06fcb35ea4b1e">mime::none</a></div><div class="ttdeci">@ none</div><div class="ttdef"><b>Definition:</b> <a href="mimetable_8h_source.html#l00032">mimetable.h:32</a></div></div>
<div class="ttc" id="aclassRequestHandler_html_ae24a4be80652ed56c72edfff9bc7a6eb"><div class="ttname"><a href="classRequestHandler.html#ae24a4be80652ed56c72edfff9bc7a6eb">RequestHandler::pathArg</a></div><div class="ttdeci">const String &amp; pathArg(unsigned int i)</div><div class="ttdef"><b>Definition:</b> <a href="RequestHandler_8h_source.html#l00025">RequestHandler.h:25</a></div></div>
<div class="ttc" id="aclassWebServer_html_a8a0d568bcc6a0bf57981180bd2c7cd3a"><div class="ttname"><a href="classWebServer.html#a8a0d568bcc6a0bf57981180bd2c7cd3a">WebServer::_getRandomHexString</a></div><div class="ttdeci">String _getRandomHexString()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00222">WebServer.cpp:222</a></div></div>
<div class="ttc" id="aclassWebServer_html_a3907e8af7c5e65728b7bbdfca744f689"><div class="ttname"><a href="classWebServer.html#a3907e8af7c5e65728b7bbdfca744f689">WebServer::_finalizeResponse</a></div><div class="ttdeci">void _finalizeResponse()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00641">WebServer.cpp:641</a></div></div>
<div class="ttc" id="aWebServer_8h_html_a497db09f81590144bb1bf1f8d3cac661"><div class="ttname"><a href="WebServer_8h.html#a497db09f81590144bb1bf1f8d3cac661">CONTENT_LENGTH_NOT_SET</a></div><div class="ttdeci">#define CONTENT_LENGTH_NOT_SET</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00051">WebServer.h:50</a></div></div>
<div class="ttc" id="aclassWebServer_html_a603a36ebdef0be718346dc4513c7bb17"><div class="ttname"><a href="classWebServer.html#a603a36ebdef0be718346dc4513c7bb17">WebServer::argName</a></div><div class="ttdeci">String argName(int i)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00536">WebServer.cpp:536</a></div></div>
<div class="ttc" id="apgmspace_8h_html_a963f816fc88a5d8479c285ed4c630229"><div class="ttname"><a href="pgmspace_8h.html#a963f816fc88a5d8479c285ed4c630229">PGM_P</a></div><div class="ttdeci">#define PGM_P</div><div class="ttdef"><b>Definition:</b> <a href="pgmspace_8h_source.html#l00034">pgmspace.h:33</a></div></div>
<div class="ttc" id="aclassWebServer_html_affabd971e0f968030ad58255df24cc26"><div class="ttname"><a href="classWebServer.html#affabd971e0f968030ad58255df24cc26">WebServer::uri</a></div><div class="ttdeci">String uri()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00096">WebServer.h:96</a></div></div>
<div class="ttc" id="aclassWebServer_html_a493897f4a0c6258ae2aa05617d897abd"><div class="ttname"><a href="classWebServer.html#a493897f4a0c6258ae2aa05617d897abd">WebServer::requestAuthentication</a></div><div class="ttdeci">void requestAuthentication(HTTPAuthMethod mode=BASIC_AUTH, const char *realm=NULL, const String &amp;authFailMsg=String(&quot;&quot;))</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00231">WebServer.cpp:231</a></div></div>
<div class="ttc" id="aRPSL_8txt_html_ae227cfd33a5880ffce840d383c2fbff3"><div class="ttname"><a href="RPSL_8txt.html#ae227cfd33a5880ffce840d383c2fbff3">free</a></div><div class="ttdeci">Conditions &amp;Restrictions Subject to the terms and conditions of this Licensor hereby grants effective on the date You accept this a royalty free</div><div class="ttdef"><b>Definition:</b> <a href="RPSL_8txt_source.html#l00105">RPSL.txt:105</a></div></div>
<div class="ttc" id="aclassWebServer_html_a521b41b83dc4fd66958d45f123a5c056"><div class="ttname"><a href="classWebServer.html#a521b41b83dc4fd66958d45f123a5c056">WebServer::_responseHeaders</a></div><div class="ttdeci">String _responseHeaders</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00196">WebServer.h:196</a></div></div>
<div class="ttc" id="aWebServer_8h_html_ac943282902f9e5e2e56cfd79b13b27a3"><div class="ttname"><a href="WebServer_8h.html#ac943282902f9e5e2e56cfd79b13b27a3">HTTPAuthMethod</a></div><div class="ttdeci">HTTPAuthMethod</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00036">WebServer.h:36</a></div></div>
<div class="ttc" id="aclassWebServer_html_a2c0e244bee136cecf881f4c5ce05abdf"><div class="ttname"><a href="classWebServer.html#a2c0e244bee136cecf881f4c5ce05abdf">WebServer::_currentArgs</a></div><div class="ttdeci">RequestArgument * _currentArgs</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00187">WebServer.h:187</a></div></div>
<div class="ttc" id="aclassWebServer_html_adbc4c0b7276d5ff1d9491d27e59f2e11"><div class="ttname"><a href="classWebServer.html#adbc4c0b7276d5ff1d9491d27e59f2e11">WebServer::close</a></div><div class="ttdeci">virtual void close()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00344">WebServer.cpp:344</a></div></div>
<div class="ttc" id="acencode_8h_html"><div class="ttname"><a href="cencode_8h.html">cencode.h</a></div></div>
<div class="ttc" id="aclassWebServer_html_af929b8974568e2fae12124fadad4c779"><div class="ttname"><a href="classWebServer.html#af929b8974568e2fae12124fadad4c779">WebServer::method</a></div><div class="ttdeci">HTTPMethod method()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00097">WebServer.h:97</a></div></div>
<div class="ttc" id="aclassWebServer_html_ab1daac589f9c0b98b73e50e1a5b8bb8f"><div class="ttname"><a href="classWebServer.html#ab1daac589f9c0b98b73e50e1a5b8bb8f">WebServer::_headerKeysCount</a></div><div class="ttdeci">int _headerKeysCount</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00193">WebServer.h:193</a></div></div>
<div class="ttc" id="aclassWebServer_html_a96682020e4139fa2e81114dbf8634eac"><div class="ttname"><a href="classWebServer.html#a96682020e4139fa2e81114dbf8634eac">WebServer::sendHeader</a></div><div class="ttdeci">void sendHeader(const String &amp;name, const String &amp;value, bool first=false)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00355">WebServer.cpp:355</a></div></div>
<div class="ttc" id="acencode_8h_html_a29fa25b7d6ec7b3034d65fe5a9f55589"><div class="ttname"><a href="cencode_8h.html#a29fa25b7d6ec7b3034d65fe5a9f55589">base64_encode_expected_len</a></div><div class="ttdeci">#define base64_encode_expected_len(n)</div><div class="ttdef"><b>Definition:</b> <a href="cencode_8h_source.html#l00012">cencode.h:11</a></div></div>
<div class="ttc" id="aclassWiFiClient_html_aaf69c75c27d44c01484185e9306bd8da"><div class="ttname"><a href="classWiFiClient.html#aaf69c75c27d44c01484185e9306bd8da">WiFiClient::connected</a></div><div class="ttdeci">uint8_t connected()</div><div class="ttdef"><b>Definition:</b> <a href="WiFiClient_8cpp_source.html#l00491">WiFiClient.cpp:491</a></div></div>
<div class="ttc" id="aesp32-hal-misc_8c_html_a54206d5e03939a99623bf51db4159120"><div class="ttname"><a href="esp32-hal-misc_8c.html#a54206d5e03939a99623bf51db4159120">millis</a></div><div class="ttdeci">unsigned long IRAM_ATTR millis()</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-misc_8c_source.html#l00139">esp32-hal-misc.c:139</a></div></div>
<div class="ttc" id="acrt__abstractions_8h_html_a65e9886d74aaee76545e83dd09011727"><div class="ttname"><a href="crt__abstractions_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></div><div class="ttdeci">#define false</div><div class="ttdef"><b>Definition:</b> <a href="crt__abstractions_8h_source.html#l00075">crt_abstractions.h:74</a></div></div>
<div class="ttc" id="aWebServer_8h_html_a4c6c24e8c7ff9fa32ed0fa66132b94ad"><div class="ttname"><a href="WebServer_8h.html#a4c6c24e8c7ff9fa32ed0fa66132b94ad">HTTP_MAX_DATA_WAIT</a></div><div class="ttdeci">#define HTTP_MAX_DATA_WAIT</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00045">WebServer.h:44</a></div></div>
<div class="ttc" id="aclassWebServer_html_ab29b93a184d203c6d4e3b2912bbc3ae4"><div class="ttname"><a href="classWebServer.html#ab29b93a184d203c6d4e3b2912bbc3ae4">WebServer::_parseRequest</a></div><div class="ttdeci">bool _parseRequest(WiFiClient &amp;client)</div><div class="ttdef"><b>Definition:</b> <a href="Parsing_8cpp_source.html#l00068">Parsing.cpp:68</a></div></div>
<div class="ttc" id="aWebServer_8h_html"><div class="ttname"><a href="WebServer_8h.html">WebServer.h</a></div></div>
<div class="ttc" id="aclassWebServer_html_a73514fc677ac35fa51e485e64b298db9"><div class="ttname"><a href="classWebServer.html#a73514fc677ac35fa51e485e64b298db9">WebServer::_snonce</a></div><div class="ttdeci">String _snonce</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00201">WebServer.h:201</a></div></div>
<div class="ttc" id="aclassWebServer_html_a07a0ee0c998465262981e58527705c86"><div class="ttname"><a href="classWebServer.html#a07a0ee0c998465262981e58527705c86">WebServer::_postArgs</a></div><div class="ttdeci">RequestArgument * _postArgs</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00189">WebServer.h:189</a></div></div>
<div class="ttc" id="aclassRequestHandler_html_ac852f240320a76edadf7a6e622a086fc"><div class="ttname"><a href="classRequestHandler.html#ac852f240320a76edadf7a6e622a086fc">RequestHandler::next</a></div><div class="ttdeci">RequestHandler * next()</div><div class="ttdef"><b>Definition:</b> <a href="RequestHandler_8h_source.html#l00015">RequestHandler.h:15</a></div></div>
<div class="ttc" id="aclassWebServer_html_a6e1357979538e0ffc511fa5f6d32cd5a"><div class="ttname"><a href="classWebServer.html#a6e1357979538e0ffc511fa5f6d32cd5a">WebServer::addHandler</a></div><div class="ttdeci">void addHandler(RequestHandler *handler)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00260">WebServer.cpp:260</a></div></div>
<div class="ttc" id="aWebServer_8h_html_ac943282902f9e5e2e56cfd79b13b27a3a75e117339f44be922c585df8c74d5266"><div class="ttname"><a href="WebServer_8h.html#ac943282902f9e5e2e56cfd79b13b27a3a75e117339f44be922c585df8c74d5266">BASIC_AUTH</a></div><div class="ttdeci">@ BASIC_AUTH</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00036">WebServer.h:36</a></div></div>
<div class="ttc" id="aclassWebServer_html_a2aaf44ab7f4ae94d2b4fd93ba80b24d3"><div class="ttname"><a href="classWebServer.html#a2aaf44ab7f4ae94d2b4fd93ba80b24d3">WebServer::begin</a></div><div class="ttdeci">virtual void begin()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00095">WebServer.cpp:95</a></div></div>
<div class="ttc" id="astructWebServer_1_1RequestArgument_html_a2c0608809e0ffe11c085746c5a6fcd47"><div class="ttname"><a href="structWebServer_1_1RequestArgument.html#a2c0608809e0ffe11c085746c5a6fcd47">WebServer::RequestArgument::value</a></div><div class="ttdeci">String value</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00167">WebServer.h:167</a></div></div>
<div class="ttc" id="aclassWebServer_html_a80f32184979a9efed36f11a8d8007a1d"><div class="ttname"><a href="classWebServer.html#a80f32184979a9efed36f11a8d8007a1d">WebServer::_firstHandler</a></div><div class="ttdeci">RequestHandler * _firstHandler</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00181">WebServer.h:181</a></div></div>
<div class="ttc" id="aclassWebServer_html_aa30c971df68c262598a73090e071f90f"><div class="ttname"><a href="classWebServer.html#aa30c971df68c262598a73090e071f90f">WebServer::on</a></div><div class="ttdeci">void on(const Uri &amp;uri, THandlerFunction handler)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00248">WebServer.cpp:248</a></div></div>
<div class="ttc" id="aclassWebServer_html_a1512278f0b88870023bbf4efadeb7036"><div class="ttname"><a href="classWebServer.html#a1512278f0b88870023bbf4efadeb7036">WebServer::_prepareHeader</a></div><div class="ttdeci">void _prepareHeader(String &amp;response, int code, const char *content_type, size_t contentLength)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00381">WebServer.cpp:381</a></div></div>
<div class="ttc" id="aWiFiServer_8h_html"><div class="ttname"><a href="WiFiServer_8h.html">WiFiServer.h</a></div></div>
<div class="ttc" id="aclassWiFiClient_html"><div class="ttname"><a href="classWiFiClient.html">WiFiClient</a></div><div class="ttdef"><b>Definition:</b> <a href="WiFiClient_8h_source.html#l00039">WiFiClient.h:40</a></div></div>
<div class="ttc" id="ayield_8hpp_html_abaa9287233697b1cd0175180304c7e1d"><div class="ttname"><a href="yield_8hpp.html#abaa9287233697b1cd0175180304c7e1d">yield</a></div><div class="ttdeci">#define yield</div><div class="ttdef"><b>Definition:</b> <a href="yield_8hpp_source.html#l00019">yield.hpp:18</a></div></div>
<div class="ttc" id="aWebServer_8h_html_ab9969c3bea58c96ec7f20361de2f071caa56e3990f0e6fc6e0535e92183937076"><div class="ttname"><a href="WebServer_8h.html#ab9969c3bea58c96ec7f20361de2f071caa56e3990f0e6fc6e0535e92183937076">HC_NONE</a></div><div class="ttdeci">@ HC_NONE</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00035">WebServer.h:35</a></div></div>
<div class="ttc" id="aclassWiFiServer_html_a6f2c479ff31f78e95c47ba0f7f1fa379"><div class="ttname"><a href="classWiFiServer.html#a6f2c479ff31f78e95c47ba0f7f1fa379">WiFiServer::begin</a></div><div class="ttdeci">void begin(uint16_t port=0)</div><div class="ttdef"><b>Definition:</b> <a href="WiFiServer_8cpp_source.html#l00065">WiFiServer.cpp:65</a></div></div>
<div class="ttc" id="apgmspace_8h_html_a84a61d55b7efefabd8419e28f02704f9"><div class="ttname"><a href="pgmspace_8h.html#a84a61d55b7efefabd8419e28f02704f9">PGM_VOID_P</a></div><div class="ttdeci">#define PGM_VOID_P</div><div class="ttdef"><b>Definition:</b> <a href="pgmspace_8h_source.html#l00035">pgmspace.h:34</a></div></div>
<div class="ttc" id="aHTTP__Method_8h_html_a837a089a977b319a11edfb8022d9e47da4ad23c3d2f21f7502ba058ef89518166"><div class="ttname"><a href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47da4ad23c3d2f21f7502ba058ef89518166">HTTP_GET</a></div><div class="ttdeci">@ HTTP_GET</div><div class="ttdef"><b>Definition:</b> <a href="HTTP__Method_8h_source.html#l00005">HTTP_Method.h:5</a></div></div>
<div class="ttc" id="aclassWebServer_html_ae593f5390da37bdf6028a0e68453b247"><div class="ttname"><a href="classWebServer.html#ae593f5390da37bdf6028a0e68453b247">WebServer::onFileUpload</a></div><div class="ttdeci">void onFileUpload(THandlerFunction fn)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00606">WebServer.cpp:606</a></div></div>
<div class="ttc" id="aclassWebServer_html_a8a9c406ba711b7b5dc249008a7808ab4"><div class="ttname"><a href="classWebServer.html#a8a9c406ba711b7b5dc249008a7808ab4">WebServer::send</a></div><div class="ttdeci">void send(int code, const char *content_type=NULL, const String &amp;content=String(&quot;&quot;))</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00413">WebServer.cpp:413</a></div></div>
<div class="ttc" id="aclassWebServer_html_a4b06a724fa81796290da8edf6b4b53f3"><div class="ttname"><a href="classWebServer.html#a4b06a724fa81796290da8edf6b4b53f3">WebServer::_currentMethod</a></div><div class="ttdeci">HTTPMethod _currentMethod</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00174">WebServer.h:174</a></div></div>
<div class="ttc" id="aclassWebServer_html_ac0682705f6fc11263b40ebd2c7578199"><div class="ttname"><a href="classWebServer.html#ac0682705f6fc11263b40ebd2c7578199">WebServer::_lastHandler</a></div><div class="ttdeci">RequestHandler * _lastHandler</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00182">WebServer.h:182</a></div></div>
<div class="ttc" id="acomponents_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h_html"><div class="ttname"><a href="components_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h.html">md5.h</a></div><div class="ttdoc">MD5 message digest algorithm (hash function)</div></div>
<div class="ttc" id="aclassWebServer_html_ae98cf78ae646b788abb449456b0a1e68"><div class="ttname"><a href="classWebServer.html#ae98cf78ae646b788abb449456b0a1e68">WebServer::sendContent_P</a></div><div class="ttdeci">void sendContent_P(PGM_P content)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00476">WebServer.cpp:476</a></div></div>
<div class="ttc" id="aclassWebServer_html_a6e62f3eca13579224519716bf09ff30d"><div class="ttname"><a href="classWebServer.html#a6e62f3eca13579224519716bf09ff30d">WebServer::handleClient</a></div><div class="ttdeci">virtual void handleClient()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00279">WebServer.cpp:279</a></div></div>
<div class="ttc" id="aclassWebServer_html_a3f429916947d85852013696cb97e5897"><div class="ttname"><a href="classWebServer.html#a3f429916947d85852013696cb97e5897">WebServer::sendContent</a></div><div class="ttdeci">void sendContent(const String &amp;content)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00456">WebServer.cpp:456</a></div></div>
<div class="ttc" id="apgmspace_8h_html_a42ac09f1c2a347f99082c3f88f55e656"><div class="ttname"><a href="pgmspace_8h.html#a42ac09f1c2a347f99082c3f88f55e656">memccpy_P</a></div><div class="ttdeci">#define memccpy_P</div><div class="ttdef"><b>Definition:</b> <a href="pgmspace_8h_source.html#l00069">pgmspace.h:68</a></div></div>
<div class="ttc" id="azconf_8lex_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="zconf_8lex_8c_source.html#l01348">zconf.lex.c:1348</a></div></div>
<div class="ttc" id="aRPSL_8txt_html_a41b63e2e1c5ed84534837a2f274db04d"><div class="ttname"><a href="RPSL_8txt.html#a41b63e2e1c5ed84534837a2f274db04d">in</a></div><div class="ttdeci">Construction Failure by Licensor or any Contributor to enforce any provision of this License will not be deemed a waiver of future enforcement of that or any other provision Any law or regulation which provides that the language of a contract shall be construed against the drafter will not apply to this License or portion to be that provision of the License will be enforced to the maximum extent permissible so as to effect the economic benefits and intent of the and the remainder of this License will continue in full force and if applicable law prohibits or restricts You from fully and or specifically complying with Sections and or or prevents the enforceability of either of those this License will immediately terminate and You must immediately discontinue any use of the Covered Code and destroy all copies of it that are in your possession or control Dispute Resolution Any litigation or other dispute resolution between You and Licensor relating to this License shall take place in the and You and Licensor hereby consent to the personal jurisdiction and venue in</div><div class="ttdef"><b>Definition:</b> <a href="RPSL_8txt_source.html#l00400">RPSL.txt:400</a></div></div>
<div class="ttc" id="aclassWiFiClient_html_ab3a1b37f3b9df62b17592bad36080072"><div class="ttname"><a href="classWiFiClient.html#ab3a1b37f3b9df62b17592bad36080072">WiFiClient::write</a></div><div class="ttdeci">size_t write(uint8_t data)</div><div class="ttdef"><b>Definition:</b> <a href="WiFiClient_8cpp_source.html#l00337">WiFiClient.cpp:337</a></div></div>
<div class="ttc" id="adef_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="def_8h_source.html#l00071">def.h:70</a></div></div>
<div class="ttc" id="astructWebServer_1_1RequestArgument_html"><div class="ttname"><a href="structWebServer_1_1RequestArgument.html">WebServer::RequestArgument</a></div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00165">WebServer.h:165</a></div></div>
<div class="ttc" id="aclassWebServer_html_a5fe3bd264b6dcbc2bd84f23b80cea8ba"><div class="ttname"><a href="classWebServer.html#a5fe3bd264b6dcbc2bd84f23b80cea8ba">WebServer::_currentClientWrite_P</a></div><div class="ttdeci">virtual size_t _currentClientWrite_P(PGM_P b, size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00145">WebServer.h:145</a></div></div>
<div class="ttc" id="aclassWiFiClient_html_a1a926102e5607f7c6c632503aa62b6e9"><div class="ttname"><a href="classWiFiClient.html#a1a926102e5607f7c6c632503aa62b6e9">WiFiClient::setTimeout</a></div><div class="ttdeci">int setTimeout(uint32_t seconds)</div><div class="ttdef"><b>Definition:</b> <a href="WiFiClient_8cpp_source.html#l00293">WiFiClient.cpp:293</a></div></div>
<div class="ttc" id="atag__strings_8h_html_a51f20d6b1b54a2eee3be0e8adc96a0ae"><div class="ttname"><a href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a></div><div class="ttdeci">param</div><div class="ttdef"><b>Definition:</b> <a href="tag__strings_8h_source.html#l00079">tag_strings.h:79</a></div></div>
<div class="ttc" id="aclassWebServer_html_a4a82eb57b2dcd5dcd4c806b18b1c3ade"><div class="ttname"><a href="classWebServer.html#a4a82eb57b2dcd5dcd4c806b18b1c3ade">WebServer::hostHeader</a></div><div class="ttdeci">String hostHeader()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00602">WebServer.cpp:602</a></div></div>
<div class="ttc" id="astructbuffer_html"><div class="ttname"><a href="structbuffer.html">buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="zconf_8lex_8c_source.html#l01095">zconf.lex.c:1095</a></div></div>
<div class="ttc" id="aclassWebServer_html_a99dd56bba59ae704ed3ca1e7fb32dd14"><div class="ttname"><a href="classWebServer.html#a99dd56bba59ae704ed3ca1e7fb32dd14">WebServer::WebServer</a></div><div class="ttdeci">WebServer(IPAddress addr, int port=80)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00041">WebServer.cpp:41</a></div></div>
<div class="ttc" id="acomponents_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h_html_ad7f7365759b09ca82efedadfb5f8a88b"><div class="ttname"><a href="components_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h.html#ad7f7365759b09ca82efedadfb5f8a88b">mbedtls_md5_finish</a></div><div class="ttdeci">MBEDTLS_DEPRECATED void mbedtls_md5_finish(mbedtls_md5_context *ctx, unsigned char output[16])</div><div class="ttdoc">MD5 final digest.</div></div>
<div class="ttc" id="aFatStructs_8h_html_a48f46ad02b77a00b795d15626ba1d42e"><div class="ttname"><a href="FatStructs_8h.html#a48f46ad02b77a00b795d15626ba1d42e">fileSize</a></div><div class="ttdeci">uint32_t fileSize</div><div class="ttdef"><b>Definition:</b> <a href="FatStructs_8h_source.html#l00046">FatStructs.h:46</a></div></div>
<div class="ttc" id="aunity__fixture__malloc__overrides_8h_html_acf143577800376dd931c059ecc61ba06"><div class="ttname"><a href="unity__fixture__malloc__overrides_8h.html#acf143577800376dd931c059ecc61ba06">malloc</a></div><div class="ttdeci">#define malloc</div><div class="ttdef"><b>Definition:</b> <a href="unity__fixture__malloc__overrides_8h_source.html#l00038">unity_fixture_malloc_overrides.h:37</a></div></div>
<div class="ttc" id="aclassWebServer_html_ae4bbb3971f72765638b2f1a0b88327b6"><div class="ttname"><a href="classWebServer.html#ae4bbb3971f72765638b2f1a0b88327b6">WebServer::_currentArgCount</a></div><div class="ttdeci">int _currentArgCount</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00186">WebServer.h:186</a></div></div>
<div class="ttc" id="aHTTP__Method_8h_html_a837a089a977b319a11edfb8022d9e47daa763023b51da2b3618f24cbf994b34bf"><div class="ttname"><a href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47daa763023b51da2b3618f24cbf994b34bf">HTTP_POST</a></div><div class="ttdeci">@ HTTP_POST</div><div class="ttdef"><b>Definition:</b> <a href="HTTP__Method_8h_source.html#l00006">HTTP_Method.h:6</a></div></div>
<div class="ttc" id="aclassUri_html"><div class="ttname"><a href="classUri.html">Uri</a></div><div class="ttdef"><b>Definition:</b> <a href="Uri_8h_source.html#l00007">Uri.h:7</a></div></div>
<div class="ttc" id="aclassFunctionRequestHandler_html"><div class="ttname"><a href="classFunctionRequestHandler.html">FunctionRequestHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="RequestHandlersImpl_8h_source.html#l00011">RequestHandlersImpl.h:11</a></div></div>
<div class="ttc" id="aclassWebServer_html_a02083cf8e377f658bf6ef55f233bb7a5"><div class="ttname"><a href="classWebServer.html#a02083cf8e377f658bf6ef55f233bb7a5">WebServer::args</a></div><div class="ttdeci">int args()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00542">WebServer.cpp:542</a></div></div>
<div class="ttc" id="aclassWebServer_html_ac5fad20fdb3ca2d1519e569abcc5a2b0"><div class="ttname"><a href="classWebServer.html#ac5fad20fdb3ca2d1519e569abcc5a2b0">WebServer::_postArgsLen</a></div><div class="ttdeci">int _postArgsLen</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00188">WebServer.h:188</a></div></div>
<div class="ttc" id="aclassWebServer_html_a001270ad26bb63ed4b8f72ce51fcc500"><div class="ttname"><a href="classWebServer.html#a001270ad26bb63ed4b8f72ce51fcc500">WebServer::headerName</a></div><div class="ttdeci">String headerName(int i)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00584">WebServer.cpp:584</a></div></div>
<div class="ttc" id="aclassWebServer_html_a75b84cfa2ad1dc81e7b10c8442273d4d"><div class="ttname"><a href="classWebServer.html#a75b84cfa2ad1dc81e7b10c8442273d4d">WebServer::_server</a></div><div class="ttdeci">WiFiServer _server</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00171">WebServer.h:171</a></div></div>
<div class="ttc" id="aclassWiFiClient_html_a027090f7f03b80180d23316cf2647cf8"><div class="ttname"><a href="classWiFiClient.html#a027090f7f03b80180d23316cf2647cf8">WiFiClient::available</a></div><div class="ttdeci">int available()</div><div class="ttdef"><b>Definition:</b> <a href="WiFiClient_8cpp_source.html#l00452">WiFiClient.cpp:452</a></div></div>
<div class="ttc" id="acomponents_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h_html_a79c215e36a335de1e8f0a61163cf5a8d"><div class="ttname"><a href="components_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h.html#a79c215e36a335de1e8f0a61163cf5a8d">mbedtls_md5_starts</a></div><div class="ttdeci">MBEDTLS_DEPRECATED void mbedtls_md5_starts(mbedtls_md5_context *ctx)</div><div class="ttdoc">MD5 context setup.</div></div>
<div class="ttc" id="aclassWebServer_html_a09dad9475adaf67809faa1e58f8a15bb"><div class="ttname"><a href="classWebServer.html#a09dad9475adaf67809faa1e58f8a15bb">WebServer::authenticate</a></div><div class="ttdeci">bool authenticate(const char *username, const char *password)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00134">WebServer.cpp:134</a></div></div>
<div class="ttc" id="aHTTP__Method_8h_html_a837a089a977b319a11edfb8022d9e47da32498970693fbd48d717a129eca87df7"><div class="ttname"><a href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47da32498970693fbd48d717a129eca87df7">HTTP_ANY</a></div><div class="ttdeci">@ HTTP_ANY</div><div class="ttdef"><b>Definition:</b> <a href="HTTP__Method_8h_source.html#l00012">HTTP_Method.h:12</a></div></div>
<div class="ttc" id="anamespacemime_html_a2dc5e176cda9260c1c5661f4571a4451"><div class="ttname"><a href="namespacemime.html#a2dc5e176cda9260c1c5661f4571a4451">mime::mimeTable</a></div><div class="ttdeci">const Entry mimeTable[maxType]</div><div class="ttdef"><b>Definition:</b> <a href="mimetable_8cpp_source.html#l00008">mimetable.cpp:8</a></div></div>
<div class="ttc" id="acomponents_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h_html_ad8147bb77981950e6965914d837d9b3e"><div class="ttname"><a href="components_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h.html#ad8147bb77981950e6965914d837d9b3e">mbedtls_md5_init</a></div><div class="ttdeci">void mbedtls_md5_init(mbedtls_md5_context *ctx)</div><div class="ttdoc">Initialize MD5 context.</div></div>
<div class="ttc" id="aWiFiClient_8h_html"><div class="ttname"><a href="WiFiClient_8h.html">WiFiClient.h</a></div></div>
<div class="ttc" id="aclassWebServer_html_a5c2e0691d69968b897ef3bfd98eb8968"><div class="ttname"><a href="classWebServer.html#a5c2e0691d69968b897ef3bfd98eb8968">WebServer::_currentClient</a></div><div class="ttdeci">WiFiClient _currentClient</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00173">WebServer.h:173</a></div></div>
<div class="ttc" id="anamespacemime_html_acc229cb4011c47f78489364eabf9debda7d922b1005617b62027a5acd9759e367"><div class="ttname"><a href="namespacemime.html#acc229cb4011c47f78489364eabf9debda7d922b1005617b62027a5acd9759e367">mime::gz</a></div><div class="ttdeci">@ gz</div><div class="ttdef"><b>Definition:</b> <a href="mimetable_8h_source.html#l00030">mimetable.h:30</a></div></div>
<div class="ttc" id="aclassWebServer_html_aa950c84656916d8426917db4857612e8"><div class="ttname"><a href="classWebServer.html#aa950c84656916d8426917db4857612e8">WebServer::_currentVersion</a></div><div class="ttdeci">uint8_t _currentVersion</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00176">WebServer.h:176</a></div></div>
<div class="ttc" id="acJSON__Utils_8h_html_a0dff3c76a075649fa412b1c429ffe382"><div class="ttname"><a href="cJSON__Utils_8h.html#a0dff3c76a075649fa412b1c429ffe382">value</a></div><div class="ttdeci">const char *const const char *const const cJSON *const value</div><div class="ttdef"><b>Definition:</b> <a href="cJSON__Utils_8h_source.html#l00042">cJSON_Utils.h:42</a></div></div>
<div class="ttc" id="aWebServer_8h_html_acc8c0df5cbbca874119d1164f5e31f62"><div class="ttname"><a href="WebServer_8h.html#acc8c0df5cbbca874119d1164f5e31f62">HTTP_MAX_CLOSE_WAIT</a></div><div class="ttdeci">#define HTTP_MAX_CLOSE_WAIT</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00048">WebServer.h:47</a></div></div>
<div class="ttc" id="aclassWebServer_html_aed3aeffd66058fc84f4b4fccbf011934"><div class="ttname"><a href="classWebServer.html#aed3aeffd66058fc84f4b4fccbf011934">WebServer::_sopaque</a></div><div class="ttdeci">String _sopaque</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00202">WebServer.h:202</a></div></div>
<div class="ttc" id="astructWebServer_1_1RequestArgument_html_a5a24711d87ac6e3a73a8f5c2e265f3d1"><div class="ttname"><a href="structWebServer_1_1RequestArgument.html#a5a24711d87ac6e3a73a8f5c2e265f3d1">WebServer::RequestArgument::key</a></div><div class="ttdeci">String key</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00166">WebServer.h:166</a></div></div>
<div class="ttc" id="aclassWebServer_html_a8ab086a1e3f7773f2a01bde66e2a725c"><div class="ttname"><a href="classWebServer.html#a8ab086a1e3f7773f2a01bde66e2a725c">WebServer::_statusChange</a></div><div class="ttdeci">unsigned long _statusChange</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00178">WebServer.h:178</a></div></div>
<div class="ttc" id="acencode_8c_html_a595759c28247c260fa147921e5569e06"><div class="ttname"><a href="cencode_8c.html#a595759c28247c260fa147921e5569e06">base64_encode_chars</a></div><div class="ttdeci">int base64_encode_chars(const char *plaintext_in, int length_in, char *code_out)</div><div class="ttdef"><b>Definition:</b> <a href="cencode_8c_source.html#l00096">cencode.c:96</a></div></div>
<div class="ttc" id="aclassWebServer_html_a42a8ddb136af9578ab4283a791429e83"><div class="ttname"><a href="classWebServer.html#a42a8ddb136af9578ab4283a791429e83">WebServer::enableCrossOrigin</a></div><div class="ttdeci">void enableCrossOrigin(boolean value=true)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00377">WebServer.cpp:377</a></div></div>
<div class="ttc" id="aclassWebServer_html_aa676d2b19f5cb1cd0e363834d8f74234"><div class="ttname"><a href="classWebServer.html#aa676d2b19f5cb1cd0e363834d8f74234">WebServer::hasArg</a></div><div class="ttdeci">bool hasArg(String name)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00546">WebServer.cpp:546</a></div></div>
<div class="ttc" id="aRequestHandlersImpl_8h_html"><div class="ttname"><a href="RequestHandlersImpl_8h.html">RequestHandlersImpl.h</a></div></div>
<div class="ttc" id="aclassWebServer_html_a4c8e7b18e7aca41841e35563ab43694e"><div class="ttname"><a href="classWebServer.html#a4c8e7b18e7aca41841e35563ab43694e">WebServer::_currentStatus</a></div><div class="ttdeci">HTTPClientStatus _currentStatus</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00177">WebServer.h:177</a></div></div>
<div class="ttc" id="aclassWebServer_html_ac183ba4f18c6ff825065d82eef256d46"><div class="ttname"><a href="classWebServer.html#ac183ba4f18c6ff825065d82eef256d46">WebServer::enableCORS</a></div><div class="ttdeci">void enableCORS(boolean value=true)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00373">WebServer.cpp:373</a></div></div>
<div class="ttc" id="anamespacefs_html"><div class="ttname"><a href="namespacefs.html">fs</a></div><div class="ttdef"><b>Definition:</b> <a href="FFat_8h_source.html#l00024">FFat.h:25</a></div></div>
<div class="ttc" id="aclassWebServer_html_afe9d062463e401ef70e84af66bbd0484"><div class="ttname"><a href="classWebServer.html#afe9d062463e401ef70e84af66bbd0484">WebServer::setContentLength</a></div><div class="ttdeci">void setContentLength(const size_t contentLength)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00369">WebServer.cpp:369</a></div></div>
<div class="ttc" id="aclassWebServer_html_aa5936c3e5374419bd9eb2673c42dbb3d"><div class="ttname"><a href="classWebServer.html#aa5936c3e5374419bd9eb2673c42dbb3d">WebServer::arg</a></div><div class="ttdeci">String arg(String name)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00518">WebServer.cpp:518</a></div></div>
<div class="ttc" id="atag__strings_8h_html_ac7cc32a9cfdf8f693f4e066681ce5cc6"><div class="ttname"><a href="tag__strings_8h.html#ac7cc32a9cfdf8f693f4e066681ce5cc6">footer</a></div><div class="ttdeci">footer</div><div class="ttdef"><b>Definition:</b> <a href="tag__strings_8h_source.html#l00027">tag_strings.h:27</a></div></div>
<div class="ttc" id="aclassWebServer_html_a1998442c1aadb4b8a71366f1a6976784"><div class="ttname"><a href="classWebServer.html#a1998442c1aadb4b8a71366f1a6976784">WebServer::_streamFileCore</a></div><div class="ttdeci">void _streamFileCore(const size_t fileSize, const String &amp;fileName, const String &amp;contentType)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00500">WebServer.cpp:500</a></div></div>
<div class="ttc" id="aclassWebServer_html_a1a0a29895986ab3558a638bc75f41259"><div class="ttname"><a href="classWebServer.html#a1a0a29895986ab3558a638bc75f41259">WebServer::~WebServer</a></div><div class="ttdeci">virtual ~WebServer()</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00083">WebServer.cpp:83</a></div></div>
<div class="ttc" id="apgmspace_8h_html_a05dde754db9944c90362c1f861d358ba"><div class="ttname"><a href="pgmspace_8h.html#a05dde754db9944c90362c1f861d358ba">strlen_P</a></div><div class="ttdeci">#define strlen_P</div><div class="ttdef"><b>Definition:</b> <a href="pgmspace_8h_source.html#l00080">pgmspace.h:79</a></div></div>
<div class="ttc" id="astructmime_1_1Entry_html_aeda4201e69025f79ec9a38d3fd3b4852"><div class="ttname"><a href="structmime_1_1Entry.html#aeda4201e69025f79ec9a38d3fd3b4852">mime::Entry::mimeType</a></div><div class="ttdeci">const char mimeType[32]</div><div class="ttdef"><b>Definition:</b> <a href="mimetable_8h_source.html#l00039">mimetable.h:39</a></div></div>
<div class="ttc" id="anamespacemime_html"><div class="ttname"><a href="namespacemime.html">mime</a></div><div class="ttdef"><b>Definition:</b> <a href="mimetable_8cpp_source.html#l00004">mimetable.cpp:5</a></div></div>
<div class="ttc" id="aclassWebServer_html_ac11d321f2031be2403ea572fa2406aea"><div class="ttname"><a href="classWebServer.html#ac11d321f2031be2403ea572fa2406aea">WebServer::_currentHeaders</a></div><div class="ttdeci">RequestArgument * _currentHeaders</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00194">WebServer.h:194</a></div></div>
<div class="ttc" id="aclassfs_1_1FS_html"><div class="ttname"><a href="classfs_1_1FS.html">fs::FS</a></div><div class="ttdef"><b>Definition:</b> <a href="FS_8h_source.html#l00086">FS.h:87</a></div></div>
<div class="ttc" id="acJSON__Utils_8h_html_ac1a48d629d26c2b545b14e8394e83061"><div class="ttname"><a href="cJSON__Utils_8h.html#ac1a48d629d26c2b545b14e8394e83061">path</a></div><div class="ttdeci">const char *const const char *const path</div><div class="ttdef"><b>Definition:</b> <a href="cJSON__Utils_8h_source.html#l00042">cJSON_Utils.h:42</a></div></div>
<div class="ttc" id="aclassWebServer_html_abee46c86c680bb5f3d012b39b313aa9c"><div class="ttname"><a href="classWebServer.html#abee46c86c680bb5f3d012b39b313aa9c">WebServer::_notFoundHandler</a></div><div class="ttdeci">THandlerFunction _notFoundHandler</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00183">WebServer.h:183</a></div></div>
<div class="ttc" id="aesp__system_8h_html_a93effc946eee727e9c14497c1b9a34da"><div class="ttname"><a href="esp__system_8h.html#a93effc946eee727e9c14497c1b9a34da">esp_random</a></div><div class="ttdeci">uint32_t esp_random(void)</div><div class="ttdoc">Get one random 32-bit word from hardware RNG.</div></div>
<div class="ttc" id="aclassWebServer_html_ae94d8af4a5b0d20ff36bc221f00a2be5"><div class="ttname"><a href="classWebServer.html#ae94d8af4a5b0d20ff36bc221f00a2be5">WebServer::send_P</a></div><div class="ttdeci">void send_P(int code, PGM_P content_type, PGM_P content)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00424">WebServer.cpp:424</a></div></div>
<div class="ttc" id="aFS_8h_html"><div class="ttname"><a href="FS_8h.html">FS.h</a></div></div>
<div class="ttc" id="aclassWebServer_html_a1766cc4ed507c8941bcf66525be5edb7"><div class="ttname"><a href="classWebServer.html#a1766cc4ed507c8941bcf66525be5edb7">WebServer::_currentHandler</a></div><div class="ttdeci">RequestHandler * _currentHandler</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00180">WebServer.h:180</a></div></div>
<div class="ttc" id="aclassWebServer_html_a3c0e9bc00495af9545a42b46c139dddd"><div class="ttname"><a href="classWebServer.html#a3c0e9bc00495af9545a42b46c139dddd">WebServer::_responseCodeToString</a></div><div class="ttdeci">static String _responseCodeToString(int code)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00647">WebServer.cpp:647</a></div></div>
<div class="ttc" id="acomponents_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h_html_afb55d9ff4eeeec521f70886eb5abee8b"><div class="ttname"><a href="components_2arduino-esp32_2tools_2sdk_2include_2mbedtls_2mbedtls_2md5_8h.html#afb55d9ff4eeeec521f70886eb5abee8b">mbedtls_md5_update</a></div><div class="ttdeci">MBEDTLS_DEPRECATED void mbedtls_md5_update(mbedtls_md5_context *ctx, const unsigned char *input, size_t ilen)</div><div class="ttdoc">MD5 process buffer.</div></div>
<div class="ttc" id="aplatform_8txt_html_a25d22ecc7e656d2c59332072684e8766"><div class="ttname"><a href="platform_8txt.html#a25d22ecc7e656d2c59332072684e8766">name</a></div><div class="ttdeci">name</div><div class="ttdef"><b>Definition:</b> <a href="platform_8txt_source.html#l00001">platform.txt:1</a></div></div>
<div class="ttc" id="aclassIPAddress_html"><div class="ttname"><a href="classIPAddress.html">IPAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="IPAddress_8h_source.html#l00029">IPAddress.h:30</a></div></div>
<div class="ttc" id="aHTTP__Method_8h_html_a837a089a977b319a11edfb8022d9e47da2415577115dd0cd5d5a5aa62d52e1512"><div class="ttname"><a href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47da2415577115dd0cd5d5a5aa62d52e1512">HTTP_PUT</a></div><div class="ttdeci">@ HTTP_PUT</div><div class="ttdef"><b>Definition:</b> <a href="HTTP__Method_8h_source.html#l00008">HTTP_Method.h:8</a></div></div>
<div class="ttc" id="aclassWebServer_html_a0cb11e97e0dad8f6b210f59d44f5c986"><div class="ttname"><a href="classWebServer.html#a0cb11e97e0dad8f6b210f59d44f5c986">WebServer::hasHeader</a></div><div class="ttdeci">bool hasHeader(String name)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00594">WebServer.cpp:594</a></div></div>
<div class="ttc" id="acacheasm_8h_html_a296a4dfa224096b538c66a9bab58cb9e"><div class="ttname"><a href="cacheasm_8h.html#a296a4dfa224096b538c66a9bab58cb9e">size</a></div><div class="ttdeci">macro cache_index_all size</div><div class="ttdef"><b>Definition:</b> <a href="cacheasm_8h_source.html#l00158">cacheasm.h:158</a></div></div>
<div class="ttc" id="atag__strings_8h_html_afa2765f9f647ea2e9c46055f93a44d41"><div class="ttname"><a href="tag__strings_8h.html#afa2765f9f647ea2e9c46055f93a44d41">code</a></div><div class="ttdeci">code</div><div class="ttdef"><b>Definition:</b> <a href="tag__strings_8h_source.html#l00054">tag_strings.h:54</a></div></div>
<div class="ttc" id="aesp32-hal-log_8h_html_a202330fb3201c41b86ad5a4700e529df"><div class="ttname"><a href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a></div><div class="ttdeci">#define log_e(format,...)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-log_8h_source.html#l00117">esp32-hal-log.h:116</a></div></div>
<div class="ttc" id="aclassWebServer_html_a0d056bf3ec10638282703ccfcb0444af"><div class="ttname"><a href="classWebServer.html#a0d056bf3ec10638282703ccfcb0444af">WebServer::_extractParam</a></div><div class="ttdeci">String _extractParam(String &amp;authReq, const String &amp;param, const char delimit='&quot;')</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00107">WebServer.cpp:107</a></div></div>
<div class="ttc" id="astdint_8h_html_a2aff71146ab4942b2b38860c749c4074"><div class="ttname"><a href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a></div><div class="ttdeci">__uint8_t uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00021">stdint.h:21</a></div></div>
<div class="ttc" id="aclassWebServer_html_a97462d440969cc0e23a7aed22710f8fb"><div class="ttname"><a href="classWebServer.html#a97462d440969cc0e23a7aed22710f8fb">WebServer::onNotFound</a></div><div class="ttdeci">void onNotFound(THandlerFunction fn)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00610">WebServer.cpp:610</a></div></div>
<div class="ttc" id="aclassWebServer_html_a4f546e9bb9e4caa176dc3c993a4a606b"><div class="ttname"><a href="classWebServer.html#a4f546e9bb9e4caa176dc3c993a4a606b">WebServer::_currentUri</a></div><div class="ttdeci">String _currentUri</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00175">WebServer.h:175</a></div></div>
<div class="ttc" id="aclassWiFiServer_html_abfd839b75fa3c40bd5e22c4a122ed800"><div class="ttname"><a href="classWiFiServer.html#abfd839b75fa3c40bd5e22c4a122ed800">WiFiServer::available</a></div><div class="ttdeci">WiFiClient available()</div><div class="ttdef"><b>Definition:</b> <a href="WiFiServer_8cpp_source.html#l00041">WiFiServer.cpp:41</a></div></div>
<div class="ttc" id="aclassWebServer_html_af4c1f393802903ad63423532cda7fd8f"><div class="ttname"><a href="classWebServer.html#af4c1f393802903ad63423532cda7fd8f">WebServer::_hostHeader</a></div><div class="ttdeci">String _hostHeader</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00198">WebServer.h:198</a></div></div>
<div class="ttc" id="aclassWebServer_html_a2244b04a5bfd2dd5423f0efcc1b6be1f"><div class="ttname"><a href="classWebServer.html#a2244b04a5bfd2dd5423f0efcc1b6be1f">WebServer::_contentLength</a></div><div class="ttdeci">size_t _contentLength</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00195">WebServer.h:195</a></div></div>
<div class="ttc" id="aclassWebServer_html_a53ac82f52fad03bbbdda9f23a6764a63"><div class="ttname"><a href="classWebServer.html#a53ac82f52fad03bbbdda9f23a6764a63">WebServer::_srealm</a></div><div class="ttdeci">String _srealm</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00203">WebServer.h:203</a></div></div>
<div class="ttc" id="aclassWiFiServer_html_acb118e420ed19bc3bc32d3c24d612697"><div class="ttname"><a href="classWiFiServer.html#acb118e420ed19bc3bc32d3c24d612697">WiFiServer::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition:</b> <a href="WiFiServer_8cpp_source.html#l00115">WiFiServer.cpp:115</a></div></div>
<div class="ttc" id="aclassWebServer_html_afee027a40053c7ef771a354526d48f7a"><div class="ttname"><a href="classWebServer.html#afee027a40053c7ef771a354526d48f7a">WebServer::THandlerFunction</a></div><div class="ttdeci">std::function&lt; void(void)&gt; THandlerFunction</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00087">WebServer.h:87</a></div></div>
<div class="ttc" id="aHTTP__Method_8h_html_a837a089a977b319a11edfb8022d9e47d"><div class="ttname"><a href="HTTP__Method_8h.html#a837a089a977b319a11edfb8022d9e47d">HTTPMethod</a></div><div class="ttdeci">HTTPMethod</div><div class="ttdef"><b>Definition:</b> <a href="HTTP__Method_8h_source.html#l00004">HTTP_Method.h:4</a></div></div>
<div class="ttc" id="aWebServer_8h_html_acdc8a6c73ec21484f00b429d696ebd33"><div class="ttname"><a href="WebServer_8h.html#acdc8a6c73ec21484f00b429d696ebd33">CONTENT_LENGTH_UNKNOWN</a></div><div class="ttdeci">#define CONTENT_LENGTH_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00050">WebServer.h:49</a></div></div>
<div class="ttc" id="aclassWebServer_html_a945e23d0d055445ee319ce7f34041586"><div class="ttname"><a href="classWebServer.html#a945e23d0d055445ee319ce7f34041586">WebServer::_chunked</a></div><div class="ttdeci">bool _chunked</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8h_source.html#l00199">WebServer.h:199</a></div></div>
<div class="ttc" id="aclassWebServer_html_a94f21f7fa43cf6c069cc0f95f596e25f"><div class="ttname"><a href="classWebServer.html#a94f21f7fa43cf6c069cc0f95f596e25f">WebServer::header</a></div><div class="ttdeci">String header(String name)</div><div class="ttdef"><b>Definition:</b> <a href="WebServer_8cpp_source.html#l00559">WebServer.cpp:559</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
