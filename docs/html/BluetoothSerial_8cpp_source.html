<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>watch 2: components/arduino-esp32/libraries/BluetoothSerial/src/BluetoothSerial.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">watch 2
   </div>
   <div id="projectbrief">Firmwareforwatch2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_5eb99044ce905dee52e93bf33cea5db4.html">arduino-esp32</a></li><li class="navelem"><a class="el" href="dir_0b98385dcf64e929fcaa5e8c894594ea.html">libraries</a></li><li class="navelem"><a class="el" href="dir_1c1e787d7b94aff1bd480f0ef085c0d3.html">BluetoothSerial</a></li><li class="navelem"><a class="el" href="dir_31ee1d7cd857eb3063f01d2e3cb20c10.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BluetoothSerial.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="BluetoothSerial_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2018 Evandro Luis Copercini</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//     http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// limitations under the License.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;sdkconfig.h&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;cstdio&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;cstdlib&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h.html">freertos/FreeRTOS.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="task_8h.html">freertos/task.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#if defined(CONFIG_BT_ENABLED) &amp;&amp; defined(CONFIG_BLUEDROID_ENABLED)</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#ifdef ARDUINO_ARCH_ESP32</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp32-hal-log_8h.html">esp32-hal-log.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BluetoothSerial_8h.html">BluetoothSerial.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp__bt_8h.html">esp_bt.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp__bt__main_8h.html">esp_bt_main.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp__gap__bt__api_8h.html">esp_gap_bt_api.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp__bt__device_8h.html">esp_bt_device.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp__spp__api_8h.html">esp_spp_api.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="esp__log_8h.html">esp_log.h</a>&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp32-hal-log_8h.html">esp32-hal-log.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> * _spp_server_name = <span class="stringliteral">&quot;ESP32SPP&quot;</span>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#define RX_QUEUE_SIZE 512</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#define TX_QUEUE_SIZE 32</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> _spp_client = 0;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">static</span> <a class="code" href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h.html#a2b4ea2af4cc24db3cbd458722e96fa2f">xQueueHandle</a> _spp_rx_queue = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">static</span> <a class="code" href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h.html#a2b4ea2af4cc24db3cbd458722e96fa2f">xQueueHandle</a> _spp_tx_queue = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">static</span> <a class="code" href="semphr_8h.html#ad88c6df4a04beedeac782918c8a332f5">SemaphoreHandle_t</a> _spp_tx_done = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">static</span> <a class="code" href="task_8h.html#ae95f44d4cfeb4a599c6cc258d241cb6b">TaskHandle_t</a> _spp_task_handle = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">static</span> <a class="code" href="event__groups_8h.html#a5119294106541c4eca46e8742fdb4e85">EventGroupHandle_t</a> _spp_event_group = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">static</span> <span class="keywordtype">boolean</span> secondConnectionAttempt;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">static</span> <a class="code" href="esp__spp__api_8h.html#a7fc2796d45185162b4dce6273a1a3f11">esp_spp_cb_t</a> * custom_spp_callback = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">static</span> BluetoothSerialDataCb custom_data_callback = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#define INQ_LEN 0x10</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#define INQ_NUM_RSPS 20</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#define READY_TIMEOUT (10 * 1000)</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#define SCAN_TIMEOUT (INQ_LEN * 2 * 1000)</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">static</span> <a class="code" href="esp__bt__defs_8h.html#ae1f72542f04666cd97c26732366bf109">esp_bd_addr_t</a> _peer_bd_addr;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> _remote_name[<a class="code" href="esp__gap__bt__api_8h.html#a5e78839c521c4f25d66f8c44d7dbb150">ESP_BT_GAP_MAX_BDNAME_LEN</a> + 1];</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> _isRemoteAddressSet;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> _isMaster;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">static</span> <a class="code" href="esp__gap__bt__api_8h.html#a77f09791d053a13d940847b718dcb482">esp_bt_pin_code_t</a> _pin_code;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> _pin_len;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> _isPinSet;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> _enableSSP;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#define SPP_RUNNING     0x01</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#define SPP_CONNECTED   0x02</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#define SPP_CONGESTED   0x04</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#define SPP_DISCONNECTED 0x08</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordtype">size_t</span> len;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> <a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a>[];</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;} spp_packet_t;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#if (ARDUHAL_LOG_LEVEL &gt;= ARDUHAL_LOG_LEVEL_INFO)</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *bda2str(<a class="code" href="esp__bt__defs_8h.html#ae1f72542f04666cd97c26732366bf109">esp_bd_addr_t</a> bda, <span class="keywordtype">char</span> *<a class="code" href="structstr.html">str</a>, <span class="keywordtype">size_t</span> <a class="code" href="cacheasm_8h.html#a296a4dfa224096b538c66a9bab58cb9e">size</a>)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">if</span> (bda == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || <a class="code" href="structstr.html">str</a> == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || <a class="code" href="cacheasm_8h.html#a296a4dfa224096b538c66a9bab58cb9e">size</a> &lt; 18) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> *<a class="code" href="tag__strings_8h.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = bda;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  sprintf(<a class="code" href="structstr.html">str</a>, <span class="stringliteral">&quot;%02x:%02x:%02x:%02x:%02x:%02x&quot;</span>,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;          <a class="code" href="tag__strings_8h.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0], <a class="code" href="tag__strings_8h.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1], <a class="code" href="tag__strings_8h.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[2], <a class="code" href="tag__strings_8h.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[3], <a class="code" href="tag__strings_8h.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[4], <a class="code" href="tag__strings_8h.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[5]);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structstr.html">str</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> get_name_from_eir(<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> *eir, <span class="keywordtype">char</span> *bdname, <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> *bdname_len)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span> (!eir || !bdname || !bdname_len) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> *rmt_bdname, rmt_bdname_len;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    *bdname = *bdname_len = rmt_bdname_len = 0;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    rmt_bdname = <a class="code" href="esp__gap__bt__api_8h.html#a88f629eb91457ac80ed0b10897cf4417">esp_bt_gap_resolve_eir_data</a>(eir, <a class="code" href="esp__gap__bt__api_8h.html#a6a5a6cb642b34be8248fe8f932f473eea135a06fd4c7d520ab84fd0b9291e9818">ESP_BT_EIR_TYPE_CMPL_LOCAL_NAME</a>, &amp;rmt_bdname_len);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">if</span> (!rmt_bdname) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        rmt_bdname = <a class="code" href="esp__gap__bt__api_8h.html#a88f629eb91457ac80ed0b10897cf4417">esp_bt_gap_resolve_eir_data</a>(eir, <a class="code" href="esp__gap__bt__api_8h.html#a6a5a6cb642b34be8248fe8f932f473eeaf4d55d54aeda77238db7f4dbed178d37">ESP_BT_EIR_TYPE_SHORT_LOCAL_NAME</a>, &amp;rmt_bdname_len);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">if</span> (rmt_bdname) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        rmt_bdname_len = rmt_bdname_len &gt; <a class="code" href="esp__gap__bt__api_8h.html#a5e78839c521c4f25d66f8c44d7dbb150">ESP_BT_GAP_MAX_BDNAME_LEN</a> ? <a class="code" href="esp__gap__bt__api_8h.html#a5e78839c521c4f25d66f8c44d7dbb150">ESP_BT_GAP_MAX_BDNAME_LEN</a> : rmt_bdname_len;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        memcpy(bdname, rmt_bdname, rmt_bdname_len);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        bdname[rmt_bdname_len] = 0;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        *bdname_len = rmt_bdname_len;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> btSetPin() {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="esp__gap__bt__api_8h.html#a56bf1f286d183cec748ffa959226c2a5">esp_bt_pin_type_t</a> pin_type;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (_isPinSet) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">if</span> (_pin_len) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;pin set&quot;</span>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            pin_type = <a class="code" href="esp__gap__bt__api_8h.html#a56bf1f286d183cec748ffa959226c2a5a142e8b3410256eee44269a4a13cf1c46">ESP_BT_PIN_TYPE_FIXED</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            _isPinSet = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;pin reset&quot;</span>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            pin_type = <a class="code" href="esp__gap__bt__api_8h.html#a56bf1f286d183cec748ffa959226c2a5af2c280b2b3a606f0f6ba3750d778bc94">ESP_BT_PIN_TYPE_VARIABLE</a>; <span class="comment">// pin_code would be ignored (default)</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="esp__gap__bt__api_8h.html#a5f62a086b087dcbe77e86cd60ac2da9b">esp_bt_gap_set_pin</a>(pin_type, _pin_len, _pin_code) == <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>);        </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keyword">static</span> <a class="code" href="esp__err_8h.html#ae535f6066003e82408b58e12f6950868">esp_err_t</a> _spp_queue_packet(<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> *<a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a>, <span class="keywordtype">size_t</span> len){</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a> || !len){</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a71c957bc93270caaa91f41f6989c317b">log_w</a>(<span class="stringliteral">&quot;No data provided&quot;</span>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    spp_packet_t * packet = (spp_packet_t*)<a class="code" href="unity__fixture__malloc__overrides_8h.html#acf143577800376dd931c059ecc61ba06">malloc</a>(<span class="keyword">sizeof</span>(spp_packet_t) + len);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span>(!packet){</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;SPP TX Packet Malloc Failed!&quot;</span>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="esp__err_8h.html#a3792b0d09c0170e4a3b5bb9b6f6fa72b">ESP_FAIL</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    packet-&gt;len = len;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    memcpy(packet-&gt;data, <a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a>, len);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="freertos_2freertos_2queue_8h.html#af7eb49d3249351176992950d9185abe9">xQueueSend</a>(_spp_tx_queue, &amp;packet, <a class="code" href="portmacro_8h.html#a72723ba1e4a85ca14f25c2b9e066613d">portMAX_DELAY</a>) != <a class="code" href="projdefs_8h.html#a07848d3078849bd32353c69d30a479b3">pdPASS</a>) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;SPP TX Queue Send Failed!&quot;</span>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="RPSL_8txt.html#ae227cfd33a5880ffce840d383c2fbff3">free</a>(packet);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="esp__err_8h.html#a3792b0d09c0170e4a3b5bb9b6f6fa72b">ESP_FAIL</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="keyword">const</span> <a class="code" href="stdint_8h.html#a281b4b5562236420969a830503b0ba19">uint16_t</a> SPP_TX_MAX = 330;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> _spp_tx_buffer[SPP_TX_MAX];</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a281b4b5562236420969a830503b0ba19">uint16_t</a> _spp_tx_buffer_len = 0;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> _spp_send_buffer(){</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="event__groups_8h.html#aab9d5b405bc57b7624dcabe9a9a503db">xEventGroupWaitBits</a>(_spp_event_group, SPP_CONGESTED, <a class="code" href="projdefs_8h.html#aa56260e937e7e203026707e5ba944273">pdFALSE</a>, <a class="code" href="projdefs_8h.html#af268cf937960eb029256bd9c4d949fbe">pdTRUE</a>, <a class="code" href="portmacro_8h.html#a72723ba1e4a85ca14f25c2b9e066613d">portMAX_DELAY</a>) &amp; SPP_CONGESTED) != 0){</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="esp__err_8h.html#ae535f6066003e82408b58e12f6950868">esp_err_t</a> err = <a class="code" href="esp__spp__api_8h.html#a19ce0d2d6cfa9dd27bc155308c1281af">esp_spp_write</a>(_spp_client, _spp_tx_buffer_len, _spp_tx_buffer);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">if</span>(err != <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>){</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;SPP Write Failed! [0x%X]&quot;</span>, err);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        _spp_tx_buffer_len = 0;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="semphr_8h.html#af116e436d2a5ae5bd72dbade2b5ea930">xSemaphoreTake</a>(_spp_tx_done, <a class="code" href="portmacro_8h.html#a72723ba1e4a85ca14f25c2b9e066613d">portMAX_DELAY</a>) != <a class="code" href="projdefs_8h.html#af268cf937960eb029256bd9c4d949fbe">pdTRUE</a>){</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;SPP Ack Failed!&quot;</span>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> _spp_tx_task(<span class="keywordtype">void</span> * arg){</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    spp_packet_t *packet = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordtype">size_t</span> len = 0, to_send = 0;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> * <a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a> = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">if</span>(_spp_tx_queue &amp;&amp; <a class="code" href="freertos_2freertos_2queue_8h.html#af1549eac0e7f05694a59a0b967c80be3">xQueueReceive</a>(_spp_tx_queue, &amp;packet, <a class="code" href="portmacro_8h.html#a72723ba1e4a85ca14f25c2b9e066613d">portMAX_DELAY</a>) == <a class="code" href="projdefs_8h.html#af268cf937960eb029256bd9c4d949fbe">pdTRUE</a> &amp;&amp; packet){</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="keywordflow">if</span>(packet-&gt;len &lt;= (SPP_TX_MAX - _spp_tx_buffer_len)){</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                memcpy(_spp_tx_buffer+_spp_tx_buffer_len, packet-&gt;data, packet-&gt;len);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                _spp_tx_buffer_len+=packet-&gt;len;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <a class="code" href="RPSL_8txt.html#ae227cfd33a5880ffce840d383c2fbff3">free</a>(packet);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                packet = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                <span class="keywordflow">if</span>(SPP_TX_MAX == _spp_tx_buffer_len || <a class="code" href="freertos_2freertos_2queue_8h.html#add7ee0701ba35904d190811b9e5a4eda">uxQueueMessagesWaiting</a>(_spp_tx_queue) == 0){</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    _spp_send_buffer();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                len = packet-&gt;len;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a> = packet-&gt;data;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                to_send = SPP_TX_MAX - _spp_tx_buffer_len;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                memcpy(_spp_tx_buffer+_spp_tx_buffer_len, <a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a>, to_send);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                _spp_tx_buffer_len = SPP_TX_MAX;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a> += to_send;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                len -= to_send;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                _spp_send_buffer();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <span class="keywordflow">while</span>(len &gt;= SPP_TX_MAX){</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    memcpy(_spp_tx_buffer, <a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a>, SPP_TX_MAX);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    _spp_tx_buffer_len = SPP_TX_MAX;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    <a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a> += SPP_TX_MAX;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                    len -= SPP_TX_MAX;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                    _spp_send_buffer();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                <span class="keywordflow">if</span>(len){</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                    memcpy(_spp_tx_buffer, <a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a>, len);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    _spp_tx_buffer_len += len;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="freertos_2freertos_2queue_8h.html#add7ee0701ba35904d190811b9e5a4eda">uxQueueMessagesWaiting</a>(_spp_tx_queue) == 0){</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                        _spp_send_buffer();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                <a class="code" href="RPSL_8txt.html#ae227cfd33a5880ffce840d383c2fbff3">free</a>(packet);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                packet = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;Something went horribly wrong&quot;</span>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="task_8h.html#a27ff4ebce26565bef136bda84201ff80">vTaskDelete</a>(<a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    _spp_task_handle = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> esp_spp_cb(<a class="code" href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08">esp_spp_cb_event_t</a> <a class="code" href="namespaceasio_1_1detail.html#a83969c12552b8b4db0c39a9efd1e0e25">event</a>, <a class="code" href="unionesp__spp__cb__param__t.html">esp_spp_cb_param_t</a> *<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespaceasio_1_1detail.html#a83969c12552b8b4db0c39a9efd1e0e25">event</a>)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08ad186e8d602471f8d2d17c1226db1a3dc">ESP_SPP_INIT_EVT</a>:</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_SPP_INIT_EVT&quot;</span>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="esp__gap__bt__api_8h.html#a56cca136845f9cd9efbdaf668b5c50b4">esp_bt_gap_set_scan_mode</a>(<a class="code" href="esp__gap__bt__api_8h.html#a672863e3322907a0aa2b7520206623feac5ce274b219d6c91aa3eed4d5b3935e9">ESP_BT_SCAN_MODE_CONNECTABLE_DISCOVERABLE</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> (!_isMaster) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_SPP_INIT_EVT: slave: start&quot;</span>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <a class="code" href="esp__spp__api_8h.html#a34838f494fe8f36c75bacca224ae1eb7">esp_spp_start_srv</a>(<a class="code" href="esp__spp__api_8h.html#a9ab03b1294316af77ba6ab8f37da1e09">ESP_SPP_SEC_NONE</a>, <a class="code" href="esp__spp__api_8h.html#a5f01d6989140d6ffe5929b5cd815017ca02c1783cc9842d9c044acd8e5d28a29e">ESP_SPP_ROLE_SLAVE</a>, 0, _spp_server_name);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="event__groups_8h.html#a02d7b3bb55f7e11d9c47116266c5fb2e">xEventGroupSetBits</a>(_spp_event_group, SPP_RUNNING);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a3c4b18df7505dbb3a86190ec474103e9">ESP_SPP_SRV_OPEN_EVT</a>:<span class="comment">//Server connection open</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_SPP_SRV_OPEN_EVT&quot;</span>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">if</span> (!_spp_client){</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            _spp_client = <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;open.handle;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            secondConnectionAttempt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <a class="code" href="esp__spp__api_8h.html#a41a0f4634358bcf54e196dea2163c563">esp_spp_disconnect</a>(<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;open.handle);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="event__groups_8h.html#a0fb72cfdd4f0d5f86d955fc3af448f2a">xEventGroupClearBits</a>(_spp_event_group, SPP_DISCONNECTED);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="event__groups_8h.html#a02d7b3bb55f7e11d9c47116266c5fb2e">xEventGroupSetBits</a>(_spp_event_group, SPP_CONNECTED);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a1e1d5d245d1e6c2cad2acbd92186af1c">ESP_SPP_CLOSE_EVT</a>:<span class="comment">//Client connection closed</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_SPP_CLOSE_EVT&quot;</span>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">if</span>(secondConnectionAttempt) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            secondConnectionAttempt = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            _spp_client = 0;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <a class="code" href="event__groups_8h.html#a02d7b3bb55f7e11d9c47116266c5fb2e">xEventGroupSetBits</a>(_spp_event_group, SPP_DISCONNECTED);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        }        </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="event__groups_8h.html#a0fb72cfdd4f0d5f86d955fc3af448f2a">xEventGroupClearBits</a>(_spp_event_group, SPP_CONNECTED);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08ab52142d236d39f52748d0aba4374359d">ESP_SPP_CONG_EVT</a>:<span class="comment">//connection congestion status changed</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;cong.cong){</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <a class="code" href="event__groups_8h.html#a0fb72cfdd4f0d5f86d955fc3af448f2a">xEventGroupClearBits</a>(_spp_event_group, SPP_CONGESTED);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="event__groups_8h.html#a02d7b3bb55f7e11d9c47116266c5fb2e">xEventGroupSetBits</a>(_spp_event_group, SPP_CONGESTED);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a>(<span class="stringliteral">&quot;ESP_SPP_CONG_EVT: %s&quot;</span>, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;cong.cong?<span class="stringliteral">&quot;CONGESTED&quot;</span>:<span class="stringliteral">&quot;FREE&quot;</span>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a61f37f95e08b0f78972cce2be48880e4">ESP_SPP_WRITE_EVT</a>:<span class="comment">//write operation completed</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;write.cong){</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <a class="code" href="event__groups_8h.html#a0fb72cfdd4f0d5f86d955fc3af448f2a">xEventGroupClearBits</a>(_spp_event_group, SPP_CONGESTED);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="semphr_8h.html#aae55761cabfa9bf85c8f4430f78c0953">xSemaphoreGive</a>(_spp_tx_done);<span class="comment">//we can try to send another packet</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a>(<span class="stringliteral">&quot;ESP_SPP_WRITE_EVT: %u %s&quot;</span>, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;write.len, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;write.cong?<span class="stringliteral">&quot;CONGESTED&quot;</span>:<span class="stringliteral">&quot;FREE&quot;</span>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a36176c0b391301b19e41bd75079dac30">ESP_SPP_DATA_IND_EVT</a>:<span class="comment">//connection received data</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a>(<span class="stringliteral">&quot;ESP_SPP_DATA_IND_EVT len=%d handle=%d&quot;</span>, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;data_ind.len, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;data_ind.handle);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="comment">//esp_log_buffer_hex(&quot;&quot;,param-&gt;data_ind.data,param-&gt;data_ind.len); //for low level debug</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="comment">//ets_printf(&quot;r:%u\n&quot;, param-&gt;data_ind.len);</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">if</span>(custom_data_callback){</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            custom_data_callback(<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;data_ind.data, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;data_ind.len);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_spp_rx_queue != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>){</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;data_ind.len; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++){</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="freertos_2freertos_2queue_8h.html#af7eb49d3249351176992950d9185abe9">xQueueSend</a>(_spp_rx_queue, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;data_ind.data + <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, (<a class="code" href="portmacro_8h.html#aa69c48c6e902ce54f70886e6573c92a9">TickType_t</a>)0) != <a class="code" href="projdefs_8h.html#af268cf937960eb029256bd9c4d949fbe">pdTRUE</a>){</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;RX Full! Discarding %u bytes&quot;</span>, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;data_ind.len - <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a5d994466ef990521c72902d8600cb4b1">ESP_SPP_DISCOVERY_COMP_EVT</a>:<span class="comment">//discovery complete</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_SPP_DISCOVERY_COMP_EVT&quot;</span>);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;disc_comp.status == <a class="code" href="esp__spp__api_8h.html#a9a655fe8825be94298f2c793e3c32c79a91822adc5509a8351baa7bc9a5274c38">ESP_SPP_SUCCESS</a>) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_SPP_DISCOVERY_COMP_EVT: spp connect to remote&quot;</span>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <a class="code" href="esp__spp__api_8h.html#af7d04ba99fba7a88c740531d288d42f8">esp_spp_connect</a>(<a class="code" href="esp__spp__api_8h.html#afba29d327dae518240ab0a011235b9cd">ESP_SPP_SEC_AUTHENTICATE</a>, <a class="code" href="esp__spp__api_8h.html#a5f01d6989140d6ffe5929b5cd815017cac805bd35d480688d7b7d931bc127c9a9">ESP_SPP_ROLE_MASTER</a>, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;disc_comp.scn[0], _peer_bd_addr);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08aa2d1048db8f57754f84af14fca03a8d2">ESP_SPP_OPEN_EVT</a>:<span class="comment">//Client connection open</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_SPP_OPEN_EVT&quot;</span>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">if</span> (!_spp_client){</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                _spp_client = <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;open.handle;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            secondConnectionAttempt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <a class="code" href="esp__spp__api_8h.html#a41a0f4634358bcf54e196dea2163c563">esp_spp_disconnect</a>(<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;open.handle);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <a class="code" href="event__groups_8h.html#a0fb72cfdd4f0d5f86d955fc3af448f2a">xEventGroupClearBits</a>(_spp_event_group, SPP_DISCONNECTED);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="event__groups_8h.html#a02d7b3bb55f7e11d9c47116266c5fb2e">xEventGroupSetBits</a>(_spp_event_group, SPP_CONNECTED);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a53cbc2c55defa3a716b4e257dc2a13ba">ESP_SPP_START_EVT</a>:<span class="comment">//server started</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_SPP_START_EVT&quot;</span>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a1d337fde29ccfbf25e88e95f435526ad">ESP_SPP_CL_INIT_EVT</a>:<span class="comment">//client initiated a connection</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_SPP_CL_INIT_EVT&quot;</span>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span>(custom_spp_callback)(*custom_spp_callback)(<a class="code" href="namespaceasio_1_1detail.html#a83969c12552b8b4db0c39a9efd1e0e25">event</a>, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="keywordtype">void</span> BluetoothSerial::onData(BluetoothSerialDataCb cb){</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    custom_data_callback = cb;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> esp_bt_gap_cb(<a class="code" href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8">esp_bt_gap_cb_event_t</a> <a class="code" href="namespaceasio_1_1detail.html#a83969c12552b8b4db0c39a9efd1e0e25">event</a>, <a class="code" href="unionesp__bt__gap__cb__param__t.html">esp_bt_gap_cb_param_t</a> *<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;{</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">switch</span>(<a class="code" href="namespaceasio_1_1detail.html#a83969c12552b8b4db0c39a9efd1e0e25">event</a>){</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a3ce9fdbe0b41b895dd6c93f414c32a40">ESP_BT_GAP_DISC_RES_EVT</a>:</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_BT_GAP_DISC_RES_EVT&quot;</span>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="preprocessor">#if (ARDUHAL_LOG_LEVEL &gt;= ARDUHAL_LOG_LEVEL_INFO)</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordtype">char</span> bda_str[18];</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;Scanned device: %s&quot;</span>, bda2str(<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;disc_res.bda, bda_str, 18));</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;disc_res.num_prop; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> peer_bdname_len;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <span class="keywordtype">char</span> peer_bdname[<a class="code" href="esp__gap__bt__api_8h.html#a5e78839c521c4f25d66f8c44d7dbb150">ESP_BT_GAP_MAX_BDNAME_LEN</a> + 1];</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="keywordflow">switch</span>(<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;disc_res.prop[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].type) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#af5aa42985bb3ed945718480f988d46aaa46dd478159110086035ed63cf2055405">ESP_BT_GAP_DEV_PROP_EIR</a>:  </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                        <span class="keywordflow">if</span> (get_name_from_eir((<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a>*)<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;disc_res.prop[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].val, peer_bdname, &amp;peer_bdname_len)) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_BT_GAP_DISC_RES_EVT : EIR : %s : %d&quot;</span>, peer_bdname, peer_bdname_len);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                            <span class="keywordflow">if</span> (strlen(_remote_name) == peer_bdname_len</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                                &amp;&amp; strncmp(peer_bdname, _remote_name, peer_bdname_len) == 0) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                                <a class="code" href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a>(<span class="stringliteral">&quot;ESP_BT_GAP_DISC_RES_EVT : SPP_START_DISCOVERY_EIR : %s&quot;</span>, peer_bdname, peer_bdname_len);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                                _isRemoteAddressSet = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                                memcpy(_peer_bd_addr, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;disc_res.bda, <a class="code" href="esp__bt__defs_8h.html#a65bf15aa439b35556ba7ab04e7a1c1d8">ESP_BD_ADDR_LEN</a>);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                                <a class="code" href="esp__gap__bt__api_8h.html#a150c61205bd33c8b53c4fec170be94e0">esp_bt_gap_cancel_discovery</a>();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                <a class="code" href="esp__spp__api_8h.html#af05d63a61e5abd00a4afb5f1572fc914">esp_spp_start_discovery</a>(_peer_bd_addr);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                            }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                        }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#af5aa42985bb3ed945718480f988d46aaa3174981fdfc5083ae4def43990ab015b">ESP_BT_GAP_DEV_PROP_BDNAME</a>:</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                        peer_bdname_len = <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;disc_res.prop[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].len;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                        memcpy(peer_bdname, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;disc_res.prop[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].val, peer_bdname_len);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                        peer_bdname_len--; <span class="comment">// len includes 0 terminator</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                        <a class="code" href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a>(<span class="stringliteral">&quot;ESP_BT_GAP_DISC_RES_EVT : BDNAME :  %s : %d&quot;</span>, peer_bdname, peer_bdname_len);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                        <span class="keywordflow">if</span> (strlen(_remote_name) == peer_bdname_len</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                            &amp;&amp; strncmp(peer_bdname, _remote_name, peer_bdname_len) == 0) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_BT_GAP_DISC_RES_EVT : SPP_START_DISCOVERY_BDNAME : %s&quot;</span>, peer_bdname);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                            _isRemoteAddressSet = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                            memcpy(_peer_bd_addr, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;disc_res.bda, <a class="code" href="esp__bt__defs_8h.html#a65bf15aa439b35556ba7ab04e7a1c1d8">ESP_BD_ADDR_LEN</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                            <a class="code" href="esp__gap__bt__api_8h.html#a150c61205bd33c8b53c4fec170be94e0">esp_bt_gap_cancel_discovery</a>();</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                            <a class="code" href="esp__spp__api_8h.html#af05d63a61e5abd00a4afb5f1572fc914">esp_spp_start_discovery</a>(_peer_bd_addr);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                        } </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#af5aa42985bb3ed945718480f988d46aaa35cd72e8cca9f3e73a993987c3f560ea">ESP_BT_GAP_DEV_PROP_COD</a>:</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                        <a class="code" href="esp32-hal-log_8h.html#a1de06c4fd79189513953309af5b5593a">log_d</a>(<span class="stringliteral">&quot;ESP_BT_GAP_DEV_PROP_COD&quot;</span>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#af5aa42985bb3ed945718480f988d46aaa11d6b687b9d94eab10979b91acc03a4a">ESP_BT_GAP_DEV_PROP_RSSI</a>:</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                        <a class="code" href="esp32-hal-log_8h.html#a1de06c4fd79189513953309af5b5593a">log_d</a>(<span class="stringliteral">&quot;ESP_BT_GAP_DEV_PROP_RSSI&quot;</span>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                        </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <span class="keywordflow">if</span> (_isRemoteAddressSet)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a4a85f03a19f7b7106857aa44ceb002b5">ESP_BT_GAP_DISC_STATE_CHANGED_EVT</a>:</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_BT_GAP_DISC_STATE_CHANGED_EVT&quot;</span>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a20f21806a1d939b4d0f8154f4a98e200">ESP_BT_GAP_RMT_SRVCS_EVT</a>:</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>( <span class="stringliteral">&quot;ESP_BT_GAP_RMT_SRVCS_EVT&quot;</span>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a55919a1ecaff0adb60dafba9d8713123">ESP_BT_GAP_RMT_SRVC_REC_EVT</a>:</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_BT_GAP_RMT_SRVC_REC_EVT&quot;</span>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8aac161b673c4693d9d0bfb4642862df81">ESP_BT_GAP_AUTH_CMPL_EVT</a>:</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;auth_cmpl.stat == <a class="code" href="esp__bt__defs_8h.html#a9cad553df52000cbee528383bfcde1b1aaa1224bc9d88b06ff18b23f37fee57ad">ESP_BT_STATUS_SUCCESS</a>) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <a class="code" href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a>(<span class="stringliteral">&quot;authentication success: %s&quot;</span>, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;auth_cmpl.device_name);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;authentication failed, status:%d&quot;</span>, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;auth_cmpl.stat);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8ad25645acd1448625871b8633b4d18e2b">ESP_BT_GAP_PIN_REQ_EVT</a>:</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="comment">// default pairing pins</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_BT_GAP_PIN_REQ_EVT min_16_digit:%d&quot;</span>, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;pin_req.min_16_digit);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;pin_req.min_16_digit) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;Input pin code: 0000 0000 0000 0000&quot;</span>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                <a class="code" href="esp__gap__bt__api_8h.html#a77f09791d053a13d940847b718dcb482">esp_bt_pin_code_t</a> pin_code;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                memset(pin_code, <span class="charliteral">&#39;0&#39;</span>, <a class="code" href="esp__gap__bt__api_8h.html#a2bb1733280e300d7b8d9e2206133b33d">ESP_BT_PIN_CODE_LEN</a>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <a class="code" href="esp__gap__bt__api_8h.html#ac22f66770a11d62c22452629ecb273bf">esp_bt_gap_pin_reply</a>(<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;pin_req.bda, <span class="keyword">true</span>, 16, pin_code);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;Input pin code: 1234&quot;</span>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <a class="code" href="esp__gap__bt__api_8h.html#a77f09791d053a13d940847b718dcb482">esp_bt_pin_code_t</a> pin_code;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                memcpy(pin_code, <span class="stringliteral">&quot;1234&quot;</span>, 4);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                <a class="code" href="esp__gap__bt__api_8h.html#ac22f66770a11d62c22452629ecb273bf">esp_bt_gap_pin_reply</a>(<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;pin_req.bda, <span class="keyword">true</span>, 4, pin_code);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;       </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a2fed49bb9debbaf62500ad9272138d33">ESP_BT_GAP_CFM_REQ_EVT</a>:</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_BT_GAP_CFM_REQ_EVT Please compare the numeric value: %d&quot;</span>, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;cfm_req.num_val);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <a class="code" href="esp__gap__bt__api_8h.html#a157e5815492b0a0f3afb9bec567dfdff">esp_bt_gap_ssp_confirm_reply</a>(<a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;cfm_req.bda, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a775b9a98ff5f15a3a667b766369e71c4">ESP_BT_GAP_KEY_NOTIF_EVT</a>:</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_BT_GAP_KEY_NOTIF_EVT passkey:%d&quot;</span>, <a class="code" href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a>-&gt;key_notif.passkey);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a7f72d9f4bf4d2997d3bd7d6331059c81">ESP_BT_GAP_KEY_REQ_EVT</a>:</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;ESP_BT_GAP_KEY_REQ_EVT Please enter passkey!&quot;</span>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> _init_bt(<span class="keyword">const</span> <span class="keywordtype">char</span> *deviceName)</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;{</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">if</span>(!_spp_event_group){</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        _spp_event_group = xEventGroupCreate();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">if</span>(!_spp_event_group){</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;SPP Event Group Create Failed!&quot;</span>);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="event__groups_8h.html#a0fb72cfdd4f0d5f86d955fc3af448f2a">xEventGroupClearBits</a>(_spp_event_group, 0xFFFFFF);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <a class="code" href="event__groups_8h.html#a02d7b3bb55f7e11d9c47116266c5fb2e">xEventGroupSetBits</a>(_spp_event_group, SPP_CONGESTED);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <a class="code" href="event__groups_8h.html#a02d7b3bb55f7e11d9c47116266c5fb2e">xEventGroupSetBits</a>(_spp_event_group, SPP_DISCONNECTED);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">if</span> (_spp_rx_queue == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>){</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        _spp_rx_queue = xQueueCreate(RX_QUEUE_SIZE, <span class="keyword">sizeof</span>(<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a>)); <span class="comment">//initialize the queue</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">if</span> (_spp_rx_queue == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>){</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;RX Queue Create Failed&quot;</span>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">if</span> (_spp_tx_queue == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>){</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        _spp_tx_queue = xQueueCreate(TX_QUEUE_SIZE, <span class="keyword">sizeof</span>(spp_packet_t*)); <span class="comment">//initialize the queue</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordflow">if</span> (_spp_tx_queue == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>){</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;TX Queue Create Failed&quot;</span>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">if</span>(_spp_tx_done == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>){</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        _spp_tx_done = xSemaphoreCreateBinary();</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">if</span> (_spp_tx_done == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>){</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;TX Semaphore Create Failed&quot;</span>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="semphr_8h.html#af116e436d2a5ae5bd72dbade2b5ea930">xSemaphoreTake</a>(_spp_tx_done, 0);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span>(!_spp_task_handle){</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        xTaskCreatePinnedToCore(_spp_tx_task, <span class="stringliteral">&quot;spp_tx&quot;</span>, 4096, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 2, &amp;_spp_task_handle, 0);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">if</span>(!_spp_task_handle){</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;Network Event Task Start Failed!&quot;</span>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="esp32-hal-bt_8h.html#a36f1b40e46ccfa0e45bd15bc93e6e1bd">btStarted</a>() &amp;&amp; !<a class="code" href="esp32-hal-bt_8h.html#a920f1d5645eff5bb9dedd84d5c20f794">btStart</a>()){</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;initialize controller failed&quot;</span>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="esp__bt__main_8h.html#aeb0782778442a6ad8501ace628333ac1">esp_bluedroid_status_t</a> bt_state = <a class="code" href="esp__bt__main_8h.html#a00a44f8acf099eebed99932b71798670">esp_bluedroid_get_status</a>();</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">if</span> (bt_state == <a class="code" href="esp__bt__main_8h.html#aeb0782778442a6ad8501ace628333ac1aeb2a14102ffe9d7f8eb18cf20530acb3">ESP_BLUEDROID_STATUS_UNINITIALIZED</a>){</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="esp__bt__main_8h.html#ab1cc165d424ddf133a5f1fc973c85326">esp_bluedroid_init</a>()) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;initialize bluedroid failed&quot;</span>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">if</span> (bt_state != <a class="code" href="esp__bt__main_8h.html#aeb0782778442a6ad8501ace628333ac1af0edb7b648fd75d7ba61d903ffe2d44a">ESP_BLUEDROID_STATUS_ENABLED</a>){</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="esp__bt__main_8h.html#ab71785d8e9b610af682d171c213ed08e">esp_bluedroid_enable</a>()) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;enable bluedroid failed&quot;</span>);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">if</span> (_isMaster &amp;&amp; <a class="code" href="esp__gap__bt__api_8h.html#a4a4f7b549d68d80e3938393ac737cfa0">esp_bt_gap_register_callback</a>(esp_bt_gap_cb) != <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;gap register failed&quot;</span>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="esp__spp__api_8h.html#ade58cf3e294f70f75037f3ef579fb5b3">esp_spp_register_callback</a>(esp_spp_cb) != <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>){</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;spp register failed&quot;</span>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="esp__spp__api_8h.html#a494ace9cc8011900bbd967be312c0891">esp_spp_init</a>(<a class="code" href="esp__spp__api_8h.html#aecb4de011fe601f81ac1a1c54261d7e4aafdf9f7fe73604a1da3f1852d8aa154f">ESP_SPP_MODE_CB</a>) != <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>){</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;spp init failed&quot;</span>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="esp__bt_8h.html#aa9059c2adc45724634afe9ca058f69a4">esp_bt_sleep_disable</a>() != <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>){</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;esp_bt_sleep_disable failed&quot;</span>);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;device name set&quot;</span>);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="esp__bt__device_8h.html#a7e75236f289755b1d8aa7f30d267c3f6">esp_bt_dev_set_device_name</a>(deviceName);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">if</span> (_isPinSet) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        btSetPin();</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">if</span> (_enableSSP) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;Simple Secure Pairing&quot;</span>);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="esp__gap__bt__api_8h.html#aaf58b6bdaebf699dc418c90fe6a50a6d">esp_bt_sp_param_t</a> param_type = <a class="code" href="esp__gap__bt__api_8h.html#aaf58b6bdaebf699dc418c90fe6a50a6dab3abf4f4c17f7157de74fd50eafc24a3">ESP_BT_SP_IOCAP_MODE</a>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <a class="code" href="esp__gap__bt__api_8h.html#a492f2e954a73d820b4002c147d5b6b4f">esp_bt_io_cap_t</a> iocap = <a class="code" href="esp__gap__bt__api_8h.html#adfa4615d3cf80e855df25129f4342b82">ESP_BT_IO_CAP_IO</a>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <a class="code" href="esp__gap__bt__api_8h.html#a67172a76d4fc7b58b64b63f33e8732da">esp_bt_gap_set_security_param</a>(param_type, &amp;iocap, <span class="keyword">sizeof</span>(<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a>));</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// the default BTA_DM_COD_LOUDSPEAKER does not work with the macOS BT stack</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="structesp__bt__cod__t.html">esp_bt_cod_t</a> cod;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    cod.<a class="code" href="structesp__bt__cod__t.html#a9d790c7d526500adcd4bbb16fa4f2af2">major</a> = 0b00001;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    cod.<a class="code" href="structesp__bt__cod__t.html#aa8ada98919810d69e137af04d549799a">minor</a> = 0b000100;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    cod.<a class="code" href="structesp__bt__cod__t.html#afdbe90ad16dbe3d9805010c37c7782e7">service</a> = 0b00000010110;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="esp__gap__bt__api_8h.html#ab1af17bb537186a09892fb4c12ceb52a">esp_bt_gap_set_cod</a>(cod, <a class="code" href="esp__gap__bt__api_8h.html#a83d619b686ef129f6449e045d2a987b7a9748efa44076aa635f8f95ca2fbc5de8">ESP_BT_INIT_COD</a>) != <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;set cod failed&quot;</span>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> _stop_bt()</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;{</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="esp32-hal-bt_8h.html#a36f1b40e46ccfa0e45bd15bc93e6e1bd">btStarted</a>()){</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="keywordflow">if</span>(_spp_client)</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <a class="code" href="esp__spp__api_8h.html#a41a0f4634358bcf54e196dea2163c563">esp_spp_disconnect</a>(_spp_client);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <a class="code" href="esp__spp__api_8h.html#a1d8f2512a1e72ad31461270d7b01eff3">esp_spp_deinit</a>();</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="esp__bt__main_8h.html#a96a11e3d6ae4a3909ff573094456f9bf">esp_bluedroid_disable</a>();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <a class="code" href="esp__bt__main_8h.html#a464293cb0088008a9d7ed8219bfdf9b8">esp_bluedroid_deinit</a>();</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <a class="code" href="esp32-hal-bt_8h.html#a31b7622137e456ed274365c0664ea0b6">btStop</a>();</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    _spp_client = 0;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span>(_spp_task_handle){</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <a class="code" href="task_8h.html#a27ff4ebce26565bef136bda84201ff80">vTaskDelete</a>(_spp_task_handle);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        _spp_task_handle = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">if</span>(_spp_event_group){</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="event__groups_8h.html#a6939faca89fc4ba52fa8288527042464">vEventGroupDelete</a>(_spp_event_group);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        _spp_event_group = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span>(_spp_rx_queue){</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <a class="code" href="freertos_2freertos_2queue_8h.html#a707cbcfe3aed6b877b6aa6d9d75a3f22">vQueueDelete</a>(_spp_rx_queue);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="comment">//ToDo: clear RX queue when in packet mode</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        _spp_rx_queue = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">if</span>(_spp_tx_queue){</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        spp_packet_t *packet = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">while</span>(<a class="code" href="freertos_2freertos_2queue_8h.html#af1549eac0e7f05694a59a0b967c80be3">xQueueReceive</a>(_spp_tx_queue, &amp;packet, 0) == <a class="code" href="projdefs_8h.html#af268cf937960eb029256bd9c4d949fbe">pdTRUE</a>){</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <a class="code" href="RPSL_8txt.html#ae227cfd33a5880ffce840d383c2fbff3">free</a>(packet);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="freertos_2freertos_2queue_8h.html#a707cbcfe3aed6b877b6aa6d9d75a3f22">vQueueDelete</a>(_spp_tx_queue);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        _spp_tx_queue = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">if</span> (_spp_tx_done) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <a class="code" href="semphr_8h.html#acd7d0eda0923d7caeeaaee9202c43eab">vSemaphoreDelete</a>(_spp_tx_done);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        _spp_tx_done = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;}</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> waitForConnect(<span class="keywordtype">int</span> <a class="code" href="namespacewatch2.html#a2509cfea5337e3acc4868937f26c72c9">timeout</a>) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="portmacro_8h.html#aa69c48c6e902ce54f70886e6573c92a9">TickType_t</a> xTicksToWait = <a class="code" href="namespacewatch2.html#a2509cfea5337e3acc4868937f26c72c9">timeout</a> / <a class="code" href="portmacro_8h.html#a554d9322ce7f698a86a22b21234bd8cd">portTICK_PERIOD_MS</a>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="event__groups_8h.html#aab9d5b405bc57b7624dcabe9a9a503db">xEventGroupWaitBits</a>(_spp_event_group, SPP_CONNECTED, <a class="code" href="projdefs_8h.html#aa56260e937e7e203026707e5ba944273">pdFALSE</a>, <a class="code" href="projdefs_8h.html#af268cf937960eb029256bd9c4d949fbe">pdTRUE</a>, xTicksToWait) &amp; SPP_CONNECTED) != 0;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;}</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment"> * Serial Bluetooth Arduino</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"> * */</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;BluetoothSerial::BluetoothSerial()</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;{</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    local_name = <span class="stringliteral">&quot;ESP32&quot;</span>; <span class="comment">//default bluetooth name</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;BluetoothSerial::~BluetoothSerial(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;{</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    _stop_bt();</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceasio.html#a5d879e22fcd10677d9ba1b668f5140c7">BluetoothSerial::begin</a>(String localName, <span class="keywordtype">bool</span> isMaster)</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    _isMaster = isMaster;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">if</span> (localName.length()){</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        local_name = localName;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">return</span> _init_bt(local_name.c_str());</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="keywordtype">int</span> <a class="code" href="changes_8txt.html#ac87ea1b99851e3a75b0dcc6ec92d1ff5">BluetoothSerial::available</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;{</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (_spp_rx_queue == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>){</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="freertos_2freertos_2queue_8h.html#add7ee0701ba35904d190811b9e5a4eda">uxQueueMessagesWaiting</a>(_spp_rx_queue);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="keywordtype">int</span> BluetoothSerial::peek(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;{</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> c;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">if</span> (_spp_rx_queue &amp;&amp; <a class="code" href="freertos_2freertos_2queue_8h.html#a2df70733bb875477cd9614c5b3446257">xQueuePeek</a>(_spp_rx_queue, &amp;c, 0)){</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordflow">return</span> c;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="keywordtype">bool</span> BluetoothSerial::hasClient(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;{</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">return</span> _spp_client &gt; 0;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespaceasio.html#ac2d04c42f9c62cfdfad22c1e47371afe">BluetoothSerial::read</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> c = 0;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span> (_spp_rx_queue &amp;&amp; <a class="code" href="freertos_2freertos_2queue_8h.html#af1549eac0e7f05694a59a0b967c80be3">xQueueReceive</a>(_spp_rx_queue, &amp;c, 0)){</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordflow">return</span> c;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="TimeAlarms_2readme_8txt.html#a8f66c64286f5e86ba0760a3f91a083c0">BluetoothSerial::write</a>(<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> c)</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;{</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="TimeAlarms_2readme_8txt.html#a8f66c64286f5e86ba0760a3f91a083c0">write</a>(&amp;c, 1);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;}</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="TimeAlarms_2readme_8txt.html#a8f66c64286f5e86ba0760a3f91a083c0">BluetoothSerial::write</a>(<span class="keyword">const</span> <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> *<a class="code" href="structbuffer.html">buffer</a>, <span class="keywordtype">size_t</span> <a class="code" href="cacheasm_8h.html#a296a4dfa224096b538c66a9bab58cb9e">size</a>)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;{</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> (!_spp_client){</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">return</span> (_spp_queue_packet((<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> *)<a class="code" href="structbuffer.html">buffer</a>, <a class="code" href="cacheasm_8h.html#a296a4dfa224096b538c66a9bab58cb9e">size</a>) == <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>) ? <a class="code" href="cacheasm_8h.html#a296a4dfa224096b538c66a9bab58cb9e">size</a> : 0;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="keywordtype">void</span> <a class="code" href="iostream_8h.html#a2f6f5344fca38fd4fe7b6231fd992a0d">BluetoothSerial::flush</a>()</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;{</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">if</span> (_spp_tx_queue != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>){</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">while</span>(<a class="code" href="freertos_2freertos_2queue_8h.html#add7ee0701ba35904d190811b9e5a4eda">uxQueueMessagesWaiting</a>(_spp_tx_queue) &gt; 0){</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <a class="code" href="esp32-hal-misc_8c.html#a7f2dfce1046bdd2a2b753643726c2346">delay</a>(5);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceasio.html#af2c58929d38378c873ee91c4e3d70bf7">BluetoothSerial::end</a>()</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;{</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    _stop_bt();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;}</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160; </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<a class="code" href="esp__err_8h.html#ae535f6066003e82408b58e12f6950868">esp_err_t</a> BluetoothSerial::register_callback(<a class="code" href="esp__spp__api_8h.html#a7fc2796d45185162b4dce6273a1a3f11">esp_spp_cb_t</a> * callback)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;{</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    custom_spp_callback = callback;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">//Simple Secure Pairing</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="keywordtype">void</span> BluetoothSerial::enableSSP() {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    _enableSSP = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">     * Set default parameters for Legacy Pairing</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">     * Use fixed pin code</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="keywordtype">bool</span> BluetoothSerial::setPin(<span class="keyword">const</span> <span class="keywordtype">char</span> *pin) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordtype">bool</span> isEmpty =  !(pin  &amp;&amp; *pin);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (isEmpty &amp;&amp; !_isPinSet) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// nothing to do</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isEmpty){</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        _pin_len = strlen(pin);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        memcpy(_pin_code, pin, _pin_len);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        _pin_len = 0; <span class="comment">// resetting pin to none (default)</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    _pin_code[_pin_len] = 0;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    _isPinSet = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (isReady(<span class="keyword">false</span>, READY_TIMEOUT)) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        btSetPin();</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceasio.html#a43aabba5c05d2a4fa3b80dedb3c92c0d">BluetoothSerial::connect</a>(String remoteName)</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;{</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">if</span> (!isReady(<span class="keyword">true</span>, READY_TIMEOUT)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">if</span> (remoteName &amp;&amp; remoteName.length() &lt; 1) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;No remote name is provided&quot;</span>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    disconnect();</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    _isRemoteAddressSet = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    strncpy(_remote_name, remoteName.c_str(), <a class="code" href="esp__gap__bt__api_8h.html#a5e78839c521c4f25d66f8c44d7dbb150">ESP_BT_GAP_MAX_BDNAME_LEN</a>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    _remote_name[<a class="code" href="esp__gap__bt__api_8h.html#a5e78839c521c4f25d66f8c44d7dbb150">ESP_BT_GAP_MAX_BDNAME_LEN</a>] = 0;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;master : remoteName&quot;</span>);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">// will first resolve name to address</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <a class="code" href="esp__gap__bt__api_8h.html#a56cca136845f9cd9efbdaf668b5c50b4">esp_bt_gap_set_scan_mode</a>(<a class="code" href="esp__gap__bt__api_8h.html#a672863e3322907a0aa2b7520206623feac5ce274b219d6c91aa3eed4d5b3935e9">ESP_BT_SCAN_MODE_CONNECTABLE_DISCOVERABLE</a>);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="esp__gap__bt__api_8h.html#ad7513e7961156968d3e59be6bfda3f36">esp_bt_gap_start_discovery</a>(<a class="code" href="esp__gap__bt__api_8h.html#a655bbf6cd128ece515e8fffdcd415f4dab2a8ae0eeb6c40665362071f7517ccdc">ESP_BT_INQ_MODE_GENERAL_INQUIRY</a>, INQ_LEN, INQ_NUM_RSPS) == <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordflow">return</span> waitForConnect(SCAN_TIMEOUT);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;}</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceasio.html#a43aabba5c05d2a4fa3b80dedb3c92c0d">BluetoothSerial::connect</a>(<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> remoteAddress[])</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;{</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span> (!isReady(<span class="keyword">true</span>, READY_TIMEOUT)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">if</span> (!remoteAddress) {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;No remote address is provided&quot;</span>);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    disconnect();</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    _remote_name[0] = 0;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    _isRemoteAddressSet = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    memcpy(_peer_bd_addr, remoteAddress, <a class="code" href="esp__bt__defs_8h.html#a65bf15aa439b35556ba7ab04e7a1c1d8">ESP_BD_ADDR_LEN</a>);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;master : remoteAddress&quot;</span>);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="esp__spp__api_8h.html#af05d63a61e5abd00a4afb5f1572fc914">esp_spp_start_discovery</a>(_peer_bd_addr) == <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="keywordflow">return</span> waitForConnect(READY_TIMEOUT);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    }</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceasio.html#a43aabba5c05d2a4fa3b80dedb3c92c0d">BluetoothSerial::connect</a>()</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;{</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordflow">if</span> (!isReady(<span class="keyword">true</span>, READY_TIMEOUT)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span> (_isRemoteAddressSet){</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        disconnect();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="comment">// use resolved or set address first</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;master : remoteAddress&quot;</span>);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="esp__spp__api_8h.html#af05d63a61e5abd00a4afb5f1572fc914">esp_spp_start_discovery</a>(_peer_bd_addr) == <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="keywordflow">return</span> waitForConnect(READY_TIMEOUT);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_remote_name[0]) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        disconnect();</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;master : remoteName&quot;</span>);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="comment">// will resolve name to address first - it may take a while</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <a class="code" href="esp__gap__bt__api_8h.html#a56cca136845f9cd9efbdaf668b5c50b4">esp_bt_gap_set_scan_mode</a>(<a class="code" href="esp__gap__bt__api_8h.html#a672863e3322907a0aa2b7520206623feac5ce274b219d6c91aa3eed4d5b3935e9">ESP_BT_SCAN_MODE_CONNECTABLE_DISCOVERABLE</a>);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="esp__gap__bt__api_8h.html#ad7513e7961156968d3e59be6bfda3f36">esp_bt_gap_start_discovery</a>(<a class="code" href="esp__gap__bt__api_8h.html#a655bbf6cd128ece515e8fffdcd415f4dab2a8ae0eeb6c40665362071f7517ccdc">ESP_BT_INQ_MODE_GENERAL_INQUIRY</a>, INQ_LEN, INQ_NUM_RSPS) == <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <span class="keywordflow">return</span> waitForConnect(SCAN_TIMEOUT);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;Neither Remote name nor address was provided&quot;</span>);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;}</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="keywordtype">bool</span> BluetoothSerial::disconnect() {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">if</span> (_spp_client) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <a class="code" href="iostream_8h.html#a2f6f5344fca38fd4fe7b6231fd992a0d">flush</a>();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;disconnecting&quot;</span>);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="esp__spp__api_8h.html#a41a0f4634358bcf54e196dea2163c563">esp_spp_disconnect</a>(_spp_client) == <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            <a class="code" href="portmacro_8h.html#aa69c48c6e902ce54f70886e6573c92a9">TickType_t</a> xTicksToWait = READY_TIMEOUT / <a class="code" href="portmacro_8h.html#a554d9322ce7f698a86a22b21234bd8cd">portTICK_PERIOD_MS</a>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            <span class="keywordflow">return</span> (<a class="code" href="event__groups_8h.html#aab9d5b405bc57b7624dcabe9a9a503db">xEventGroupWaitBits</a>(_spp_event_group, SPP_DISCONNECTED, <a class="code" href="projdefs_8h.html#aa56260e937e7e203026707e5ba944273">pdFALSE</a>, <a class="code" href="projdefs_8h.html#af268cf937960eb029256bd9c4d949fbe">pdTRUE</a>, xTicksToWait) &amp; SPP_DISCONNECTED) != 0;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;}</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="keywordtype">bool</span> BluetoothSerial::unpairDevice(<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> remoteAddress[]) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">if</span> (isReady(<span class="keyword">false</span>, READY_TIMEOUT)) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a>(<span class="stringliteral">&quot;removing bonded device&quot;</span>);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="esp__gap__bt__api_8h.html#ae38991f3f787083300047b019f183a4f">esp_bt_gap_remove_bond_device</a>(remoteAddress) == <a class="code" href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a>);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="keywordtype">bool</span> BluetoothSerial::connected(<span class="keywordtype">int</span> <a class="code" href="namespacewatch2.html#a2509cfea5337e3acc4868937f26c72c9">timeout</a>) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">return</span> waitForConnect(<a class="code" href="namespacewatch2.html#a2509cfea5337e3acc4868937f26c72c9">timeout</a>);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="keywordtype">bool</span> BluetoothSerial::isReady(<span class="keywordtype">bool</span> checkMaster, <span class="keywordtype">int</span> <a class="code" href="namespacewatch2.html#a2509cfea5337e3acc4868937f26c72c9">timeout</a>) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">if</span> (checkMaster &amp;&amp; !_isMaster) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;Master mode is not active. Call begin(localName, true) to enable Master mode&quot;</span>);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="esp32-hal-bt_8h.html#a36f1b40e46ccfa0e45bd15bc93e6e1bd">btStarted</a>()) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <a class="code" href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a>(<span class="stringliteral">&quot;BT is not initialized. Call begin() first&quot;</span>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="portmacro_8h.html#aa69c48c6e902ce54f70886e6573c92a9">TickType_t</a> xTicksToWait = <a class="code" href="namespacewatch2.html#a2509cfea5337e3acc4868937f26c72c9">timeout</a> / <a class="code" href="portmacro_8h.html#a554d9322ce7f698a86a22b21234bd8cd">portTICK_PERIOD_MS</a>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="event__groups_8h.html#aab9d5b405bc57b7624dcabe9a9a503db">xEventGroupWaitBits</a>(_spp_event_group, SPP_RUNNING, <a class="code" href="projdefs_8h.html#aa56260e937e7e203026707e5ba944273">pdFALSE</a>, <a class="code" href="projdefs_8h.html#af268cf937960eb029256bd9c4d949fbe">pdTRUE</a>, xTicksToWait) &amp; SPP_RUNNING) != 0;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;}</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aesp__spp__api_8h_html_a15c768d2fe7e82a1afa4468aac19fb08a36176c0b391301b19e41bd75079dac30"><div class="ttname"><a href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a36176c0b391301b19e41bd75079dac30">ESP_SPP_DATA_IND_EVT</a></div><div class="ttdeci">@ ESP_SPP_DATA_IND_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00065">esp_spp_api.h:65</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_af5aa42985bb3ed945718480f988d46aaa3174981fdfc5083ae4def43990ab015b"><div class="ttname"><a href="esp__gap__bt__api_8h.html#af5aa42985bb3ed945718480f988d46aaa3174981fdfc5083ae4def43990ab015b">ESP_BT_GAP_DEV_PROP_BDNAME</a></div><div class="ttdeci">@ ESP_BT_GAP_DEV_PROP_BDNAME</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00057">esp_gap_bt_api.h:57</a></div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html_a707cbcfe3aed6b877b6aa6d9d75a3f22"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html#a707cbcfe3aed6b877b6aa6d9d75a3f22">vQueueDelete</a></div><div class="ttdeci">void vQueueDelete(QueueHandle_t xQueue) PRIVILEGED_FUNCTION</div></div>
<div class="ttc" id="anamespaceasio_1_1detail_html_a83969c12552b8b4db0c39a9efd1e0e25"><div class="ttname"><a href="namespaceasio_1_1detail.html#a83969c12552b8b4db0c39a9efd1e0e25">asio::detail::event</a></div><div class="ttdeci">null_event event</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00036">event.hpp:36</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a150c61205bd33c8b53c4fec170be94e0"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a150c61205bd33c8b53c4fec170be94e0">esp_bt_gap_cancel_discovery</a></div><div class="ttdeci">esp_err_t esp_bt_gap_cancel_discovery(void)</div><div class="ttdoc">Cancel device discovery. This function should be called after esp_bluedroid_enable() completes succes...</div></div>
<div class="ttc" id="aesp__bt__main_8h_html_a96a11e3d6ae4a3909ff573094456f9bf"><div class="ttname"><a href="esp__bt__main_8h.html#a96a11e3d6ae4a3909ff573094456f9bf">esp_bluedroid_disable</a></div><div class="ttdeci">esp_err_t esp_bluedroid_disable(void)</div><div class="ttdoc">Disable bluetooth, must prior to esp_bluedroid_deinit()</div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a51b7769dab3fa6e0de00565aaff9bdb8a775b9a98ff5f15a3a667b766369e71c4"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a775b9a98ff5f15a3a667b766369e71c4">ESP_BT_GAP_KEY_NOTIF_EVT</a></div><div class="ttdeci">@ ESP_BT_GAP_KEY_NOTIF_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00174">esp_gap_bt_api.h:174</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_ade58cf3e294f70f75037f3ef579fb5b3"><div class="ttname"><a href="esp__spp__api_8h.html#ade58cf3e294f70f75037f3ef579fb5b3">esp_spp_register_callback</a></div><div class="ttdeci">esp_err_t esp_spp_register_callback(esp_spp_cb_t callback)</div><div class="ttdoc">This function is called to init callbacks with SPP module.</div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_af5aa42985bb3ed945718480f988d46aaa35cd72e8cca9f3e73a993987c3f560ea"><div class="ttname"><a href="esp__gap__bt__api_8h.html#af5aa42985bb3ed945718480f988d46aaa35cd72e8cca9f3e73a993987c3f560ea">ESP_BT_GAP_DEV_PROP_COD</a></div><div class="ttdeci">@ ESP_BT_GAP_DEV_PROP_COD</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00058">esp_gap_bt_api.h:58</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a56bf1f286d183cec748ffa959226c2a5"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a56bf1f286d183cec748ffa959226c2a5">esp_bt_pin_type_t</a></div><div class="ttdeci">esp_bt_pin_type_t</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00105">esp_gap_bt_api.h:105</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a9a655fe8825be94298f2c793e3c32c79a91822adc5509a8351baa7bc9a5274c38"><div class="ttname"><a href="esp__spp__api_8h.html#a9a655fe8825be94298f2c793e3c32c79a91822adc5509a8351baa7bc9a5274c38">ESP_SPP_SUCCESS</a></div><div class="ttdeci">@ ESP_SPP_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00026">esp_spp_api.h:26</a></div></div>
<div class="ttc" id="aportmacro_8h_html_a72723ba1e4a85ca14f25c2b9e066613d"><div class="ttname"><a href="portmacro_8h.html#a72723ba1e4a85ca14f25c2b9e066613d">portMAX_DELAY</a></div><div class="ttdeci">#define portMAX_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="portmacro_8h_source.html#l00120">portmacro.h:119</a></div></div>
<div class="ttc" id="atask_8h_html"><div class="ttname"><a href="task_8h.html">task.h</a></div></div>
<div class="ttc" id="aesp32-hal-log_8h_html_a925f3f2d10368d16506845d280b1b7a1"><div class="ttname"><a href="esp32-hal-log_8h.html#a925f3f2d10368d16506845d280b1b7a1">log_v</a></div><div class="ttdeci">#define log_v(format,...)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-log_8h_source.html#l00085">esp32-hal-log.h:84</a></div></div>
<div class="ttc" id="atools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h_html_a2b4ea2af4cc24db3cbd458722e96fa2f"><div class="ttname"><a href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h.html#a2b4ea2af4cc24db3cbd458722e96fa2f">xQueueHandle</a></div><div class="ttdeci">#define xQueueHandle</div><div class="ttdef"><b>Definition:</b> <a href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h_source.html#l00821">FreeRTOS.h:820</a></div></div>
<div class="ttc" id="astdint_8h_html_a281b4b5562236420969a830503b0ba19"><div class="ttname"><a href="stdint_8h.html#a281b4b5562236420969a830503b0ba19">uint16_t</a></div><div class="ttdeci">__uint16_t uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00033">stdint.h:33</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_afba29d327dae518240ab0a011235b9cd"><div class="ttname"><a href="esp__spp__api_8h.html#afba29d327dae518240ab0a011235b9cd">ESP_SPP_SEC_AUTHENTICATE</a></div><div class="ttdeci">#define ESP_SPP_SEC_AUTHENTICATE</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00037">esp_spp_api.h:36</a></div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html_af1549eac0e7f05694a59a0b967c80be3"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html#af1549eac0e7f05694a59a0b967c80be3">xQueueReceive</a></div><div class="ttdeci">#define xQueueReceive(xQueue, pvBuffer, xTicksToWait)</div><div class="ttdef"><b>Definition:</b> <a href="freertos_2freertos_2queue_8h_source.html#l00818">queue.h:817</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a15c768d2fe7e82a1afa4468aac19fb08ad186e8d602471f8d2d17c1226db1a3dc"><div class="ttname"><a href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08ad186e8d602471f8d2d17c1226db1a3dc">ESP_SPP_INIT_EVT</a></div><div class="ttdeci">@ ESP_SPP_INIT_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00059">esp_spp_api.h:59</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_ab1af17bb537186a09892fb4c12ceb52a"><div class="ttname"><a href="esp__gap__bt__api_8h.html#ab1af17bb537186a09892fb4c12ceb52a">esp_bt_gap_set_cod</a></div><div class="ttdeci">esp_err_t esp_bt_gap_set_cod(esp_bt_cod_t cod, esp_bt_cod_mode_t mode)</div><div class="ttdoc">This function is called to set class of device. esp_bt_gap_cb_t will is called with ESP_BT_GAP_SET_CO...</div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_af5aa42985bb3ed945718480f988d46aaa11d6b687b9d94eab10979b91acc03a4a"><div class="ttname"><a href="esp__gap__bt__api_8h.html#af5aa42985bb3ed945718480f988d46aaa11d6b687b9d94eab10979b91acc03a4a">ESP_BT_GAP_DEV_PROP_RSSI</a></div><div class="ttdeci">@ ESP_BT_GAP_DEV_PROP_RSSI</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00059">esp_gap_bt_api.h:59</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a56bf1f286d183cec748ffa959226c2a5a142e8b3410256eee44269a4a13cf1c46"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a56bf1f286d183cec748ffa959226c2a5a142e8b3410256eee44269a4a13cf1c46">ESP_BT_PIN_TYPE_FIXED</a></div><div class="ttdeci">@ ESP_BT_PIN_TYPE_FIXED</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00107">esp_gap_bt_api.h:107</a></div></div>
<div class="ttc" id="aesp__bt__device_8h_html_a7e75236f289755b1d8aa7f30d267c3f6"><div class="ttname"><a href="esp__bt__device_8h.html#a7e75236f289755b1d8aa7f30d267c3f6">esp_bt_dev_set_device_name</a></div><div class="ttdeci">esp_err_t esp_bt_dev_set_device_name(const char *name)</div><div class="ttdoc">Set bluetooth device name. This function should be called after esp_bluedroid_enable() completes succ...</div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a6a5a6cb642b34be8248fe8f932f473eeaf4d55d54aeda77238db7f4dbed178d37"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a6a5a6cb642b34be8248fe8f932f473eeaf4d55d54aeda77238db7f4dbed178d37">ESP_BT_EIR_TYPE_SHORT_LOCAL_NAME</a></div><div class="ttdeci">@ ESP_BT_EIR_TYPE_SHORT_LOCAL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00085">esp_gap_bt_api.h:85</a></div></div>
<div class="ttc" id="aesp__bt__main_8h_html"><div class="ttname"><a href="esp__bt__main_8h.html">esp_bt_main.h</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_ae38991f3f787083300047b019f183a4f"><div class="ttname"><a href="esp__gap__bt__api_8h.html#ae38991f3f787083300047b019f183a4f">esp_bt_gap_remove_bond_device</a></div><div class="ttdeci">esp_err_t esp_bt_gap_remove_bond_device(esp_bd_addr_t bd_addr)</div><div class="ttdoc">Removes a device from the security database list of peer device.</div></div>
<div class="ttc" id="astructesp__bt__cod__t_html_a9d790c7d526500adcd4bbb16fa4f2af2"><div class="ttname"><a href="structesp__bt__cod__t.html#a9d790c7d526500adcd4bbb16fa4f2af2">esp_bt_cod_t::major</a></div><div class="ttdeci">uint32_t major</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00034">esp_gap_bt_api.h:34</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html"><div class="ttname"><a href="esp__spp__api_8h.html">esp_spp_api.h</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a51b7769dab3fa6e0de00565aaff9bdb8"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8">esp_bt_gap_cb_event_t</a></div><div class="ttdeci">esp_bt_gap_cb_event_t</div><div class="ttdoc">BT GAP callback events.</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00166">esp_gap_bt_api.h:166</a></div></div>
<div class="ttc" id="anamespacewatch2_html_a2509cfea5337e3acc4868937f26c72c9"><div class="ttname"><a href="namespacewatch2.html#a2509cfea5337e3acc4868937f26c72c9">watch2::timeout</a></div><div class="ttdeci">bool timeout</div><div class="ttdef"><b>Definition:</b> <a href="watch2_8cpp_source.html#l00051">watch2.cpp:51</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a7fc2796d45185162b4dce6273a1a3f11"><div class="ttname"><a href="esp__spp__api_8h.html#a7fc2796d45185162b4dce6273a1a3f11">esp_spp_cb_t</a></div><div class="ttdeci">void() esp_spp_cb_t(esp_spp_cb_event_t event, esp_spp_cb_param_t *param)</div><div class="ttdoc">SPP callback function type.</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00176">esp_spp_api.h:176</a></div></div>
<div class="ttc" id="aesp32-hal-log_8h_html"><div class="ttname"><a href="esp32-hal-log_8h.html">esp32-hal-log.h</a></div></div>
<div class="ttc" id="astructesp__bt__cod__t_html"><div class="ttname"><a href="structesp__bt__cod__t.html">esp_bt_cod_t</a></div><div class="ttdoc">Class of device.</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00031">esp_gap_bt_api.h:31</a></div></div>
<div class="ttc" id="anamespaceudp__server_html_ade67d79c46c11d44cd799213c5a772ca"><div class="ttname"><a href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">udp_server.data</a></div><div class="ttdeci">data</div><div class="ttdef"><b>Definition:</b> <a href="udp__server_8py_source.html#l00023">udp_server.py:23</a></div></div>
<div class="ttc" id="aesp__bt__main_8h_html_ab71785d8e9b610af682d171c213ed08e"><div class="ttname"><a href="esp__bt__main_8h.html#ab71785d8e9b610af682d171c213ed08e">esp_bluedroid_enable</a></div><div class="ttdeci">esp_err_t esp_bluedroid_enable(void)</div><div class="ttdoc">Enable bluetooth, must after esp_bluedroid_init()</div></div>
<div class="ttc" id="aesp__spp__api_8h_html_af05d63a61e5abd00a4afb5f1572fc914"><div class="ttname"><a href="esp__spp__api_8h.html#af05d63a61e5abd00a4afb5f1572fc914">esp_spp_start_discovery</a></div><div class="ttdeci">esp_err_t esp_spp_start_discovery(esp_bd_addr_t bd_addr)</div><div class="ttdoc">This function is called to performs service discovery for the services provided by the given peer dev...</div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a34838f494fe8f36c75bacca224ae1eb7"><div class="ttname"><a href="esp__spp__api_8h.html#a34838f494fe8f36c75bacca224ae1eb7">esp_spp_start_srv</a></div><div class="ttdeci">esp_err_t esp_spp_start_srv(esp_spp_sec_t sec_mask, esp_spp_role_t role, uint8_t local_scn, const char *name)</div><div class="ttdoc">This function create a SPP server and starts listening for an SPP connection request from a remote Bl...</div></div>
<div class="ttc" id="astructesp__bt__cod__t_html_afdbe90ad16dbe3d9805010c37c7782e7"><div class="ttname"><a href="structesp__bt__cod__t.html#afdbe90ad16dbe3d9805010c37c7782e7">esp_bt_cod_t::service</a></div><div class="ttdeci">uint32_t service</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00035">esp_gap_bt_api.h:35</a></div></div>
<div class="ttc" id="aesp__bt_8h_html_aa9059c2adc45724634afe9ca058f69a4"><div class="ttname"><a href="esp__bt_8h.html#aa9059c2adc45724634afe9ca058f69a4">esp_bt_sleep_disable</a></div><div class="ttdeci">esp_err_t esp_bt_sleep_disable(void)</div><div class="ttdoc">disable bluetooth modem sleep</div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a15c768d2fe7e82a1afa4468aac19fb08a3c4b18df7505dbb3a86190ec474103e9"><div class="ttname"><a href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a3c4b18df7505dbb3a86190ec474103e9">ESP_SPP_SRV_OPEN_EVT</a></div><div class="ttdeci">@ ESP_SPP_SRV_OPEN_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00068">esp_spp_api.h:68</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a56cca136845f9cd9efbdaf668b5c50b4"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a56cca136845f9cd9efbdaf668b5c50b4">esp_bt_gap_set_scan_mode</a></div><div class="ttdeci">esp_err_t esp_bt_gap_set_scan_mode(esp_bt_scan_mode_t mode)</div><div class="ttdoc">Set discoverability and connectability mode for legacy bluetooth. This function should be called afte...</div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a494ace9cc8011900bbd967be312c0891"><div class="ttname"><a href="esp__spp__api_8h.html#a494ace9cc8011900bbd967be312c0891">esp_spp_init</a></div><div class="ttdeci">esp_err_t esp_spp_init(esp_spp_mode_t mode)</div><div class="ttdoc">This function is called to init SPP.</div></div>
<div class="ttc" id="asemphr_8h_html_af116e436d2a5ae5bd72dbade2b5ea930"><div class="ttname"><a href="semphr_8h.html#af116e436d2a5ae5bd72dbade2b5ea930">xSemaphoreTake</a></div><div class="ttdeci">#define xSemaphoreTake(xSemaphore, xBlockTime)</div><div class="ttdef"><b>Definition:</b> <a href="semphr_8h_source.html#l00314">semphr.h:313</a></div></div>
<div class="ttc" id="aesp32-hal-log_8h_html_a1de06c4fd79189513953309af5b5593a"><div class="ttname"><a href="esp32-hal-log_8h.html#a1de06c4fd79189513953309af5b5593a">log_d</a></div><div class="ttdeci">#define log_d(format,...)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-log_8h_source.html#l00093">esp32-hal-log.h:92</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a672863e3322907a0aa2b7520206623feac5ce274b219d6c91aa3eed4d5b3935e9"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a672863e3322907a0aa2b7520206623feac5ce274b219d6c91aa3eed4d5b3935e9">ESP_BT_SCAN_MODE_CONNECTABLE_DISCOVERABLE</a></div><div class="ttdeci">@ ESP_BT_SCAN_MODE_CONNECTABLE_DISCOVERABLE</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00053">esp_gap_bt_api.h:52</a></div></div>
<div class="ttc" id="aRPSL_8txt_html_ae227cfd33a5880ffce840d383c2fbff3"><div class="ttname"><a href="RPSL_8txt.html#ae227cfd33a5880ffce840d383c2fbff3">free</a></div><div class="ttdeci">Conditions &amp;Restrictions Subject to the terms and conditions of this Licensor hereby grants effective on the date You accept this a royalty free</div><div class="ttdef"><b>Definition:</b> <a href="RPSL_8txt_source.html#l00105">RPSL.txt:105</a></div></div>
<div class="ttc" id="aesp32-hal-bt_8h_html_a31b7622137e456ed274365c0664ea0b6"><div class="ttname"><a href="esp32-hal-bt_8h.html#a31b7622137e456ed274365c0664ea0b6">btStop</a></div><div class="ttdeci">bool btStop()</div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a15c768d2fe7e82a1afa4468aac19fb08a1e1d5d245d1e6c2cad2acbd92186af1c"><div class="ttname"><a href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a1e1d5d245d1e6c2cad2acbd92186af1c">ESP_SPP_CLOSE_EVT</a></div><div class="ttdeci">@ ESP_SPP_CLOSE_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00062">esp_spp_api.h:62</a></div></div>
<div class="ttc" id="atools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h_html"><div class="ttname"><a href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h.html">FreeRTOS.h</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a83d619b686ef129f6449e045d2a987b7a9748efa44076aa635f8f95ca2fbc5de8"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a83d619b686ef129f6449e045d2a987b7a9748efa44076aa635f8f95ca2fbc5de8">ESP_BT_INIT_COD</a></div><div class="ttdeci">@ ESP_BT_INIT_COD</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00045">esp_gap_bt_api.h:45</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a51b7769dab3fa6e0de00565aaff9bdb8a20f21806a1d939b4d0f8154f4a98e200"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a20f21806a1d939b4d0f8154f4a98e200">ESP_BT_GAP_RMT_SRVCS_EVT</a></div><div class="ttdeci">@ ESP_BT_GAP_RMT_SRVCS_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00169">esp_gap_bt_api.h:169</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a15c768d2fe7e82a1afa4468aac19fb08a61f37f95e08b0f78972cce2be48880e4"><div class="ttname"><a href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a61f37f95e08b0f78972cce2be48880e4">ESP_SPP_WRITE_EVT</a></div><div class="ttdeci">@ ESP_SPP_WRITE_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00067">esp_spp_api.h:67</a></div></div>
<div class="ttc" id="aesp__bt__defs_8h_html_a65bf15aa439b35556ba7ab04e7a1c1d8"><div class="ttname"><a href="esp__bt__defs_8h.html#a65bf15aa439b35556ba7ab04e7a1c1d8">ESP_BD_ADDR_LEN</a></div><div class="ttdeci">#define ESP_BD_ADDR_LEN</div><div class="ttdoc">Bluetooth address length.</div><div class="ttdef"><b>Definition:</b> <a href="esp__bt__defs_8h_source.html#l00103">esp_bt_defs.h:102</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a77f09791d053a13d940847b718dcb482"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a77f09791d053a13d940847b718dcb482">esp_bt_pin_code_t</a></div><div class="ttdeci">uint8_t esp_bt_pin_code_t[ESP_BT_PIN_CODE_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00111">esp_gap_bt_api.h:111</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_aaf58b6bdaebf699dc418c90fe6a50a6dab3abf4f4c17f7157de74fd50eafc24a3"><div class="ttname"><a href="esp__gap__bt__api_8h.html#aaf58b6bdaebf699dc418c90fe6a50a6dab3abf4f4c17f7157de74fd50eafc24a3">ESP_BT_SP_IOCAP_MODE</a></div><div class="ttdeci">@ ESP_BT_SP_IOCAP_MODE</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00114">esp_gap_bt_api.h:114</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a67172a76d4fc7b58b64b63f33e8732da"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a67172a76d4fc7b58b64b63f33e8732da">esp_bt_gap_set_security_param</a></div><div class="ttdeci">esp_err_t esp_bt_gap_set_security_param(esp_bt_sp_param_t param_type, void *value, uint8_t len)</div><div class="ttdoc">Set a GAP security parameter value. Overrides the default value.</div></div>
<div class="ttc" id="aesp__bt__main_8h_html_aeb0782778442a6ad8501ace628333ac1"><div class="ttname"><a href="esp__bt__main_8h.html#aeb0782778442a6ad8501ace628333ac1">esp_bluedroid_status_t</a></div><div class="ttdeci">esp_bluedroid_status_t</div><div class="ttdoc">Bluetooth stack status type, to indicate whether the bluetooth stack is ready.</div><div class="ttdef"><b>Definition:</b> <a href="esp__bt__main_8h_source.html#l00027">esp_bt_main.h:27</a></div></div>
<div class="ttc" id="aesp__bt__main_8h_html_ab1cc165d424ddf133a5f1fc973c85326"><div class="ttname"><a href="esp__bt__main_8h.html#ab1cc165d424ddf133a5f1fc973c85326">esp_bluedroid_init</a></div><div class="ttdeci">esp_err_t esp_bluedroid_init(void)</div><div class="ttdoc">Init and alloc the resource for bluetooth, must be prior to every bluetooth stuff.</div></div>
<div class="ttc" id="astructesp__bt__cod__t_html_aa8ada98919810d69e137af04d549799a"><div class="ttname"><a href="structesp__bt__cod__t.html#aa8ada98919810d69e137af04d549799a">esp_bt_cod_t::minor</a></div><div class="ttdeci">uint32_t minor</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00033">esp_gap_bt_api.h:33</a></div></div>
<div class="ttc" id="aesp__log_8h_html"><div class="ttname"><a href="esp__log_8h.html">esp_log.h</a></div></div>
<div class="ttc" id="aesp__err_8h_html_abdbffa06442bc1fe3d65dbb8d17656d1"><div class="ttname"><a href="esp__err_8h.html#abdbffa06442bc1fe3d65dbb8d17656d1">ESP_OK</a></div><div class="ttdeci">#define ESP_OK</div><div class="ttdef"><b>Definition:</b> <a href="esp__err_8h_source.html#l00028">esp_err.h:27</a></div></div>
<div class="ttc" id="aevent__groups_8h_html_a5119294106541c4eca46e8742fdb4e85"><div class="ttname"><a href="event__groups_8h.html#a5119294106541c4eca46e8742fdb4e85">EventGroupHandle_t</a></div><div class="ttdeci">void * EventGroupHandle_t</div><div class="ttdef"><b>Definition:</b> <a href="event__groups_8h_source.html#l00120">event_groups.h:120</a></div></div>
<div class="ttc" id="aesp__bt__main_8h_html_aeb0782778442a6ad8501ace628333ac1aeb2a14102ffe9d7f8eb18cf20530acb3"><div class="ttname"><a href="esp__bt__main_8h.html#aeb0782778442a6ad8501ace628333ac1aeb2a14102ffe9d7f8eb18cf20530acb3">ESP_BLUEDROID_STATUS_UNINITIALIZED</a></div><div class="ttdeci">@ ESP_BLUEDROID_STATUS_UNINITIALIZED</div><div class="ttdef"><b>Definition:</b> <a href="esp__bt__main_8h_source.html#l00028">esp_bt_main.h:28</a></div></div>
<div class="ttc" id="aprojdefs_8h_html_a07848d3078849bd32353c69d30a479b3"><div class="ttname"><a href="projdefs_8h.html#a07848d3078849bd32353c69d30a479b3">pdPASS</a></div><div class="ttdeci">#define pdPASS</div><div class="ttdef"><b>Definition:</b> <a href="projdefs_8h_source.html#l00086">projdefs.h:85</a></div></div>
<div class="ttc" id="aesp__bt__main_8h_html_a464293cb0088008a9d7ed8219bfdf9b8"><div class="ttname"><a href="esp__bt__main_8h.html#a464293cb0088008a9d7ed8219bfdf9b8">esp_bluedroid_deinit</a></div><div class="ttdeci">esp_err_t esp_bluedroid_deinit(void)</div><div class="ttdoc">Deinit and free the resource for bluetooth, must be after every bluetooth stuff.</div></div>
<div class="ttc" id="aportmacro_8h_html_aa69c48c6e902ce54f70886e6573c92a9"><div class="ttname"><a href="portmacro_8h.html#aa69c48c6e902ce54f70886e6573c92a9">TickType_t</a></div><div class="ttdeci">uint32_t TickType_t</div><div class="ttdef"><b>Definition:</b> <a href="portmacro_8h_source.html#l00118">portmacro.h:118</a></div></div>
<div class="ttc" id="anamespaceasio_html_a5d879e22fcd10677d9ba1b668f5140c7"><div class="ttname"><a href="namespaceasio.html#a5d879e22fcd10677d9ba1b668f5140c7">asio::begin</a></div><div class="ttdeci">const EndpointSequence enable_if&lt; is_endpoint_sequence&lt; EndpointSequence &gt;::value &gt;::type Iterator begin</div><div class="ttdef"><b>Definition:</b> <a href="connect_8hpp_source.html#l00722">connect.hpp:722</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_ac22f66770a11d62c22452629ecb273bf"><div class="ttname"><a href="esp__gap__bt__api_8h.html#ac22f66770a11d62c22452629ecb273bf">esp_bt_gap_pin_reply</a></div><div class="ttdeci">esp_err_t esp_bt_gap_pin_reply(esp_bd_addr_t bd_addr, bool accept, uint8_t pin_code_len, esp_bt_pin_code_t pin_code)</div><div class="ttdoc">Reply the pin_code to the peer device for legacy pairing when ESP_BT_GAP_PIN_REQ_EVT is coming.</div></div>
<div class="ttc" id="aTimeAlarms_2readme_8txt_html_a8f66c64286f5e86ba0760a3f91a083c0"><div class="ttname"><a href="TimeAlarms_2readme_8txt.html#a8f66c64286f5e86ba0760a3f91a083c0">write</a></div><div class="ttdeci">enable the alarm write(ID, value)</div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a41a0f4634358bcf54e196dea2163c563"><div class="ttname"><a href="esp__spp__api_8h.html#a41a0f4634358bcf54e196dea2163c563">esp_spp_disconnect</a></div><div class="ttdeci">esp_err_t esp_spp_disconnect(uint32_t handle)</div><div class="ttdoc">This function closes an SPP connection.</div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a157e5815492b0a0f3afb9bec567dfdff"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a157e5815492b0a0f3afb9bec567dfdff">esp_bt_gap_ssp_confirm_reply</a></div><div class="ttdeci">esp_err_t esp_bt_gap_ssp_confirm_reply(esp_bd_addr_t bd_addr, bool accept)</div><div class="ttdoc">Reply the confirm value to the peer device in the legacy connection stage.</div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a1d8f2512a1e72ad31461270d7b01eff3"><div class="ttname"><a href="esp__spp__api_8h.html#a1d8f2512a1e72ad31461270d7b01eff3">esp_spp_deinit</a></div><div class="ttdeci">esp_err_t esp_spp_deinit()</div><div class="ttdoc">This function is called to uninit SPP.</div></div>
<div class="ttc" id="aesp__bt__device_8h_html"><div class="ttname"><a href="esp__bt__device_8h.html">esp_bt_device.h</a></div></div>
<div class="ttc" id="atag__strings_8h_html_ac483f6ce851c9ecd9fb835ff7551737c"><div class="ttname"><a href="tag__strings_8h.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a></div><div class="ttdeci">p</div><div class="ttdef"><b>Definition:</b> <a href="tag__strings_8h_source.html#l00029">tag_strings.h:29</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html"><div class="ttname"><a href="esp__gap__bt__api_8h.html">esp_gap_bt_api.h</a></div></div>
<div class="ttc" id="aevent__groups_8h_html_aab9d5b405bc57b7624dcabe9a9a503db"><div class="ttname"><a href="event__groups_8h.html#aab9d5b405bc57b7624dcabe9a9a503db">xEventGroupWaitBits</a></div><div class="ttdeci">EventBits_t xEventGroupWaitBits(EventGroupHandle_t xEventGroup, const EventBits_t uxBitsToWaitFor, const BaseType_t xClearOnExit, const BaseType_t xWaitForAllBits, TickType_t xTicksToWait) PRIVILEGED_FUNCTION</div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a51b7769dab3fa6e0de00565aaff9bdb8aac161b673c4693d9d0bfb4642862df81"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8aac161b673c4693d9d0bfb4642862df81">ESP_BT_GAP_AUTH_CMPL_EVT</a></div><div class="ttdeci">@ ESP_BT_GAP_AUTH_CMPL_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00171">esp_gap_bt_api.h:171</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a2bb1733280e300d7b8d9e2206133b33d"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a2bb1733280e300d7b8d9e2206133b33d">ESP_BT_PIN_CODE_LEN</a></div><div class="ttdeci">#define ESP_BT_PIN_CODE_LEN</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00111">esp_gap_bt_api.h:110</a></div></div>
<div class="ttc" id="atask_8h_html_ae95f44d4cfeb4a599c6cc258d241cb6b"><div class="ttname"><a href="task_8h.html#ae95f44d4cfeb4a599c6cc258d241cb6b">TaskHandle_t</a></div><div class="ttdeci">void * TaskHandle_t</div><div class="ttdef"><b>Definition:</b> <a href="task_8h_source.html#l00110">task.h:110</a></div></div>
<div class="ttc" id="aprojdefs_8h_html_aa56260e937e7e203026707e5ba944273"><div class="ttname"><a href="projdefs_8h.html#aa56260e937e7e203026707e5ba944273">pdFALSE</a></div><div class="ttdeci">#define pdFALSE</div><div class="ttdef"><b>Definition:</b> <a href="projdefs_8h_source.html#l00083">projdefs.h:82</a></div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html_a2df70733bb875477cd9614c5b3446257"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html#a2df70733bb875477cd9614c5b3446257">xQueuePeek</a></div><div class="ttdeci">#define xQueuePeek(xQueue, pvBuffer, xTicksToWait)</div><div class="ttdef"><b>Definition:</b> <a href="freertos_2freertos_2queue_8h_source.html#l00701">queue.h:700</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a492f2e954a73d820b4002c147d5b6b4f"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a492f2e954a73d820b4002c147d5b6b4f">esp_bt_io_cap_t</a></div><div class="ttdeci">uint8_t esp_bt_io_cap_t</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00123">esp_gap_bt_api.h:123</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a655bbf6cd128ece515e8fffdcd415f4dab2a8ae0eeb6c40665362071f7517ccdc"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a655bbf6cd128ece515e8fffdcd415f4dab2a8ae0eeb6c40665362071f7517ccdc">ESP_BT_INQ_MODE_GENERAL_INQUIRY</a></div><div class="ttdeci">@ ESP_BT_INQ_MODE_GENERAL_INQUIRY</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00182">esp_gap_bt_api.h:182</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a15c768d2fe7e82a1afa4468aac19fb08aa2d1048db8f57754f84af14fca03a8d2"><div class="ttname"><a href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08aa2d1048db8f57754f84af14fca03a8d2">ESP_SPP_OPEN_EVT</a></div><div class="ttdeci">@ ESP_SPP_OPEN_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00061">esp_spp_api.h:61</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a51b7769dab3fa6e0de00565aaff9bdb8a7f72d9f4bf4d2997d3bd7d6331059c81"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a7f72d9f4bf4d2997d3bd7d6331059c81">ESP_BT_GAP_KEY_REQ_EVT</a></div><div class="ttdeci">@ ESP_BT_GAP_KEY_REQ_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00175">esp_gap_bt_api.h:175</a></div></div>
<div class="ttc" id="aesp__bt_8h_html"><div class="ttname"><a href="esp__bt_8h.html">esp_bt.h</a></div></div>
<div class="ttc" id="aunionesp__bt__gap__cb__param__t_html"><div class="ttname"><a href="unionesp__bt__gap__cb__param__t.html">esp_bt_gap_cb_param_t</a></div><div class="ttdoc">A2DP state callback parameters.</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00191">esp_gap_bt_api.h:191</a></div></div>
<div class="ttc" id="azconf_8lex_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="zconf_8lex_8c_source.html#l01348">zconf.lex.c:1348</a></div></div>
<div class="ttc" id="adef_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="def_8h_source.html#l00071">def.h:70</a></div></div>
<div class="ttc" id="aesp__bt__defs_8h_html_a9cad553df52000cbee528383bfcde1b1aaa1224bc9d88b06ff18b23f37fee57ad"><div class="ttname"><a href="esp__bt__defs_8h.html#a9cad553df52000cbee528383bfcde1b1aaa1224bc9d88b06ff18b23f37fee57ad">ESP_BT_STATUS_SUCCESS</a></div><div class="ttdeci">@ ESP_BT_STATUS_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="esp__bt__defs_8h_source.html#l00034">esp_bt_defs.h:34</a></div></div>
<div class="ttc" id="asemphr_8h_html_ad88c6df4a04beedeac782918c8a332f5"><div class="ttname"><a href="semphr_8h.html#ad88c6df4a04beedeac782918c8a332f5">SemaphoreHandle_t</a></div><div class="ttdeci">QueueHandle_t SemaphoreHandle_t</div><div class="ttdef"><b>Definition:</b> <a href="semphr_8h_source.html#l00079">semphr.h:79</a></div></div>
<div class="ttc" id="atag__strings_8h_html_a51f20d6b1b54a2eee3be0e8adc96a0ae"><div class="ttname"><a href="tag__strings_8h.html#a51f20d6b1b54a2eee3be0e8adc96a0ae">param</a></div><div class="ttdeci">param</div><div class="ttdef"><b>Definition:</b> <a href="tag__strings_8h_source.html#l00079">tag_strings.h:79</a></div></div>
<div class="ttc" id="aesp__bt__main_8h_html_a00a44f8acf099eebed99932b71798670"><div class="ttname"><a href="esp__bt__main_8h.html#a00a44f8acf099eebed99932b71798670">esp_bluedroid_get_status</a></div><div class="ttdeci">esp_bluedroid_status_t esp_bluedroid_get_status(void)</div><div class="ttdoc">Get bluetooth stack status.</div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a51b7769dab3fa6e0de00565aaff9bdb8ad25645acd1448625871b8633b4d18e2b"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8ad25645acd1448625871b8633b4d18e2b">ESP_BT_GAP_PIN_REQ_EVT</a></div><div class="ttdeci">@ ESP_BT_GAP_PIN_REQ_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00172">esp_gap_bt_api.h:172</a></div></div>
<div class="ttc" id="astructbuffer_html"><div class="ttname"><a href="structbuffer.html">buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="zconf_8lex_8c_source.html#l01095">zconf.lex.c:1095</a></div></div>
<div class="ttc" id="aunity__fixture__malloc__overrides_8h_html_acf143577800376dd931c059ecc61ba06"><div class="ttname"><a href="unity__fixture__malloc__overrides_8h.html#acf143577800376dd931c059ecc61ba06">malloc</a></div><div class="ttdeci">#define malloc</div><div class="ttdef"><b>Definition:</b> <a href="unity__fixture__malloc__overrides_8h_source.html#l00038">unity_fixture_malloc_overrides.h:37</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a9ab03b1294316af77ba6ab8f37da1e09"><div class="ttname"><a href="esp__spp__api_8h.html#a9ab03b1294316af77ba6ab8f37da1e09">ESP_SPP_SEC_NONE</a></div><div class="ttdeci">#define ESP_SPP_SEC_NONE</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00035">esp_spp_api.h:34</a></div></div>
<div class="ttc" id="asemphr_8h_html_acd7d0eda0923d7caeeaaee9202c43eab"><div class="ttname"><a href="semphr_8h.html#acd7d0eda0923d7caeeaaee9202c43eab">vSemaphoreDelete</a></div><div class="ttdeci">#define vSemaphoreDelete(xSemaphore)</div><div class="ttdef"><b>Definition:</b> <a href="semphr_8h_source.html#l01094">semphr.h:1093</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a5f01d6989140d6ffe5929b5cd815017ca02c1783cc9842d9c044acd8e5d28a29e"><div class="ttname"><a href="esp__spp__api_8h.html#a5f01d6989140d6ffe5929b5cd815017ca02c1783cc9842d9c044acd8e5d28a29e">ESP_SPP_ROLE_SLAVE</a></div><div class="ttdeci">@ ESP_SPP_ROLE_SLAVE</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00045">esp_spp_api.h:45</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a15c768d2fe7e82a1afa4468aac19fb08"><div class="ttname"><a href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08">esp_spp_cb_event_t</a></div><div class="ttdeci">esp_spp_cb_event_t</div><div class="ttdoc">SPP callback function events.</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00058">esp_spp_api.h:58</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a15c768d2fe7e82a1afa4468aac19fb08a53cbc2c55defa3a716b4e257dc2a13ba"><div class="ttname"><a href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a53cbc2c55defa3a716b4e257dc2a13ba">ESP_SPP_START_EVT</a></div><div class="ttdeci">@ ESP_SPP_START_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00063">esp_spp_api.h:63</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a5f62a086b087dcbe77e86cd60ac2da9b"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a5f62a086b087dcbe77e86cd60ac2da9b">esp_bt_gap_set_pin</a></div><div class="ttdeci">esp_err_t esp_bt_gap_set_pin(esp_bt_pin_type_t pin_type, uint8_t pin_code_len, esp_bt_pin_code_t pin_code)</div><div class="ttdoc">Set pin type and default pin code for legacy pairing.</div></div>
<div class="ttc" id="aunionesp__spp__cb__param__t_html"><div class="ttname"><a href="unionesp__spp__cb__param__t.html">esp_spp_cb_param_t</a></div><div class="ttdoc">SPP callback parameters union.</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00075">esp_spp_api.h:75</a></div></div>
<div class="ttc" id="aesp__err_8h_html_ae535f6066003e82408b58e12f6950868"><div class="ttname"><a href="esp__err_8h.html#ae535f6066003e82408b58e12f6950868">esp_err_t</a></div><div class="ttdeci">int32_t esp_err_t</div><div class="ttdef"><b>Definition:</b> <a href="esp__err_8h_source.html#l00024">esp_err.h:24</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a51b7769dab3fa6e0de00565aaff9bdb8a55919a1ecaff0adb60dafba9d8713123"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a55919a1ecaff0adb60dafba9d8713123">ESP_BT_GAP_RMT_SRVC_REC_EVT</a></div><div class="ttdeci">@ ESP_BT_GAP_RMT_SRVC_REC_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00170">esp_gap_bt_api.h:170</a></div></div>
<div class="ttc" id="achanges_8txt_html_ac87ea1b99851e3a75b0dcc6ec92d1ff5"><div class="ttname"><a href="changes_8txt.html#ac87ea1b99851e3a75b0dcc6ec92d1ff5">available</a></div><div class="ttdeci">Aug Added support for Software SPI on Due and Teensy Added support for SPI transactions Aug New examples Teensy x SPI mods Test version of StdioStream Dec Improved cluster allocation speed Fix for Teensy Jun Improved speed of single block write Added StressTest example May Fix either change to the preferred replacement function indicated in the error message or set ALLOW_DEPRECATED_FUNCTIONS nonzero A key change was to remove sd spiRateID The difference between these two is the order of the arguments which has caused serious confusion at times A massive number of internal changes have been made There are over lines in the diff file of this version and the version Oct Changes to support ARM processors Tested with a Teensy Changes for higher performance with large reads and writes Aug Added uint32_t available()</div></div>
<div class="ttc" id="aportmacro_8h_html_a554d9322ce7f698a86a22b21234bd8cd"><div class="ttname"><a href="portmacro_8h.html#a554d9322ce7f698a86a22b21234bd8cd">portTICK_PERIOD_MS</a></div><div class="ttdeci">#define portTICK_PERIOD_MS</div><div class="ttdef"><b>Definition:</b> <a href="portmacro_8h_source.html#l00367">portmacro.h:366</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a19ce0d2d6cfa9dd27bc155308c1281af"><div class="ttname"><a href="esp__spp__api_8h.html#a19ce0d2d6cfa9dd27bc155308c1281af">esp_spp_write</a></div><div class="ttdeci">esp_err_t esp_spp_write(uint32_t handle, int len, uint8_t *p_data)</div><div class="ttdoc">This function is used to write data, only for ESP_SPP_MODE_CB.</div></div>
<div class="ttc" id="aesp32-hal-misc_8c_html_a7f2dfce1046bdd2a2b753643726c2346"><div class="ttname"><a href="esp32-hal-misc_8c.html#a7f2dfce1046bdd2a2b753643726c2346">delay</a></div><div class="ttdeci">void delay(uint32_t ms)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-misc_8c_source.html#l00144">esp32-hal-misc.c:144</a></div></div>
<div class="ttc" id="anamespaceasio_html_ac2d04c42f9c62cfdfad22c1e47371afe"><div class="ttname"><a href="namespaceasio.html#ac2d04c42f9c62cfdfad22c1e47371afe">asio::read</a></div><div class="ttdeci">std::size_t read(SyncReadStream &amp;s, const MutableBufferSequence &amp;buffers, CompletionCondition completion_condition, asio::error_code &amp;ec, typename enable_if&lt; is_mutable_buffer_sequence&lt; MutableBufferSequence &gt;::value &gt;::type *)</div><div class="ttdoc">Attempt to read a certain amount of data from a stream before returning.</div><div class="ttdef"><b>Definition:</b> <a href="impl_2read_8hpp_source.html#l00064">read.hpp:64</a></div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html_af7eb49d3249351176992950d9185abe9"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html#af7eb49d3249351176992950d9185abe9">xQueueSend</a></div><div class="ttdeci">#define xQueueSend(xQueue, pvItemToQueue, xTicksToWait)</div><div class="ttdef"><b>Definition:</b> <a href="freertos_2freertos_2queue_8h_source.html#l00463">queue.h:462</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a56bf1f286d183cec748ffa959226c2a5af2c280b2b3a606f0f6ba3750d778bc94"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a56bf1f286d183cec748ffa959226c2a5af2c280b2b3a606f0f6ba3750d778bc94">ESP_BT_PIN_TYPE_VARIABLE</a></div><div class="ttdeci">@ ESP_BT_PIN_TYPE_VARIABLE</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00106">esp_gap_bt_api.h:106</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a6a5a6cb642b34be8248fe8f932f473eea135a06fd4c7d520ab84fd0b9291e9818"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a6a5a6cb642b34be8248fe8f932f473eea135a06fd4c7d520ab84fd0b9291e9818">ESP_BT_EIR_TYPE_CMPL_LOCAL_NAME</a></div><div class="ttdeci">@ ESP_BT_EIR_TYPE_CMPL_LOCAL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00086">esp_gap_bt_api.h:86</a></div></div>
<div class="ttc" id="astdint_8h_html_a0238af00180b6d9278fa1c6aa790fdf4"><div class="ttname"><a href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a></div><div class="ttdeci">__uint32_t uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00045">stdint.h:45</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a4a4f7b549d68d80e3938393ac737cfa0"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a4a4f7b549d68d80e3938393ac737cfa0">esp_bt_gap_register_callback</a></div><div class="ttdeci">esp_err_t esp_bt_gap_register_callback(esp_bt_gap_cb_t callback)</div><div class="ttdoc">register callback function. This function should be called after esp_bluedroid_enable() completes suc...</div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a5e78839c521c4f25d66f8c44d7dbb150"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a5e78839c521c4f25d66f8c44d7dbb150">ESP_BT_GAP_MAX_BDNAME_LEN</a></div><div class="ttdeci">#define ESP_BT_GAP_MAX_BDNAME_LEN</div><div class="ttdoc">Maximum bytes of Bluetooth device name.</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00065">esp_gap_bt_api.h:64</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_af7d04ba99fba7a88c740531d288d42f8"><div class="ttname"><a href="esp__spp__api_8h.html#af7d04ba99fba7a88c740531d288d42f8">esp_spp_connect</a></div><div class="ttdeci">esp_err_t esp_spp_connect(esp_spp_sec_t sec_mask, esp_spp_role_t role, uint8_t remote_scn, esp_bd_addr_t peer_bd_addr)</div><div class="ttdoc">This function makes an SPP connection to a remote BD Address. When the connection is initiated or fai...</div></div>
<div class="ttc" id="aesp__spp__api_8h_html_aecb4de011fe601f81ac1a1c54261d7e4aafdf9f7fe73604a1da3f1852d8aa154f"><div class="ttname"><a href="esp__spp__api_8h.html#aecb4de011fe601f81ac1a1c54261d7e4aafdf9f7fe73604a1da3f1852d8aa154f">ESP_SPP_MODE_CB</a></div><div class="ttdeci">@ ESP_SPP_MODE_CB</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00049">esp_spp_api.h:49</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_af5aa42985bb3ed945718480f988d46aaa46dd478159110086035ed63cf2055405"><div class="ttname"><a href="esp__gap__bt__api_8h.html#af5aa42985bb3ed945718480f988d46aaa46dd478159110086035ed63cf2055405">ESP_BT_GAP_DEV_PROP_EIR</a></div><div class="ttdeci">@ ESP_BT_GAP_DEV_PROP_EIR</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00060">esp_gap_bt_api.h:60</a></div></div>
<div class="ttc" id="aevent__groups_8h_html_a02d7b3bb55f7e11d9c47116266c5fb2e"><div class="ttname"><a href="event__groups_8h.html#a02d7b3bb55f7e11d9c47116266c5fb2e">xEventGroupSetBits</a></div><div class="ttdeci">EventBits_t xEventGroupSetBits(EventGroupHandle_t xEventGroup, const EventBits_t uxBitsToSet) PRIVILEGED_FUNCTION</div></div>
<div class="ttc" id="aesp__err_8h_html_a3792b0d09c0170e4a3b5bb9b6f6fa72b"><div class="ttname"><a href="esp__err_8h.html#a3792b0d09c0170e4a3b5bb9b6f6fa72b">ESP_FAIL</a></div><div class="ttdeci">#define ESP_FAIL</div><div class="ttdef"><b>Definition:</b> <a href="esp__err_8h_source.html#l00029">esp_err.h:28</a></div></div>
<div class="ttc" id="aprojdefs_8h_html_af268cf937960eb029256bd9c4d949fbe"><div class="ttname"><a href="projdefs_8h.html#af268cf937960eb029256bd9c4d949fbe">pdTRUE</a></div><div class="ttdeci">#define pdTRUE</div><div class="ttdef"><b>Definition:</b> <a href="projdefs_8h_source.html#l00084">projdefs.h:83</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a15c768d2fe7e82a1afa4468aac19fb08a1d337fde29ccfbf25e88e95f435526ad"><div class="ttname"><a href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a1d337fde29ccfbf25e88e95f435526ad">ESP_SPP_CL_INIT_EVT</a></div><div class="ttdeci">@ ESP_SPP_CL_INIT_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00064">esp_spp_api.h:64</a></div></div>
<div class="ttc" id="aiostream_8h_html_a2f6f5344fca38fd4fe7b6231fd992a0d"><div class="ttname"><a href="iostream_8h.html#a2f6f5344fca38fd4fe7b6231fd992a0d">flush</a></div><div class="ttdeci">ostream &amp; flush(ostream &amp;os)</div><div class="ttdef"><b>Definition:</b> <a href="iostream_8h_source.html#l00056">iostream.h:56</a></div></div>
<div class="ttc" id="atask_8h_html_a27ff4ebce26565bef136bda84201ff80"><div class="ttname"><a href="task_8h.html#a27ff4ebce26565bef136bda84201ff80">vTaskDelete</a></div><div class="ttdeci">void vTaskDelete(TaskHandle_t xTaskToDelete) PRIVILEGED_FUNCTION</div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a88f629eb91457ac80ed0b10897cf4417"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a88f629eb91457ac80ed0b10897cf4417">esp_bt_gap_resolve_eir_data</a></div><div class="ttdeci">uint8_t * esp_bt_gap_resolve_eir_data(uint8_t *eir, esp_bt_eir_type_t type, uint8_t *length)</div><div class="ttdoc">This function is called to get EIR data for a specific type.</div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_adfa4615d3cf80e855df25129f4342b82"><div class="ttname"><a href="esp__gap__bt__api_8h.html#adfa4615d3cf80e855df25129f4342b82">ESP_BT_IO_CAP_IO</a></div><div class="ttdeci">#define ESP_BT_IO_CAP_IO</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00121">esp_gap_bt_api.h:120</a></div></div>
<div class="ttc" id="aesp32-hal-log_8h_html_a71c957bc93270caaa91f41f6989c317b"><div class="ttname"><a href="esp32-hal-log_8h.html#a71c957bc93270caaa91f41f6989c317b">log_w</a></div><div class="ttdeci">#define log_w(format,...)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-log_8h_source.html#l00109">esp32-hal-log.h:108</a></div></div>
<div class="ttc" id="acacheasm_8h_html_a296a4dfa224096b538c66a9bab58cb9e"><div class="ttname"><a href="cacheasm_8h.html#a296a4dfa224096b538c66a9bab58cb9e">size</a></div><div class="ttdeci">macro cache_index_all size</div><div class="ttdef"><b>Definition:</b> <a href="cacheasm_8h_source.html#l00158">cacheasm.h:158</a></div></div>
<div class="ttc" id="aesp32-hal-log_8h_html_a202330fb3201c41b86ad5a4700e529df"><div class="ttname"><a href="esp32-hal-log_8h.html#a202330fb3201c41b86ad5a4700e529df">log_e</a></div><div class="ttdeci">#define log_e(format,...)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-log_8h_source.html#l00117">esp32-hal-log.h:116</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a51b7769dab3fa6e0de00565aaff9bdb8a3ce9fdbe0b41b895dd6c93f414c32a40"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a3ce9fdbe0b41b895dd6c93f414c32a40">ESP_BT_GAP_DISC_RES_EVT</a></div><div class="ttdeci">@ ESP_BT_GAP_DISC_RES_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00167">esp_gap_bt_api.h:167</a></div></div>
<div class="ttc" id="aesp32-hal-log_8h_html_a9a988b39da89387c997c14dbe3ad0921"><div class="ttname"><a href="esp32-hal-log_8h.html#a9a988b39da89387c997c14dbe3ad0921">log_i</a></div><div class="ttdeci">#define log_i(format,...)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-log_8h_source.html#l00101">esp32-hal-log.h:100</a></div></div>
<div class="ttc" id="anamespaceasio_html_a43aabba5c05d2a4fa3b80dedb3c92c0d"><div class="ttname"><a href="namespaceasio.html#a43aabba5c05d2a4fa3b80dedb3c92c0d">asio::connect</a></div><div class="ttdeci">Protocol::endpoint connect(basic_socket&lt; Protocol ASIO_SVC_TARG &gt; &amp;s, const EndpointSequence &amp;endpoints, typename enable_if&lt; is_endpoint_sequence&lt; EndpointSequence &gt;::value &gt;::type *=0)</div><div class="ttdoc">Establishes a socket connection by trying each endpoint in a sequence.</div><div class="ttdef"><b>Definition:</b> <a href="impl_2connect_8hpp_source.html#l00104">connect.hpp:104</a></div></div>
<div class="ttc" id="aesp__bt__defs_8h_html_ae1f72542f04666cd97c26732366bf109"><div class="ttname"><a href="esp__bt__defs_8h.html#ae1f72542f04666cd97c26732366bf109">esp_bd_addr_t</a></div><div class="ttdeci">uint8_t esp_bd_addr_t[ESP_BD_ADDR_LEN]</div><div class="ttdoc">Bluetooth device address.</div><div class="ttdef"><b>Definition:</b> <a href="esp__bt__defs_8h_source.html#l00105">esp_bt_defs.h:105</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_ad7513e7961156968d3e59be6bfda3f36"><div class="ttname"><a href="esp__gap__bt__api_8h.html#ad7513e7961156968d3e59be6bfda3f36">esp_bt_gap_start_discovery</a></div><div class="ttdeci">esp_err_t esp_bt_gap_start_discovery(esp_bt_inq_mode_t mode, uint8_t inq_len, uint8_t num_rsps)</div><div class="ttdoc">Start device discovery. This function should be called after esp_bluedroid_enable() completes success...</div></div>
<div class="ttc" id="astdint_8h_html_a2aff71146ab4942b2b38860c749c4074"><div class="ttname"><a href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a></div><div class="ttdeci">__uint8_t uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00021">stdint.h:21</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a15c768d2fe7e82a1afa4468aac19fb08ab52142d236d39f52748d0aba4374359d"><div class="ttname"><a href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08ab52142d236d39f52748d0aba4374359d">ESP_SPP_CONG_EVT</a></div><div class="ttdeci">@ ESP_SPP_CONG_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00066">esp_spp_api.h:66</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a51b7769dab3fa6e0de00565aaff9bdb8a4a85f03a19f7b7106857aa44ceb002b5"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a4a85f03a19f7b7106857aa44ceb002b5">ESP_BT_GAP_DISC_STATE_CHANGED_EVT</a></div><div class="ttdeci">@ ESP_BT_GAP_DISC_STATE_CHANGED_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00168">esp_gap_bt_api.h:168</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_a51b7769dab3fa6e0de00565aaff9bdb8a2fed49bb9debbaf62500ad9272138d33"><div class="ttname"><a href="esp__gap__bt__api_8h.html#a51b7769dab3fa6e0de00565aaff9bdb8a2fed49bb9debbaf62500ad9272138d33">ESP_BT_GAP_CFM_REQ_EVT</a></div><div class="ttdeci">@ ESP_BT_GAP_CFM_REQ_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00173">esp_gap_bt_api.h:173</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a15c768d2fe7e82a1afa4468aac19fb08a5d994466ef990521c72902d8600cb4b1"><div class="ttname"><a href="esp__spp__api_8h.html#a15c768d2fe7e82a1afa4468aac19fb08a5d994466ef990521c72902d8600cb4b1">ESP_SPP_DISCOVERY_COMP_EVT</a></div><div class="ttdeci">@ ESP_SPP_DISCOVERY_COMP_EVT</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00060">esp_spp_api.h:60</a></div></div>
<div class="ttc" id="astructstr_html"><div class="ttname"><a href="structstr.html">str</a></div><div class="ttdef"><b>Definition:</b> <a href="coap_2str_8h_source.html#l00015">str.h:15</a></div></div>
<div class="ttc" id="asemphr_8h_html_aae55761cabfa9bf85c8f4430f78c0953"><div class="ttname"><a href="semphr_8h.html#aae55761cabfa9bf85c8f4430f78c0953">xSemaphoreGive</a></div><div class="ttdeci">#define xSemaphoreGive(xSemaphore)</div><div class="ttdef"><b>Definition:</b> <a href="semphr_8h_source.html#l00475">semphr.h:474</a></div></div>
<div class="ttc" id="aesp__spp__api_8h_html_a5f01d6989140d6ffe5929b5cd815017cac805bd35d480688d7b7d931bc127c9a9"><div class="ttname"><a href="esp__spp__api_8h.html#a5f01d6989140d6ffe5929b5cd815017cac805bd35d480688d7b7d931bc127c9a9">ESP_SPP_ROLE_MASTER</a></div><div class="ttdeci">@ ESP_SPP_ROLE_MASTER</div><div class="ttdef"><b>Definition:</b> <a href="esp__spp__api_8h_source.html#l00044">esp_spp_api.h:44</a></div></div>
<div class="ttc" id="aesp__bt__main_8h_html_aeb0782778442a6ad8501ace628333ac1af0edb7b648fd75d7ba61d903ffe2d44a"><div class="ttname"><a href="esp__bt__main_8h.html#aeb0782778442a6ad8501ace628333ac1af0edb7b648fd75d7ba61d903ffe2d44a">ESP_BLUEDROID_STATUS_ENABLED</a></div><div class="ttdeci">@ ESP_BLUEDROID_STATUS_ENABLED</div><div class="ttdef"><b>Definition:</b> <a href="esp__bt__main_8h_source.html#l00031">esp_bt_main.h:30</a></div></div>
<div class="ttc" id="aesp__gap__bt__api_8h_html_aaf58b6bdaebf699dc418c90fe6a50a6d"><div class="ttname"><a href="esp__gap__bt__api_8h.html#aaf58b6bdaebf699dc418c90fe6a50a6d">esp_bt_sp_param_t</a></div><div class="ttdeci">esp_bt_sp_param_t</div><div class="ttdef"><b>Definition:</b> <a href="esp__gap__bt__api_8h_source.html#l00113">esp_gap_bt_api.h:113</a></div></div>
<div class="ttc" id="aBluetoothSerial_8h_html"><div class="ttname"><a href="BluetoothSerial_8h.html">BluetoothSerial.h</a></div></div>
<div class="ttc" id="aesp32-hal-bt_8h_html_a36f1b40e46ccfa0e45bd15bc93e6e1bd"><div class="ttname"><a href="esp32-hal-bt_8h.html#a36f1b40e46ccfa0e45bd15bc93e6e1bd">btStarted</a></div><div class="ttdeci">bool btStarted()</div></div>
<div class="ttc" id="aevent__groups_8h_html_a6939faca89fc4ba52fa8288527042464"><div class="ttname"><a href="event__groups_8h.html#a6939faca89fc4ba52fa8288527042464">vEventGroupDelete</a></div><div class="ttdeci">void vEventGroupDelete(EventGroupHandle_t xEventGroup)</div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html_add7ee0701ba35904d190811b9e5a4eda"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html#add7ee0701ba35904d190811b9e5a4eda">uxQueueMessagesWaiting</a></div><div class="ttdeci">UBaseType_t uxQueueMessagesWaiting(const QueueHandle_t xQueue) PRIVILEGED_FUNCTION</div></div>
<div class="ttc" id="anamespaceasio_html_af2c58929d38378c873ee91c4e3d70bf7"><div class="ttname"><a href="namespaceasio.html#af2c58929d38378c873ee91c4e3d70bf7">asio::end</a></div><div class="ttdeci">const EndpointSequence enable_if&lt; is_endpoint_sequence&lt; EndpointSequence &gt;::value &gt;::type Iterator enable_if&lt;!is_endpoint_sequence&lt; Iterator &gt;::value &gt;::type Iterator Iterator end</div><div class="ttdef"><b>Definition:</b> <a href="connect_8hpp_source.html#l00780">connect.hpp:780</a></div></div>
<div class="ttc" id="aevent__groups_8h_html_a0fb72cfdd4f0d5f86d955fc3af448f2a"><div class="ttname"><a href="event__groups_8h.html#a0fb72cfdd4f0d5f86d955fc3af448f2a">xEventGroupClearBits</a></div><div class="ttdeci">EventBits_t xEventGroupClearBits(EventGroupHandle_t xEventGroup, const EventBits_t uxBitsToClear) PRIVILEGED_FUNCTION</div></div>
<div class="ttc" id="aesp32-hal-bt_8h_html_a920f1d5645eff5bb9dedd84d5c20f794"><div class="ttname"><a href="esp32-hal-bt_8h.html#a920f1d5645eff5bb9dedd84d5c20f794">btStart</a></div><div class="ttdeci">bool btStart()</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
