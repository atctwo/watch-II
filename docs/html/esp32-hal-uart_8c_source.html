<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>watch 2: components/arduino-esp32/cores/esp32/esp32-hal-uart.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">watch 2
   </div>
   <div id="projectbrief">Firmwareforwatch2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_5eb99044ce905dee52e93bf33cea5db4.html">arduino-esp32</a></li><li class="navelem"><a class="el" href="dir_795c59de7e4ed2c11ede9e206275cb26.html">cores</a></li><li class="navelem"><a class="el" href="dir_7161b714644b5ca54deb1cb6e5e155ba.html">esp32</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">esp32-hal-uart.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="esp32-hal-uart_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2015-2016 Espressif Systems (Shanghai) PTE LTD</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//     http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// limitations under the License.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp32-hal-uart_8h.html">esp32-hal-uart.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp32-hal_8h.html">esp32-hal.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h.html">freertos/FreeRTOS.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="task_8h.html">freertos/task.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="freertos_2freertos_2queue_8h.html">freertos/queue.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="semphr_8h.html">freertos/semphr.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ets__sys_8h.html">rom/ets_sys.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp__attr_8h.html">esp_attr.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp__intr_8h.html">esp_intr.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp32_2rom_2uart_8h.html">rom/uart.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="uart__reg_8h.html">soc/uart_reg.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="uart__struct_8h.html">soc/uart_struct.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="io__mux__reg_8h.html">soc/io_mux_reg.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gpio__sig__map_8h.html">soc/gpio_sig_map.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dport__reg_8h.html">soc/dport_reg.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="soc_2soc_2rtc_8h.html">soc/rtc.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="esp__intr__alloc_8h.html">esp_intr_alloc.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#define UART_REG_BASE(u)    ((u==0)?DR_REG_UART_BASE:(      (u==1)?DR_REG_UART1_BASE:(    (u==2)?DR_REG_UART2_BASE:0)))</span></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#ab9fd05be7b98507e2a7c25d161ac5551">   34</a></span>&#160;<span class="preprocessor">#define UART_RXD_IDX(u)     ((u==0)?U0RXD_IN_IDX:(          (u==1)?U1RXD_IN_IDX:(         (u==2)?U2RXD_IN_IDX:0)))</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#a24a07c3509d53b0d5be58b6735e41277">   35</a></span>&#160;<span class="preprocessor">#define UART_TXD_IDX(u)     ((u==0)?U0TXD_OUT_IDX:(         (u==1)?U1TXD_OUT_IDX:(        (u==2)?U2TXD_OUT_IDX:0)))</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#a7fb214a218cb589bd2a704c676f1b255">   36</a></span>&#160;<span class="preprocessor">#define UART_INTR_SOURCE(u) ((u==0)?ETS_UART0_INTR_SOURCE:( (u==1)?ETS_UART1_INTR_SOURCE:((u==2)?ETS_UART2_INTR_SOURCE:0)))</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#a6181da744d20bcba3f43c5b98f371b79">   37</a></span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> s_uart_debug_nr = 0;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="structuart__struct__t.html">   40</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structuart__struct__t.html">uart_struct_t</a> {</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">   41</a></span>&#160;    <a class="code" href="structuart__dev__t.html">uart_dev_t</a> * <a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#if !CONFIG_DISABLE_HAL_LOCKS</span></div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structuart__struct__t.html#a85ffe72006176995498a03c6dbaff4c7">   43</a></span>&#160;    <a class="code" href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h.html#a520d8cf032327581ece00e5bd8e03a75">xSemaphoreHandle</a> <a class="code" href="structuart__struct__t.html#a85ffe72006176995498a03c6dbaff4c7">lock</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structuart__struct__t.html#a0fe017e1cb0fee610907e601799e1032">   45</a></span>&#160;    <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> <a class="code" href="structuart__struct__t.html#a0fe017e1cb0fee610907e601799e1032">num</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">   46</a></span>&#160;    <a class="code" href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h.html#a2b4ea2af4cc24db3cbd458722e96fa2f">xQueueHandle</a> <a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structuart__struct__t.html#a02fa3bf95d6734e86d0009ff72ab0ad7">   47</a></span>&#160;    <a class="code" href="esp__intr__alloc_8h.html#ab011a236fc3c9318f38ae4cdb9a26105">intr_handle_t</a> <a class="code" href="structuart__struct__t.html#a02fa3bf95d6734e86d0009ff72ab0ad7">intr_handle</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;};</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#if CONFIG_DISABLE_HAL_LOCKS</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#define UART_MUTEX_LOCK()</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#define UART_MUTEX_UNLOCK()</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">static</span> <a class="code" href="structuart__struct__t.html">uart_t</a> _uart_bus_array[3] = {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {(<span class="keyword">volatile</span> <a class="code" href="structuart__dev__t.html">uart_dev_t</a> *)(<a class="code" href="soc_8h.html#a24db50b005192a0522d354a86185310f">DR_REG_UART_BASE</a>), 0, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>},</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    {(<span class="keyword">volatile</span> <a class="code" href="structuart__dev__t.html">uart_dev_t</a> *)(<a class="code" href="soc_8h.html#ad6a7b605155a71289fcb3a8fcaf90d31">DR_REG_UART1_BASE</a>), 1, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>},</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    {(<span class="keyword">volatile</span> <a class="code" href="structuart__dev__t.html">uart_dev_t</a> *)(<a class="code" href="soc_8h.html#ada88294863766f5653ec63783a27d9c4">DR_REG_UART2_BASE</a>), 2, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;};</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#define UART_MUTEX_LOCK()    do {} while (xSemaphoreTake(uart-&gt;lock, portMAX_DELAY) != pdPASS)</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">   61</a></span>&#160;<span class="preprocessor">#define UART_MUTEX_UNLOCK()  xSemaphoreGive(uart-&gt;lock)</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">   62</a></span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">static</span> <a class="code" href="structuart__struct__t.html">uart_t</a> _uart_bus_array[3] = {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    {(<span class="keyword">volatile</span> <a class="code" href="structuart__dev__t.html">uart_dev_t</a> *)(<a class="code" href="soc_8h.html#a24db50b005192a0522d354a86185310f">DR_REG_UART_BASE</a>), <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>},</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    {(<span class="keyword">volatile</span> <a class="code" href="structuart__dev__t.html">uart_dev_t</a> *)(<a class="code" href="soc_8h.html#ad6a7b605155a71289fcb3a8fcaf90d31">DR_REG_UART1_BASE</a>), <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>},</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    {(<span class="keyword">volatile</span> <a class="code" href="structuart__dev__t.html">uart_dev_t</a> *)(<a class="code" href="soc_8h.html#ada88294863766f5653ec63783a27d9c4">DR_REG_UART2_BASE</a>), <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 2, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;};</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> uart_on_apb_change(<span class="keywordtype">void</span> * arg, <a class="code" href="esp32-hal-cpu_8h.html#a030cbe7d208b1f9b7c85765ccc5b4fff">apb_change_ev_t</a> ev_type, <a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> old_apb, <a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> new_apb);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="esp__attr_8h.html#a8b5a7da03d5e9fbb2ca81ddc85025012">IRAM_ATTR</a> _uart_isr(<span class="keywordtype">void</span> *arg)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, c;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="portmacro_8h.html#a7b6a9cf84459e1e2b1d07d3b41ffb011">BaseType_t</a> xHigherPriorityTaskWoken;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="structuart__struct__t.html">uart_t</a>* uart;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">for</span>(<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>=0;<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;3;<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++){</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        uart = &amp;_uart_bus_array[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">if</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a02fa3bf95d6734e86d0009ff72ab0ad7">intr_handle</a> == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>){</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a06f76d6f17ac8f0d883cf27a53413e36">int_clr</a>.<a class="code" href="structuart__dev__t.html#a17fbd1ff3ce91aefec0251de946998ef">rxfifo_full</a> = 1;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a06f76d6f17ac8f0d883cf27a53413e36">int_clr</a>.<a class="code" href="structuart__dev__t.html#aac23d89c3d6d0c9b252e8f03f5c94991">frm_err</a> = 1;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a06f76d6f17ac8f0d883cf27a53413e36">int_clr</a>.<a class="code" href="structuart__dev__t.html#a06fc2dab44c574b35df71efc47fee389">rxfifo_tout</a> = 1;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">while</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#adc32f411c008668f3607f58af6c23bcb">rxfifo_cnt</a> || (uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#af0fe97e0361fe9013996aa62b0cd8600">mem_rx_status</a>.<a class="code" href="structuart__dev__t.html#a56dce3628952e18fdc7c263a60a0d966">wr_addr</a> != uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#af0fe97e0361fe9013996aa62b0cd8600">mem_rx_status</a>.<a class="code" href="structuart__dev__t.html#a12c316c9f0d6464acdf43c87073cf3f6">rd_addr</a>)) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            c = uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ad67d3311a1b1bf6cb8b93979a036ea3c">fifo</a>.<a class="code" href="structuart__dev__t.html#afcabe7b3c6761b381e142b40ebd76bf4">rw_byte</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordflow">if</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)  {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                <a class="code" href="freertos_2freertos_2queue_8h.html#a21d5919ed26c21d121df4a4debeb643c">xQueueSendFromISR</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a>, &amp;c, &amp;xHigherPriorityTaskWoken);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span> (xHigherPriorityTaskWoken) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="portmacro_8h.html#ab35c804254f390845581c29fe6bcb65a">portYIELD_FROM_ISR</a>();</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#a769b81d375183247dd99eca0bfba47f0">   99</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#a769b81d375183247dd99eca0bfba47f0">uartEnableInterrupt</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a89e01d7a1d31b1dcfb3812e528dc98f8">conf1</a>.<a class="code" href="structuart__dev__t.html#a5d616b3669ff3e3595221fe4aaf8a023">rxfifo_full_thrhd</a> = 112;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a89e01d7a1d31b1dcfb3812e528dc98f8">conf1</a>.<a class="code" href="structuart__dev__t.html#a82a2c485378159ee9487df795685384c">rx_tout_thrhd</a> = 2;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a89e01d7a1d31b1dcfb3812e528dc98f8">conf1</a>.<a class="code" href="structuart__dev__t.html#a62f03c1f3e41b7455a05174ee637a130">rx_tout_en</a> = 1;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">int_ena</a>.<a class="code" href="structuart__dev__t.html#a17fbd1ff3ce91aefec0251de946998ef">rxfifo_full</a> = 1;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">int_ena</a>.<a class="code" href="structuart__dev__t.html#aac23d89c3d6d0c9b252e8f03f5c94991">frm_err</a> = 1;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">int_ena</a>.<a class="code" href="structuart__dev__t.html#a06fc2dab44c574b35df71efc47fee389">rxfifo_tout</a> = 1;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a06f76d6f17ac8f0d883cf27a53413e36">int_clr</a>.<a class="code" href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">val</a> = 0xffffffff;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="esp__intr__alloc_8h.html#a785c44696cfa40da617263561bc974ea">esp_intr_alloc</a>(<a class="code" href="esp32-hal-uart_8c.html#a6181da744d20bcba3f43c5b98f371b79">UART_INTR_SOURCE</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a0fe017e1cb0fee610907e601799e1032">num</a>), (<span class="keywordtype">int</span>)<a class="code" href="group__Intr__Alloc.html#ga3fb8d6fa8b5e33b3503e86917bc8367b">ESP_INTR_FLAG_IRAM</a>, _uart_isr, <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;uart-&gt;<a class="code" href="structuart__struct__t.html#a02fa3bf95d6734e86d0009ff72ab0ad7">intr_handle</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#a6a450799dc5c5c77d5ab04265826296c">  114</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#a6a450799dc5c5c77d5ab04265826296c">uartDisableInterrupt</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a89e01d7a1d31b1dcfb3812e528dc98f8">conf1</a>.<a class="code" href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">val</a> = 0;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">int_ena</a>.<a class="code" href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">val</a> = 0;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a06f76d6f17ac8f0d883cf27a53413e36">int_clr</a>.<a class="code" href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">val</a> = 0xffffffff;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="esp__intr__alloc_8h.html#a72b74e3a15147c3ca43e77875f71e908">esp_intr_free</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a02fa3bf95d6734e86d0009ff72ab0ad7">intr_handle</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a02fa3bf95d6734e86d0009ff72ab0ad7">intr_handle</a> = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#ac5fdc662b084f7ea9180fd763480d342">  127</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#ac5fdc662b084f7ea9180fd763480d342">uartDetachRx</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="esp32-hal-matrix_8c.html#a2a3f15df9222f9488139614fad88c907">pinMatrixInDetach</a>(<a class="code" href="esp32-hal-uart_8c.html#a24a07c3509d53b0d5be58b6735e41277">UART_RXD_IDX</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a0fe017e1cb0fee610907e601799e1032">num</a>), <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a6a450799dc5c5c77d5ab04265826296c">uartDisableInterrupt</a>(uart);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#ac203954b528a9a5c7eead0f8c9582e7c">  136</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#ac203954b528a9a5c7eead0f8c9582e7c">uartDetachTx</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="esp32-hal-matrix_8c.html#a405c3b937758dd44931c5452f4397ff1">pinMatrixOutDetach</a>(<a class="code" href="esp32-hal-uart_8c.html#a7fb214a218cb589bd2a704c676f1b255">UART_TXD_IDX</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a0fe017e1cb0fee610907e601799e1032">num</a>), <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#acc2ae4d2162a2ec65e71f9f5401d570a">  144</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#acc2ae4d2162a2ec65e71f9f5401d570a">uartAttachRx</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart, <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> rxPin, <span class="keywordtype">bool</span> inverted)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || rxPin &gt; 39) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="esp32-hal-gpio_8c.html#a6732634a108a709990b0a9ea9c573ca5">pinMode</a>(rxPin, <a class="code" href="esp32-hal-gpio_8h.html#a1bb283bd7893b9855e2f23013891fc82">INPUT</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="esp32-hal-matrix_8c.html#ac991dba10f936abd7becd51ff2d73f7b">pinMatrixInAttach</a>(rxPin, <a class="code" href="esp32-hal-uart_8c.html#a24a07c3509d53b0d5be58b6735e41277">UART_RXD_IDX</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a0fe017e1cb0fee610907e601799e1032">num</a>), inverted);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a769b81d375183247dd99eca0bfba47f0">uartEnableInterrupt</a>(uart);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#a9aafe24aefddcb5fd2d64d59025abccd">  154</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#a9aafe24aefddcb5fd2d64d59025abccd">uartAttachTx</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart, <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> txPin, <span class="keywordtype">bool</span> inverted)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;{</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || txPin &gt; 39) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="esp32-hal-gpio_8c.html#a6732634a108a709990b0a9ea9c573ca5">pinMode</a>(txPin, <a class="code" href="esp32-hal-gpio_8h.html#a61a3c9a18380aafb6e430e79bf596557">OUTPUT</a>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="esp32-hal-matrix_8c.html#a4911e993064543ddd612bc48c7bbe3f8">pinMatrixOutAttach</a>(txPin, <a class="code" href="esp32-hal-uart_8c.html#a7fb214a218cb589bd2a704c676f1b255">UART_TXD_IDX</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a0fe017e1cb0fee610907e601799e1032">num</a>), inverted, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#a7b5947f0ab025cf2bd1dd40626655d5a">  163</a></span>&#160;<a class="code" href="structuart__struct__t.html">uart_t</a>* <a class="code" href="esp32-hal-uart_8c.html#a7b5947f0ab025cf2bd1dd40626655d5a">uartBegin</a>(<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> uart_nr, <a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> baudrate, <a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> config, <a class="code" href="stdint_8h.html#a06ffba8acf5d133104191f183e67ac8c">int8_t</a> rxPin, <a class="code" href="stdint_8h.html#a06ffba8acf5d133104191f183e67ac8c">int8_t</a> txPin, <a class="code" href="stdint_8h.html#a281b4b5562236420969a830503b0ba19">uint16_t</a> queueLen, <span class="keywordtype">bool</span> inverted)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;{</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span>(uart_nr &gt; 2) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">if</span>(rxPin == -1 &amp;&amp; txPin == -1) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="structuart__struct__t.html">uart_t</a>* uart = &amp;_uart_bus_array[uart_nr];</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">#if !CONFIG_DISABLE_HAL_LOCKS</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a85ffe72006176995498a03c6dbaff4c7">lock</a> == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a85ffe72006176995498a03c6dbaff4c7">lock</a> = xSemaphoreCreateMutex();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">if</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a85ffe72006176995498a03c6dbaff4c7">lock</a> == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span>(queueLen &amp;&amp; uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> = xQueueCreate(queueLen, <span class="keyword">sizeof</span>(<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a>)); <span class="comment">//initialize the queue</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">if</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span>(uart_nr == 1){</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="dport__access_8h.html#a30f4d8bd206a36385b711ed14dd05b34">DPORT_SET_PERI_REG_MASK</a>(<a class="code" href="dport__reg_8h.html#a49880909661c594efee90557f9d01f2d">DPORT_PERIP_CLK_EN_REG</a>, <a class="code" href="dport__reg_8h.html#ac21cabca44da91931385ffa929ffc1f2">DPORT_UART1_CLK_EN</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <a class="code" href="dport__access_8h.html#ae41996597ae6153962375a83c1100f1f">DPORT_CLEAR_PERI_REG_MASK</a>(<a class="code" href="dport__reg_8h.html#a5defc386124973590397a2d78d2f50bc">DPORT_PERIP_RST_EN_REG</a>, <a class="code" href="dport__reg_8h.html#ad6872a2cd3ddb65b17ac1645325ab126">DPORT_UART1_RST</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(uart_nr == 2){</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="dport__access_8h.html#a30f4d8bd206a36385b711ed14dd05b34">DPORT_SET_PERI_REG_MASK</a>(<a class="code" href="dport__reg_8h.html#a49880909661c594efee90557f9d01f2d">DPORT_PERIP_CLK_EN_REG</a>, <a class="code" href="dport__reg_8h.html#ab79a95f9eef41090e4229d34b165b949">DPORT_UART2_CLK_EN</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="dport__access_8h.html#ae41996597ae6153962375a83c1100f1f">DPORT_CLEAR_PERI_REG_MASK</a>(<a class="code" href="dport__reg_8h.html#a5defc386124973590397a2d78d2f50bc">DPORT_PERIP_RST_EN_REG</a>, <a class="code" href="dport__reg_8h.html#a1add127eb7d72b1b1fcd5e4bd0376f86">DPORT_UART2_RST</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="dport__access_8h.html#a30f4d8bd206a36385b711ed14dd05b34">DPORT_SET_PERI_REG_MASK</a>(<a class="code" href="dport__reg_8h.html#a49880909661c594efee90557f9d01f2d">DPORT_PERIP_CLK_EN_REG</a>, <a class="code" href="dport__reg_8h.html#a92b11e2628eadc0d92d7847ccd9f5670">DPORT_UART_CLK_EN</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="dport__access_8h.html#ae41996597ae6153962375a83c1100f1f">DPORT_CLEAR_PERI_REG_MASK</a>(<a class="code" href="dport__reg_8h.html#a5defc386124973590397a2d78d2f50bc">DPORT_PERIP_RST_EN_REG</a>, <a class="code" href="dport__reg_8h.html#a5991e52f46566e0635830fb5a98c4958">DPORT_UART_RST</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#adaa4138616b4028820db55ef9b534b8e">uartFlush</a>(uart);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a30e445576e19be0cb8c1e776bad308c2">uartSetBaudRate</a>(uart, baudrate);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#aef6b1e939b1e5a320c1d1eca594d47f1">conf0</a>.<a class="code" href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">val</a> = config;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">    #define TWO_STOP_BITS_CONF 0x3</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor">    #define ONE_STOP_BITS_CONF 0x1</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> ( uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#aef6b1e939b1e5a320c1d1eca594d47f1">conf0</a>.<a class="code" href="structuart__dev__t.html#a23ce54c204e66f40c17a613387b0173c">stop_bit_num</a> == <a class="code" href="esp32-hal-uart_8c.html#ac1641ae50a26edb8748dff6e40733596">TWO_STOP_BITS_CONF</a>) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#aef6b1e939b1e5a320c1d1eca594d47f1">conf0</a>.<a class="code" href="structuart__dev__t.html#a23ce54c204e66f40c17a613387b0173c">stop_bit_num</a> = <a class="code" href="esp32-hal-uart_8c.html#aa0bd45590e0bda1682a2340e69e3c5c6">ONE_STOP_BITS_CONF</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#aac69c2def84daa45eba9293bad633a47">rs485_conf</a>.<a class="code" href="structuart__dev__t.html#ae77814a99fd09e0b4b38ddf2525c815b">dl1_en</a> = 1;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">// tx_idle_num : idle interval after tx FIFO is empty(unit: the time it takes to send one bit under current baudrate)</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// Setting it to 0 prevents line idle time/delays when sending messages with small intervals</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ae48e9c47575f8017fdea4bbf1c0e6cad">idle_conf</a>.<a class="code" href="structuart__dev__t.html#ad4e5998726dde9d411db9786560d5cc5">tx_idle_num</a> = 0;  <span class="comment">//</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">if</span>(rxPin != -1) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="esp32-hal-uart_8c.html#acc2ae4d2162a2ec65e71f9f5401d570a">uartAttachRx</a>(uart, rxPin, inverted);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">if</span>(txPin != -1) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="esp32-hal-uart_8c.html#a9aafe24aefddcb5fd2d64d59025abccd">uartAttachTx</a>(uart, txPin, inverted);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="esp32-hal-cpu_8c.html#ad7389b1cd9f6a2d4326b50e04f533e17">addApbChangeCallback</a>(uart, uart_on_apb_change);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> uart;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#a1751083b0e1266a40d2d6e83e927f8d0">  229</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#a1751083b0e1266a40d2d6e83e927f8d0">uartEnd</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="esp32-hal-cpu_8c.html#ae85f8f9000f48e8e31f28a6088c27879">removeApbChangeCallback</a>(uart, uart_on_apb_change);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="freertos_2freertos_2queue_8h.html#a707cbcfe3aed6b877b6aa6d9d75a3f22">vQueueDelete</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#aef6b1e939b1e5a320c1d1eca594d47f1">conf0</a>.<a class="code" href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">val</a> = 0;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ac5fdc662b084f7ea9180fd763480d342">uartDetachRx</a>(uart);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ac203954b528a9a5c7eead0f8c9582e7c">uartDetachTx</a>(uart);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#a8b0bfbbec7f5c2badf2d1f3d332a3786">  250</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="esp32-hal-uart_8c.html#a8b0bfbbec7f5c2badf2d1f3d332a3786">uartResizeRxBuffer</a>(<a class="code" href="structuart__struct__t.html">uart_t</a> * uart, <span class="keywordtype">size_t</span> new_size) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <a class="code" href="freertos_2freertos_2queue_8h.html#a707cbcfe3aed6b877b6aa6d9d75a3f22">vQueueDelete</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> = xQueueCreate(new_size, <span class="keyword">sizeof</span>(<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a>));</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">if</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> new_size;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#a1e1ab6802c6e453059c526b1703546a3">  268</a></span>&#160;<a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> <a class="code" href="esp32-hal-uart_8c.html#a1e1ab6802c6e453059c526b1703546a3">uartAvailable</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="freertos_2freertos_2queue_8h.html#add7ee0701ba35904d190811b9e5a4eda">uxQueueMessagesWaiting</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a>) + uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#adc32f411c008668f3607f58af6c23bcb">rxfifo_cnt</a>) ;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#a57c48d8e5572784a3625bc1d98ea8843">  276</a></span>&#160;<a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> <a class="code" href="esp32-hal-uart_8c.html#a57c48d8e5572784a3625bc1d98ea8843">uartAvailableForWrite</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">return</span> 0x7f - uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#aa6183dacda6274f36ff3db4b41c7480c">txfifo_cnt</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#a4d8d288431e63d109781860f70e5234b">  284</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#a4d8d288431e63d109781860f70e5234b">uartRxFifoToQueue</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;{</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> c;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">//disable interrupts</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">int_ena</a>.<a class="code" href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">val</a> = 0;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a06f76d6f17ac8f0d883cf27a53413e36">int_clr</a>.<a class="code" href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">val</a> = 0xffffffff;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">while</span> (uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#adc32f411c008668f3607f58af6c23bcb">rxfifo_cnt</a> || (uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#af0fe97e0361fe9013996aa62b0cd8600">mem_rx_status</a>.<a class="code" href="structuart__dev__t.html#a56dce3628952e18fdc7c263a60a0d966">wr_addr</a> != uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#af0fe97e0361fe9013996aa62b0cd8600">mem_rx_status</a>.<a class="code" href="structuart__dev__t.html#a12c316c9f0d6464acdf43c87073cf3f6">rd_addr</a>)) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        c = uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ad67d3311a1b1bf6cb8b93979a036ea3c">fifo</a>.<a class="code" href="structuart__dev__t.html#afcabe7b3c6761b381e142b40ebd76bf4">rw_byte</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="freertos_2freertos_2queue_8h.html#af7eb49d3249351176992950d9185abe9">xQueueSend</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a>, &amp;c, 0);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">//enable interrupts</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">int_ena</a>.<a class="code" href="structuart__dev__t.html#a17fbd1ff3ce91aefec0251de946998ef">rxfifo_full</a> = 1;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">int_ena</a>.<a class="code" href="structuart__dev__t.html#aac23d89c3d6d0c9b252e8f03f5c94991">frm_err</a> = 1;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">int_ena</a>.<a class="code" href="structuart__dev__t.html#a06fc2dab44c574b35df71efc47fee389">rxfifo_tout</a> = 1;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a06f76d6f17ac8f0d883cf27a53413e36">int_clr</a>.<a class="code" href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">val</a> = 0xffffffff;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#a0df9f10a6f471f7a7958500e1dad8725">  303</a></span>&#160;<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> <a class="code" href="esp32-hal-uart_8c.html#a0df9f10a6f471f7a7958500e1dad8725">uartRead</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> c;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="freertos_2freertos_2queue_8h.html#add7ee0701ba35904d190811b9e5a4eda">uxQueueMessagesWaiting</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a>) == 0) &amp;&amp; (uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#adc32f411c008668f3607f58af6c23bcb">rxfifo_cnt</a> &gt; 0))</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="esp32-hal-uart_8c.html#a4d8d288431e63d109781860f70e5234b">uartRxFifoToQueue</a>(uart);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="freertos_2freertos_2queue_8h.html#af1549eac0e7f05694a59a0b967c80be3">xQueueReceive</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a>, &amp;c, 0)) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">return</span> c;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#ac341e8373cf1e592a5c70d82751efe71">  319</a></span>&#160;<a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> <a class="code" href="esp32-hal-uart_8c.html#ac341e8373cf1e592a5c70d82751efe71">uartPeek</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;{</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> c;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="freertos_2freertos_2queue_8h.html#add7ee0701ba35904d190811b9e5a4eda">uxQueueMessagesWaiting</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a>) == 0) &amp;&amp; (uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#adc32f411c008668f3607f58af6c23bcb">rxfifo_cnt</a> &gt; 0))</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <a class="code" href="esp32-hal-uart_8c.html#a4d8d288431e63d109781860f70e5234b">uartRxFifoToQueue</a>(uart);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="freertos_2freertos_2queue_8h.html#a2df70733bb875477cd9614c5b3446257">xQueuePeek</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a>, &amp;c, 0)) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">return</span> c;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#a25af251b2911494f2e4fe36d56b89471">  335</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#a25af251b2911494f2e4fe36d56b89471">uartWrite</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart, <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> c)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">while</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#aa6183dacda6274f36ff3db4b41c7480c">txfifo_cnt</a> == 0x7F);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ad67d3311a1b1bf6cb8b93979a036ea3c">fifo</a>.<a class="code" href="structuart__dev__t.html#afcabe7b3c6761b381e142b40ebd76bf4">rw_byte</a> = c;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;}</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#a41e1af3e92eb6d7287f3b174a2cc80b3">  346</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#a41e1af3e92eb6d7287f3b174a2cc80b3">uartWriteBuf</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart, <span class="keyword">const</span> <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> * <a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a>, <span class="keywordtype">size_t</span> len)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;{</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">while</span>(len) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">while</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#aa6183dacda6274f36ff3db4b41c7480c">txfifo_cnt</a> == 0x7F);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ad67d3311a1b1bf6cb8b93979a036ea3c">fifo</a>.<a class="code" href="structuart__dev__t.html#afcabe7b3c6761b381e142b40ebd76bf4">rw_byte</a> = *<a class="code" href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">data</a>++;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        len--;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#adaa4138616b4028820db55ef9b534b8e">  360</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#adaa4138616b4028820db55ef9b534b8e">uartFlush</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;{</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#affac7baf727bfe8a57cc596659a9e384">uartFlushTxOnly</a>(uart,<span class="keyword">false</span>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#affac7baf727bfe8a57cc596659a9e384">  365</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#affac7baf727bfe8a57cc596659a9e384">uartFlushTxOnly</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart, <span class="keywordtype">bool</span> txOnly)</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;{</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">while</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#aa6183dacda6274f36ff3db4b41c7480c">txfifo_cnt</a> || uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#a53a4b6c840c2b1401b9ce3d0dfe0646b">st_utx_out</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span>( !txOnly ){</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="comment">//Due to hardware issue, we can not use fifo_rst to reset uart fifo.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="comment">//See description about UART_TXFIFO_RST and UART_RXFIFO_RST in &lt;&lt;esp32_technical_reference_manual&gt;&gt; v2.6 or later.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="comment">// we read the data out and make `fifo_len == 0 &amp;&amp; rd_addr == wr_addr`.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">while</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#adc32f411c008668f3607f58af6c23bcb">rxfifo_cnt</a> != 0 || (uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#af0fe97e0361fe9013996aa62b0cd8600">mem_rx_status</a>.<a class="code" href="structuart__dev__t.html#a56dce3628952e18fdc7c263a60a0d966">wr_addr</a> != uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#af0fe97e0361fe9013996aa62b0cd8600">mem_rx_status</a>.<a class="code" href="structuart__dev__t.html#a12c316c9f0d6464acdf43c87073cf3f6">rd_addr</a>)) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <a class="code" href="soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="uart__reg_8h.html#a92e91afaeee348c1df926fc578c50e8b">UART_FIFO_REG</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a0fe017e1cb0fee610907e601799e1032">num</a>));</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="freertos_2freertos_2queue_8h.html#a94df8d8bc938424151f8196db2f1177b">xQueueReset</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#a30e445576e19be0cb8c1e776bad308c2">  389</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#a30e445576e19be0cb8c1e776bad308c2">uartSetBaudRate</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart, <a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> baud_rate)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> clk_div = ((<a class="code" href="esp32-hal-cpu_8c.html#a52637cdc19ab4d49d5f63cc63e6bc832">getApbFrequency</a>()&lt;&lt;4)/baud_rate);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a708cd1b1dc5410287fc59d00ab5220b9">clk_div</a>.<a class="code" href="structuart__dev__t.html#a851f8659f8a69a176e04fc08f454982f">div_int</a> = clk_div&gt;&gt;4 ;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a708cd1b1dc5410287fc59d00ab5220b9">clk_div</a>.<a class="code" href="structuart__dev__t.html#afd237ee65cb00a3caf37496261cc7aa6">div_frag</a> = clk_div &amp; 0xf;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> uart_on_apb_change(<span class="keywordtype">void</span> * arg, <a class="code" href="esp32-hal-cpu_8h.html#a030cbe7d208b1f9b7c85765ccc5b4fff">apb_change_ev_t</a> ev_type, <a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> old_apb, <a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> new_apb)</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;{</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="structuart__struct__t.html">uart_t</a>* uart = (<a class="code" href="structuart__struct__t.html">uart_t</a>*)arg;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span>(ev_type == <a class="code" href="esp32-hal-cpu_8h.html#a030cbe7d208b1f9b7c85765ccc5b4fffa5337858216a3483bafd454613bf1ce6d">APB_BEFORE_CHANGE</a>){</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="comment">//disabple interrupt</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">int_ena</a>.<a class="code" href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">val</a> = 0;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a06f76d6f17ac8f0d883cf27a53413e36">int_clr</a>.<a class="code" href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">val</a> = 0xffffffff;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="comment">// read RX fifo</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <a class="code" href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a> c;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   <span class="comment">//     BaseType_t xHigherPriorityTaskWoken;</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordflow">while</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#adc32f411c008668f3607f58af6c23bcb">rxfifo_cnt</a> != 0 || (uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#af0fe97e0361fe9013996aa62b0cd8600">mem_rx_status</a>.<a class="code" href="structuart__dev__t.html#a56dce3628952e18fdc7c263a60a0d966">wr_addr</a> != uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#af0fe97e0361fe9013996aa62b0cd8600">mem_rx_status</a>.<a class="code" href="structuart__dev__t.html#a12c316c9f0d6464acdf43c87073cf3f6">rd_addr</a>)) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            c = uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ad67d3311a1b1bf6cb8b93979a036ea3c">fifo</a>.<a class="code" href="structuart__dev__t.html#afcabe7b3c6761b381e142b40ebd76bf4">rw_byte</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="keywordflow">if</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a> != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                <a class="code" href="freertos_2freertos_2queue_8h.html#af7eb49d3249351176992950d9185abe9">xQueueSend</a>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">queue</a>, &amp;c, 1); <span class="comment">//&amp;xHigherPriorityTaskWoken);</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="comment">// wait TX empty</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">while</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#aa6183dacda6274f36ff3db4b41c7480c">txfifo_cnt</a> || uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#a53a4b6c840c2b1401b9ce3d0dfe0646b">st_utx_out</a>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="comment">//todo:</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="comment">// set baudrate</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> clk_div = (uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a708cd1b1dc5410287fc59d00ab5220b9">clk_div</a>.<a class="code" href="structuart__dev__t.html#a851f8659f8a69a176e04fc08f454982f">div_int</a> &lt;&lt; 4) | (uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a708cd1b1dc5410287fc59d00ab5220b9">clk_div</a>.<a class="code" href="structuart__dev__t.html#afd237ee65cb00a3caf37496261cc7aa6">div_frag</a> &amp; 0x0F);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> baud_rate = ((old_apb&lt;&lt;4)/clk_div);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        clk_div = ((new_apb&lt;&lt;4)/baud_rate);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a708cd1b1dc5410287fc59d00ab5220b9">clk_div</a>.<a class="code" href="structuart__dev__t.html#a851f8659f8a69a176e04fc08f454982f">div_int</a> = clk_div&gt;&gt;4 ;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a708cd1b1dc5410287fc59d00ab5220b9">clk_div</a>.<a class="code" href="structuart__dev__t.html#afd237ee65cb00a3caf37496261cc7aa6">div_frag</a> = clk_div &amp; 0xf;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="comment">//enable interrupts</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">int_ena</a>.<a class="code" href="structuart__dev__t.html#a17fbd1ff3ce91aefec0251de946998ef">rxfifo_full</a> = 1;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">int_ena</a>.<a class="code" href="structuart__dev__t.html#aac23d89c3d6d0c9b252e8f03f5c94991">frm_err</a> = 1;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">int_ena</a>.<a class="code" href="structuart__dev__t.html#a06fc2dab44c574b35df71efc47fee389">rxfifo_tout</a> = 1;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a06f76d6f17ac8f0d883cf27a53413e36">int_clr</a>.<a class="code" href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">val</a> = 0xffffffff;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#ac70da64ebf38842b719b8fe0ac91177c">  440</a></span>&#160;<a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> <a class="code" href="esp32-hal-uart_8c.html#ac70da64ebf38842b719b8fe0ac91177c">uartGetBaudRate</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;{</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a> clk_div = (uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a708cd1b1dc5410287fc59d00ab5220b9">clk_div</a>.<a class="code" href="structuart__dev__t.html#a851f8659f8a69a176e04fc08f454982f">div_int</a> &lt;&lt; 4) | (uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a708cd1b1dc5410287fc59d00ab5220b9">clk_div</a>.<a class="code" href="structuart__dev__t.html#afd237ee65cb00a3caf37496261cc7aa6">div_frag</a> &amp; 0x0F);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span>(!clk_div) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">return</span> ((<a class="code" href="esp32-hal-cpu_8c.html#a52637cdc19ab4d49d5f63cc63e6bc832">getApbFrequency</a>()&lt;&lt;4)/clk_div);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;}</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="esp__attr_8h.html#a8b5a7da03d5e9fbb2ca81ddc85025012">IRAM_ATTR</a> uart0_write_char(<span class="keywordtype">char</span> c)</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;{</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">while</span>(((<a class="code" href="esp32-hal_8h.html#a8de04d90dbfdd20c915b770f48436429">ESP_REG</a>(0x01C+<a class="code" href="soc_8h.html#a24db50b005192a0522d354a86185310f">DR_REG_UART_BASE</a>) &gt;&gt; <a class="code" href="uart__reg_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a>) &amp; 0x7F) == 0x7F);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="esp32-hal_8h.html#a8de04d90dbfdd20c915b770f48436429">ESP_REG</a>(<a class="code" href="soc_8h.html#a24db50b005192a0522d354a86185310f">DR_REG_UART_BASE</a>) = c;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="esp__attr_8h.html#a8b5a7da03d5e9fbb2ca81ddc85025012">IRAM_ATTR</a> uart1_write_char(<span class="keywordtype">char</span> c)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;{</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">while</span>(((<a class="code" href="esp32-hal_8h.html#a8de04d90dbfdd20c915b770f48436429">ESP_REG</a>(0x01C+<a class="code" href="soc_8h.html#ad6a7b605155a71289fcb3a8fcaf90d31">DR_REG_UART1_BASE</a>) &gt;&gt; <a class="code" href="uart__reg_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a>) &amp; 0x7F) == 0x7F);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="esp32-hal_8h.html#a8de04d90dbfdd20c915b770f48436429">ESP_REG</a>(<a class="code" href="soc_8h.html#ad6a7b605155a71289fcb3a8fcaf90d31">DR_REG_UART1_BASE</a>) = c;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="esp__attr_8h.html#a8b5a7da03d5e9fbb2ca81ddc85025012">IRAM_ATTR</a> uart2_write_char(<span class="keywordtype">char</span> c)</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;{</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">while</span>(((<a class="code" href="esp32-hal_8h.html#a8de04d90dbfdd20c915b770f48436429">ESP_REG</a>(0x01C+<a class="code" href="soc_8h.html#ada88294863766f5653ec63783a27d9c4">DR_REG_UART2_BASE</a>) &gt;&gt; <a class="code" href="uart__reg_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a>) &amp; 0x7F) == 0x7F);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="esp32-hal_8h.html#a8de04d90dbfdd20c915b770f48436429">ESP_REG</a>(<a class="code" href="soc_8h.html#ada88294863766f5653ec63783a27d9c4">DR_REG_UART2_BASE</a>) = c;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#a9cbec7a1801548d7bbe4078cb58ad59d">  472</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#a9cbec7a1801548d7bbe4078cb58ad59d">uart_install_putc</a>()</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;{</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">switch</span>(s_uart_debug_nr) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <a class="code" href="group__ets__printf__apis.html#ga0d5ec49104c1111f0718c92bbc5e6379">ets_install_putc1</a>((<span class="keywordtype">void</span> (*)(<span class="keywordtype">char</span>)) &amp;uart0_write_char);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="group__ets__printf__apis.html#ga0d5ec49104c1111f0718c92bbc5e6379">ets_install_putc1</a>((<span class="keywordtype">void</span> (*)(<span class="keywordtype">char</span>)) &amp;uart1_write_char);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <a class="code" href="group__ets__printf__apis.html#ga0d5ec49104c1111f0718c92bbc5e6379">ets_install_putc1</a>((<span class="keywordtype">void</span> (*)(<span class="keywordtype">char</span>)) &amp;uart2_write_char);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <a class="code" href="group__ets__printf__apis.html#ga0d5ec49104c1111f0718c92bbc5e6379">ets_install_putc1</a>(<a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#a13644410dc94d090e67ba24af0c68878">  490</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#a13644410dc94d090e67ba24af0c68878">uartSetDebug</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;{</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">if</span>(uart == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || uart-&gt;<a class="code" href="structuart__struct__t.html#a0fe017e1cb0fee610907e601799e1032">num</a> &gt; 2) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        s_uart_debug_nr = -1;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="comment">//ets_install_putc1(NULL);</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="comment">//return;</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">if</span>(s_uart_debug_nr == uart-&gt;<a class="code" href="structuart__struct__t.html#a0fe017e1cb0fee610907e601799e1032">num</a>) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    s_uart_debug_nr = uart-&gt;<a class="code" href="structuart__struct__t.html#a0fe017e1cb0fee610907e601799e1032">num</a>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a9cbec7a1801548d7bbe4078cb58ad59d">uart_install_putc</a>();</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#a05ce8140b8b56e64ac316dffd9e70c24">  504</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="esp32-hal-uart_8c.html#a05ce8140b8b56e64ac316dffd9e70c24">uartGetDebug</a>()</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;{</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">return</span> s_uart_debug_nr;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#a717149ccabab7f311f48d3ff45e55961">  509</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="esp32-hal-uart_8c.html#a717149ccabab7f311f48d3ff45e55961">log_printf</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cJSON_8h.html#adb411a44855a4c49231d72a0fc9a3b3b">format</a>, ...)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span>(s_uart_debug_nr &lt; 0){</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> loc_buf[64];</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordtype">char</span> * <a class="code" href="BLEEddystoneTLM_8h.html#a36142ddde297ed1d5577c81230997301">temp</a> = loc_buf;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordtype">int</span> len;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    va_list arg;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    va_list <a class="code" href="Arduino-IRremote_2LICENSE_8txt.html#a0ff3051eb9cb79426196331363674fa7">copy</a>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    va_start(arg, <a class="code" href="cJSON_8h.html#adb411a44855a4c49231d72a0fc9a3b3b">format</a>);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    va_copy(<a class="code" href="Arduino-IRremote_2LICENSE_8txt.html#a0ff3051eb9cb79426196331363674fa7">copy</a>, arg);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    len = vsnprintf(<a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="cJSON_8h.html#adb411a44855a4c49231d72a0fc9a3b3b">format</a>, arg);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    va_end(<a class="code" href="Arduino-IRremote_2LICENSE_8txt.html#a0ff3051eb9cb79426196331363674fa7">copy</a>);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">if</span>(len &gt;= <span class="keyword">sizeof</span>(loc_buf)){</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="BLEEddystoneTLM_8h.html#a36142ddde297ed1d5577c81230997301">temp</a> = (<span class="keywordtype">char</span>*)<a class="code" href="unity__fixture__malloc__overrides_8h.html#acf143577800376dd931c059ecc61ba06">malloc</a>(len+1);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="BLEEddystoneTLM_8h.html#a36142ddde297ed1d5577c81230997301">temp</a> == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    vsnprintf(<a class="code" href="BLEEddystoneTLM_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>, len+1, <a class="code" href="cJSON_8h.html#adb411a44855a4c49231d72a0fc9a3b3b">format</a>, arg);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="preprocessor">#if !CONFIG_DISABLE_HAL_LOCKS</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span>(_uart_bus_array[s_uart_debug_nr].lock){</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <a class="code" href="semphr_8h.html#af116e436d2a5ae5bd72dbade2b5ea930">xSemaphoreTake</a>(_uart_bus_array[s_uart_debug_nr].lock, <a class="code" href="portmacro_8h.html#a72723ba1e4a85ca14f25c2b9e066613d">portMAX_DELAY</a>);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <a class="code" href="group__ets__printf__apis.html#ga8fadc8e125d712386ef99a6b36386bea">ets_printf</a>(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="BLEEddystoneTLM_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <a class="code" href="semphr_8h.html#aae55761cabfa9bf85c8f4430f78c0953">xSemaphoreGive</a>(_uart_bus_array[s_uart_debug_nr].lock);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <a class="code" href="group__ets__printf__apis.html#ga8fadc8e125d712386ef99a6b36386bea">ets_printf</a>(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="BLEEddystoneTLM_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="group__ets__printf__apis.html#ga8fadc8e125d712386ef99a6b36386bea">ets_printf</a>(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="BLEEddystoneTLM_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    va_end(arg);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">if</span>(len &gt;= <span class="keyword">sizeof</span>(loc_buf)){</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <a class="code" href="RPSL_8txt.html#ae227cfd33a5880ffce840d383c2fbff3">free</a>(<a class="code" href="BLEEddystoneTLM_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span> len;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"> * if enough pulses are detected return the minimum high pulse duration + minimum low pulse duration divided by two. </span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"> * This equals one bit period. If flag is true the function return inmediately, otherwise it waits for enough pulses.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8c.html#a760876373cc635e8f82a7783f6772b4d">  552</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="esp32-hal-uart_8c.html#a760876373cc635e8f82a7783f6772b4d">uartBaudrateDetect</a>(<a class="code" href="structuart__struct__t.html">uart_t</a> *uart, <span class="keywordtype">bool</span> flg)</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;{</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">while</span>(uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a190f0e85af7268cb574468f30df835b4">rxd_cnt</a>.<a class="code" href="structuart__dev__t.html#a46dc1cf88d7d9e61d5a156c1a1568777">edge_cnt</a> &lt; 30) { <span class="comment">// UART_PULSE_NUM(uart_num)</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">if</span>(flg) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <a class="code" href="group__ets__timer__apis.html#ga66cff33ccec02a8d522ba9c81b811408">ets_delay_us</a>(1000);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a>();</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ret = ((uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab6de05c9e8c2055196b933441a8b6ee0">lowpulse</a>.<a class="code" href="structuart__dev__t.html#a10d8f40649015fda35a1632ba21ec9b0">min_cnt</a> + uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#a2d0acfe97f571598b0af7f3825d3a911">highpulse</a>.<a class="code" href="structuart__dev__t.html#a10d8f40649015fda35a1632ba21ec9b0">min_cnt</a>) &gt;&gt; 1) + 12;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a>();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"> * To start detection of baud rate with the uart the auto_baud.en bit needs to be cleared and set. The bit period is </span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment"> * detected calling uartBadrateDetect(). The raw baudrate is computed using the UART_CLK_FREQ. The raw baudrate is </span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment"> * rounded to the closed real baudrate.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#aa4ea4b7dbdafb73594f6fc953686ff07">  571</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="esp32-hal-uart_8c.html#aa4ea4b7dbdafb73594f6fc953686ff07">uartStartDetectBaudrate</a>(<a class="code" href="structuart__struct__t.html">uart_t</a> *uart) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">if</span>(!uart) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ac3aab714f2e44ac05fbf9ed26b41feb2">auto_baud</a>.<a class="code" href="structuart__dev__t.html#ad384999c2c601a5d468f17d407cfa0c2">glitch_filt</a> = 0x08;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ac3aab714f2e44ac05fbf9ed26b41feb2">auto_baud</a>.<a class="code" href="structuart__dev__t.html#a324ce1a850027060f43621e55cd58c81">en</a> = 0;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ac3aab714f2e44ac05fbf9ed26b41feb2">auto_baud</a>.<a class="code" href="structuart__dev__t.html#a324ce1a850027060f43621e55cd58c81">en</a> = 1;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;}</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span></div>
<div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#ab6b3f5df7a4b796a670dce2d87f04b17">  580</a></span>&#160;<a class="code" href="esp32-hal-uart_8c.html#ab6b3f5df7a4b796a670dce2d87f04b17">uartDetectBaudrate</a>(<a class="code" href="structuart__struct__t.html">uart_t</a> *uart)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;{</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> uartStateDetectingBaudrate = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span>(!uartStateDetectingBaudrate) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ac3aab714f2e44ac05fbf9ed26b41feb2">auto_baud</a>.<a class="code" href="structuart__dev__t.html#ad384999c2c601a5d468f17d407cfa0c2">glitch_filt</a> = 0x08;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ac3aab714f2e44ac05fbf9ed26b41feb2">auto_baud</a>.<a class="code" href="structuart__dev__t.html#a324ce1a850027060f43621e55cd58c81">en</a> = 0;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ac3aab714f2e44ac05fbf9ed26b41feb2">auto_baud</a>.<a class="code" href="structuart__dev__t.html#a324ce1a850027060f43621e55cd58c81">en</a> = 1;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        uartStateDetectingBaudrate = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> divisor = <a class="code" href="esp32-hal-uart_8c.html#a760876373cc635e8f82a7783f6772b4d">uartBaudrateDetect</a>(uart, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">if</span> (!divisor) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ac3aab714f2e44ac05fbf9ed26b41feb2">auto_baud</a>.<a class="code" href="structuart__dev__t.html#a324ce1a850027060f43621e55cd58c81">en</a> = 0;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    uartStateDetectingBaudrate = <span class="keyword">false</span>; <span class="comment">// Initialize for the next round</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> baudrate = <a class="code" href="esp32-hal-cpu_8c.html#a52637cdc19ab4d49d5f63cc63e6bc832">getApbFrequency</a>() / divisor;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> default_rates[] = {300, 600, 1200, 2400, 4800, 9600, 19200, 38400, 57600, 74880, 115200, 230400, 256000, 460800, 921600, 1843200, 3686400};</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <span class="keyword">sizeof</span>(default_rates) / <span class="keyword">sizeof</span>(default_rates[0]) - 1; <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)  <span class="comment">// find the nearest real baudrate</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">if</span> (baudrate &lt;= default_rates[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="keywordflow">if</span> (baudrate - default_rates[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1] &lt; default_rates[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - baudrate) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                <a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">return</span> default_rates[<a class="code" href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment"> * Returns the status of the RX state machine, if the value is non-zero the state machine is active.</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="esp32-hal-uart_8h.html#a65e97de6b5b9b0c2a9aba2d6992ead24">  621</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="esp32-hal-uart_8c.html#a65e97de6b5b9b0c2a9aba2d6992ead24">uartRxActive</a>(<a class="code" href="structuart__struct__t.html">uart_t</a>* uart) {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">return</span> uart-&gt;<a class="code" href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">dev</a>-&gt;<a class="code" href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">status</a>.<a class="code" href="structuart__dev__t.html#aa7522e9c6b373d382701c16ee7710ff7">st_urx_out</a> != 0;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aesp__intr__alloc_8h_html"><div class="ttname"><a href="esp__intr__alloc_8h.html">esp_intr_alloc.h</a></div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html_a707cbcfe3aed6b877b6aa6d9d75a3f22"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html#a707cbcfe3aed6b877b6aa6d9d75a3f22">vQueueDelete</a></div><div class="ttdeci">void vQueueDelete(QueueHandle_t xQueue) PRIVILEGED_FUNCTION</div></div>
<div class="ttc" id="astructuart__dev__t_html_ab344e0abf48be07d7ab4acc4cf0969b9"><div class="ttname"><a href="structuart__dev__t.html#ab344e0abf48be07d7ab4acc4cf0969b9">uart_dev_t::status</a></div><div class="ttdeci">union uart_dev_t::@1394 status</div></div>
<div class="ttc" id="astructuart__dev__t_html_af0fe97e0361fe9013996aa62b0cd8600"><div class="ttname"><a href="structuart__dev__t.html#af0fe97e0361fe9013996aa62b0cd8600">uart_dev_t::mem_rx_status</a></div><div class="ttdeci">union uart_dev_t::@1411 mem_rx_status</div></div>
<div class="ttc" id="auart__reg_8h_html_a92e91afaeee348c1df926fc578c50e8b"><div class="ttname"><a href="uart__reg_8h.html#a92e91afaeee348c1df926fc578c50e8b">UART_FIFO_REG</a></div><div class="ttdeci">#define UART_FIFO_REG(i)</div><div class="ttdef"><b>Definition:</b> <a href="uart__reg_8h_source.html#l00024">uart_reg.h:23</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_aac23d89c3d6d0c9b252e8f03f5c94991"><div class="ttname"><a href="structuart__dev__t.html#aac23d89c3d6d0c9b252e8f03f5c94991">uart_dev_t::frm_err</a></div><div class="ttdeci">uint32_t frm_err</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00036">uart_struct.h:36</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_aa0bd45590e0bda1682a2340e69e3c5c6"><div class="ttname"><a href="esp32-hal-uart_8c.html#aa0bd45590e0bda1682a2340e69e3c5c6">ONE_STOP_BITS_CONF</a></div><div class="ttdeci">#define ONE_STOP_BITS_CONF</div></div>
<div class="ttc" id="adport__reg_8h_html_a5defc386124973590397a2d78d2f50bc"><div class="ttname"><a href="dport__reg_8h.html#a5defc386124973590397a2d78d2f50bc">DPORT_PERIP_RST_EN_REG</a></div><div class="ttdeci">#define DPORT_PERIP_RST_EN_REG</div><div class="ttdef"><b>Definition:</b> <a href="dport__reg_8h_source.html#l00985">dport_reg.h:984</a></div></div>
<div class="ttc" id="aportmacro_8h_html_a7b6a9cf84459e1e2b1d07d3b41ffb011"><div class="ttname"><a href="portmacro_8h.html#a7b6a9cf84459e1e2b1d07d3b41ffb011">BaseType_t</a></div><div class="ttdeci">portBASE_TYPE BaseType_t</div><div class="ttdef"><b>Definition:</b> <a href="portmacro_8h_source.html#l00111">portmacro.h:111</a></div></div>
<div class="ttc" id="aesp__intr__alloc_8h_html_ab011a236fc3c9318f38ae4cdb9a26105"><div class="ttname"><a href="esp__intr__alloc_8h.html#ab011a236fc3c9318f38ae4cdb9a26105">intr_handle_t</a></div><div class="ttdeci">intr_handle_data_t * intr_handle_t</div><div class="ttdef"><b>Definition:</b> <a href="esp__intr__alloc_8h_source.html#l00087">esp_intr_alloc.h:87</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a324ce1a850027060f43621e55cd58c81"><div class="ttname"><a href="structuart__dev__t.html#a324ce1a850027060f43621e55cd58c81">uart_dev_t::en</a></div><div class="ttdeci">uint32_t en</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00141">uart_struct.h:141</a></div></div>
<div class="ttc" id="astdint_8h_html_a06ffba8acf5d133104191f183e67ac8c"><div class="ttname"><a href="stdint_8h.html#a06ffba8acf5d133104191f183e67ac8c">int8_t</a></div><div class="ttdeci">__int8_t int8_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00020">stdint.h:20</a></div></div>
<div class="ttc" id="aesp32-hal-matrix_8c_html_a2a3f15df9222f9488139614fad88c907"><div class="ttname"><a href="esp32-hal-matrix_8c.html#a2a3f15df9222f9488139614fad88c907">pinMatrixInDetach</a></div><div class="ttdeci">void IRAM_ATTR pinMatrixInDetach(uint8_t signal, bool high, bool inverted)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-matrix_8c_source.html#l00038">esp32-hal-matrix.c:38</a></div></div>
<div class="ttc" id="aportmacro_8h_html_a72723ba1e4a85ca14f25c2b9e066613d"><div class="ttname"><a href="portmacro_8h.html#a72723ba1e4a85ca14f25c2b9e066613d">portMAX_DELAY</a></div><div class="ttdeci">#define portMAX_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="portmacro_8h_source.html#l00120">portmacro.h:119</a></div></div>
<div class="ttc" id="adport__reg_8h_html_a5991e52f46566e0635830fb5a98c4958"><div class="ttname"><a href="dport__reg_8h.html#a5991e52f46566e0635830fb5a98c4958">DPORT_UART_RST</a></div><div class="ttdeci">#define DPORT_UART_RST</div><div class="ttdef"><b>Definition:</b> <a href="dport__reg_8h_source.html#l01018">dport_reg.h:1017</a></div></div>
<div class="ttc" id="atask_8h_html"><div class="ttname"><a href="task_8h.html">task.h</a></div></div>
<div class="ttc" id="adport__reg_8h_html_a92b11e2628eadc0d92d7847ccd9f5670"><div class="ttname"><a href="dport__reg_8h.html#a92b11e2628eadc0d92d7847ccd9f5670">DPORT_UART_CLK_EN</a></div><div class="ttdeci">#define DPORT_UART_CLK_EN</div><div class="ttdef"><b>Definition:</b> <a href="dport__reg_8h_source.html#l00981">dport_reg.h:980</a></div></div>
<div class="ttc" id="atools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h_html_a2b4ea2af4cc24db3cbd458722e96fa2f"><div class="ttname"><a href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h.html#a2b4ea2af4cc24db3cbd458722e96fa2f">xQueueHandle</a></div><div class="ttdeci">#define xQueueHandle</div><div class="ttdef"><b>Definition:</b> <a href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h_source.html#l00821">FreeRTOS.h:820</a></div></div>
<div class="ttc" id="astdint_8h_html_a281b4b5562236420969a830503b0ba19"><div class="ttname"><a href="stdint_8h.html#a281b4b5562236420969a830503b0ba19">uint16_t</a></div><div class="ttdeci">__uint16_t uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00033">stdint.h:33</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_ab6b3f5df7a4b796a670dce2d87f04b17"><div class="ttname"><a href="esp32-hal-uart_8c.html#ab6b3f5df7a4b796a670dce2d87f04b17">uartDetectBaudrate</a></div><div class="ttdeci">unsigned long uartDetectBaudrate(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00580">esp32-hal-uart.c:580</a></div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html_af1549eac0e7f05694a59a0b967c80be3"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html#af1549eac0e7f05694a59a0b967c80be3">xQueueReceive</a></div><div class="ttdeci">#define xQueueReceive(xQueue, pvBuffer, xTicksToWait)</div><div class="ttdef"><b>Definition:</b> <a href="freertos_2freertos_2queue_8h_source.html#l00818">queue.h:817</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a41e1af3e92eb6d7287f3b174a2cc80b3"><div class="ttname"><a href="esp32-hal-uart_8c.html#a41e1af3e92eb6d7287f3b174a2cc80b3">uartWriteBuf</a></div><div class="ttdeci">void uartWriteBuf(uart_t *uart, const uint8_t *data, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00346">esp32-hal-uart.c:346</a></div></div>
<div class="ttc" id="aportmacro_8h_html_ab35c804254f390845581c29fe6bcb65a"><div class="ttname"><a href="portmacro_8h.html#ab35c804254f390845581c29fe6bcb65a">portYIELD_FROM_ISR</a></div><div class="ttdeci">#define portYIELD_FROM_ISR()</div><div class="ttdef"><b>Definition:</b> <a href="portmacro_8h_source.html#l00388">portmacro.h:387</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_ae48e9c47575f8017fdea4bbf1c0e6cad"><div class="ttname"><a href="structuart__dev__t.html#ae48e9c47575f8017fdea4bbf1c0e6cad">uart_dev_t::idle_conf</a></div><div class="ttdeci">union uart_dev_t::@1403 idle_conf</div></div>
<div class="ttc" id="astructuart__dev__t_html_a708cd1b1dc5410287fc59d00ab5220b9"><div class="ttname"><a href="structuart__dev__t.html#a708cd1b1dc5410287fc59d00ab5220b9">uart_dev_t::clk_div</a></div><div class="ttdeci">union uart_dev_t::@1392 clk_div</div></div>
<div class="ttc" id="astructuart__dev__t_html_afcabe7b3c6761b381e142b40ebd76bf4"><div class="ttname"><a href="structuart__dev__t.html#afcabe7b3c6761b381e142b40ebd76bf4">uart_dev_t::rw_byte</a></div><div class="ttdeci">uint8_t rw_byte</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00026">uart_struct.h:26</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a13644410dc94d090e67ba24af0c68878"><div class="ttname"><a href="esp32-hal-uart_8c.html#a13644410dc94d090e67ba24af0c68878">uartSetDebug</a></div><div class="ttdeci">void uartSetDebug(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00490">esp32-hal-uart.c:490</a></div></div>
<div class="ttc" id="aesp__attr_8h_html_a8b5a7da03d5e9fbb2ca81ddc85025012"><div class="ttname"><a href="esp__attr_8h.html#a8b5a7da03d5e9fbb2ca81ddc85025012">IRAM_ATTR</a></div><div class="ttdeci">#define IRAM_ATTR</div><div class="ttdef"><b>Definition:</b> <a href="esp__attr_8h_source.html#l00027">esp_attr.h:26</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a717149ccabab7f311f48d3ff45e55961"><div class="ttname"><a href="esp32-hal-uart_8c.html#a717149ccabab7f311f48d3ff45e55961">log_printf</a></div><div class="ttdeci">int log_printf(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00509">esp32-hal-uart.c:509</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_ac5fdc662b084f7ea9180fd763480d342"><div class="ttname"><a href="esp32-hal-uart_8c.html#ac5fdc662b084f7ea9180fd763480d342">uartDetachRx</a></div><div class="ttdeci">void uartDetachRx(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00127">esp32-hal-uart.c:127</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a62f03c1f3e41b7455a05174ee637a130"><div class="ttname"><a href="structuart__dev__t.html#a62f03c1f3e41b7455a05174ee637a130">uart_dev_t::rx_tout_en</a></div><div class="ttdeci">uint32_t rx_tout_en</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00206">uart_struct.h:206</a></div></div>
<div class="ttc" id="adport__access_8h_html_ae41996597ae6153962375a83c1100f1f"><div class="ttname"><a href="dport__access_8h.html#ae41996597ae6153962375a83c1100f1f">DPORT_CLEAR_PERI_REG_MASK</a></div><div class="ttdeci">#define DPORT_CLEAR_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> <a href="dport__access_8h_source.html#l00181">dport_access.h:180</a></div></div>
<div class="ttc" id="aArduino-IRremote_2LICENSE_8txt_html_a0ff3051eb9cb79426196331363674fa7"><div class="ttname"><a href="Arduino-IRremote_2LICENSE_8txt.html#a0ff3051eb9cb79426196331363674fa7">copy</a></div><div class="ttdeci">and that you are informed that you can do these things To protect your we need to make restrictions that forbid distributors to deny you these rights or to ask you to surrender these rights These restrictions translate to certain responsibilities for you if you distribute copies of the library or if you modify it For if you distribute copies of the whether gratis or for a you must give the recipients all the rights that we gave you You must make sure that receive or can get the source code If you link other code with the you must provide complete object files to the so that they can relink them with the library after making changes to the library and recompiling it And you must show them these terms so they know their rights We protect your rights with a two step which gives you legal permission to copy</div><div class="ttdef"><b>Definition:</b> <a href="Arduino-IRremote_2LICENSE_8txt_source.html#l00051">LICENSE.txt:51</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a12c316c9f0d6464acdf43c87073cf3f6"><div class="ttname"><a href="structuart__dev__t.html#a12c316c9f0d6464acdf43c87073cf3f6">uart_dev_t::rd_addr</a></div><div class="ttdeci">uint32_t rd_addr</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00342">uart_struct.h:342</a></div></div>
<div class="ttc" id="aesp32-hal-matrix_8c_html_ac991dba10f936abd7becd51ff2d73f7b"><div class="ttname"><a href="esp32-hal-matrix_8c.html#ac991dba10f936abd7becd51ff2d73f7b">pinMatrixInAttach</a></div><div class="ttdeci">void IRAM_ATTR pinMatrixInAttach(uint8_t pin, uint8_t signal, bool inverted)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-matrix_8c_source.html#l00033">esp32-hal-matrix.c:33</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a57c48d8e5572784a3625bc1d98ea8843"><div class="ttname"><a href="esp32-hal-uart_8c.html#a57c48d8e5572784a3625bc1d98ea8843">uartAvailableForWrite</a></div><div class="ttdeci">uint32_t uartAvailableForWrite(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00276">esp32-hal-uart.c:276</a></div></div>
<div class="ttc" id="astructuart__struct__t_html_a85ffe72006176995498a03c6dbaff4c7"><div class="ttname"><a href="structuart__struct__t.html#a85ffe72006176995498a03c6dbaff4c7">uart_struct_t::lock</a></div><div class="ttdeci">xSemaphoreHandle lock</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00043">esp32-hal-uart.c:43</a></div></div>
<div class="ttc" id="anamespaceudp__server_html_ade67d79c46c11d44cd799213c5a772ca"><div class="ttname"><a href="namespaceudp__server.html#ade67d79c46c11d44cd799213c5a772ca">udp_server.data</a></div><div class="ttdeci">data</div><div class="ttdef"><b>Definition:</b> <a href="udp__server_8py_source.html#l00023">udp_server.py:23</a></div></div>
<div class="ttc" id="agpio__sig__map_8h_html"><div class="ttname"><a href="gpio__sig__map_8h.html">gpio_sig_map.h</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a53a4b6c840c2b1401b9ce3d0dfe0646b"><div class="ttname"><a href="structuart__dev__t.html#a53a4b6c840c2b1401b9ce3d0dfe0646b">uart_dev_t::st_utx_out</a></div><div class="ttdeci">uint32_t st_utx_out</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00157">uart_struct.h:157</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_aa7522e9c6b373d382701c16ee7710ff7"><div class="ttname"><a href="structuart__dev__t.html#aa7522e9c6b373d382701c16ee7710ff7">uart_dev_t::st_urx_out</a></div><div class="ttdeci">uint32_t st_urx_out</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00151">uart_struct.h:151</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a405c221f0af66b086de6ade6ecf82603"><div class="ttname"><a href="structuart__dev__t.html#a405c221f0af66b086de6ade6ecf82603">uart_dev_t::val</a></div><div class="ttdeci">uint32_t val</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00029">uart_struct.h:29</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_ac203954b528a9a5c7eead0f8c9582e7c"><div class="ttname"><a href="esp32-hal-uart_8c.html#ac203954b528a9a5c7eead0f8c9582e7c">uartDetachTx</a></div><div class="ttdeci">void uartDetachTx(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00136">esp32-hal-uart.c:136</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a8b0bfbbec7f5c2badf2d1f3d332a3786"><div class="ttname"><a href="esp32-hal-uart_8c.html#a8b0bfbbec7f5c2badf2d1f3d332a3786">uartResizeRxBuffer</a></div><div class="ttdeci">size_t uartResizeRxBuffer(uart_t *uart, size_t new_size)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00250">esp32-hal-uart.c:250</a></div></div>
<div class="ttc" id="asemphr_8h_html_af116e436d2a5ae5bd72dbade2b5ea930"><div class="ttname"><a href="semphr_8h.html#af116e436d2a5ae5bd72dbade2b5ea930">xSemaphoreTake</a></div><div class="ttdeci">#define xSemaphoreTake(xSemaphore, xBlockTime)</div><div class="ttdef"><b>Definition:</b> <a href="semphr_8h_source.html#l00314">semphr.h:313</a></div></div>
<div class="ttc" id="astructuart__struct__t_html_a0fe017e1cb0fee610907e601799e1032"><div class="ttname"><a href="structuart__struct__t.html#a0fe017e1cb0fee610907e601799e1032">uart_struct_t::num</a></div><div class="ttdeci">uint8_t num</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00045">esp32-hal-uart.c:45</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a1751083b0e1266a40d2d6e83e927f8d0"><div class="ttname"><a href="esp32-hal-uart_8c.html#a1751083b0e1266a40d2d6e83e927f8d0">uartEnd</a></div><div class="ttdeci">void uartEnd(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00229">esp32-hal-uart.c:229</a></div></div>
<div class="ttc" id="aesp32-hal-cpu_8c_html_ad7389b1cd9f6a2d4326b50e04f533e17"><div class="ttname"><a href="esp32-hal-cpu_8c.html#ad7389b1cd9f6a2d4326b50e04f533e17">addApbChangeCallback</a></div><div class="ttdeci">bool addApbChangeCallback(void *arg, apb_change_cb_t cb)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-cpu_8c_source.html#l00074">esp32-hal-cpu.c:74</a></div></div>
<div class="ttc" id="asoc_8h_html_a24db50b005192a0522d354a86185310f"><div class="ttname"><a href="soc_8h.html#a24db50b005192a0522d354a86185310f">DR_REG_UART_BASE</a></div><div class="ttdeci">#define DR_REG_UART_BASE</div><div class="ttdef"><b>Definition:</b> <a href="soc_8h_source.html#l00086">soc.h:85</a></div></div>
<div class="ttc" id="aRPSL_8txt_html_ae227cfd33a5880ffce840d383c2fbff3"><div class="ttname"><a href="RPSL_8txt.html#ae227cfd33a5880ffce840d383c2fbff3">free</a></div><div class="ttdeci">Conditions &amp;Restrictions Subject to the terms and conditions of this Licensor hereby grants effective on the date You accept this a royalty free</div><div class="ttdef"><b>Definition:</b> <a href="RPSL_8txt_source.html#l00105">RPSL.txt:105</a></div></div>
<div class="ttc" id="adport__access_8h_html_a30f4d8bd206a36385b711ed14dd05b34"><div class="ttname"><a href="dport__access_8h.html#a30f4d8bd206a36385b711ed14dd05b34">DPORT_SET_PERI_REG_MASK</a></div><div class="ttdeci">#define DPORT_SET_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> <a href="dport__access_8h_source.html#l00184">dport_access.h:183</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_afd237ee65cb00a3caf37496261cc7aa6"><div class="ttname"><a href="structuart__dev__t.html#afd237ee65cb00a3caf37496261cc7aa6">uart_dev_t::div_frag</a></div><div class="ttdeci">uint32_t div_frag</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00134">uart_struct.h:134</a></div></div>
<div class="ttc" id="atools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h_html"><div class="ttname"><a href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h.html">FreeRTOS.h</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a4d8d288431e63d109781860f70e5234b"><div class="ttname"><a href="esp32-hal-uart_8c.html#a4d8d288431e63d109781860f70e5234b">uartRxFifoToQueue</a></div><div class="ttdeci">void uartRxFifoToQueue(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00284">esp32-hal-uart.c:284</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a56dce3628952e18fdc7c263a60a0d966"><div class="ttname"><a href="structuart__dev__t.html#a56dce3628952e18fdc7c263a60a0d966">uart_dev_t::wr_addr</a></div><div class="ttdeci">uint32_t wr_addr</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00343">uart_struct.h:343</a></div></div>
<div class="ttc" id="aesp32-hal-cpu_8h_html_a030cbe7d208b1f9b7c85765ccc5b4fff"><div class="ttname"><a href="esp32-hal-cpu_8h.html#a030cbe7d208b1f9b7c85765ccc5b4fff">apb_change_ev_t</a></div><div class="ttdeci">apb_change_ev_t</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-cpu_8h_source.html#l00026">esp32-hal-cpu.h:26</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8h_html"><div class="ttname"><a href="esp32-hal-uart_8h.html">esp32-hal-uart.h</a></div></div>
<div class="ttc" id="adport__reg_8h_html_ad6872a2cd3ddb65b17ac1645325ab126"><div class="ttname"><a href="dport__reg_8h.html#ad6872a2cd3ddb65b17ac1645325ab126">DPORT_UART1_RST</a></div><div class="ttdeci">#define DPORT_UART1_RST</div><div class="ttdef"><b>Definition:</b> <a href="dport__reg_8h_source.html#l01015">dport_reg.h:1014</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a65e97de6b5b9b0c2a9aba2d6992ead24"><div class="ttname"><a href="esp32-hal-uart_8c.html#a65e97de6b5b9b0c2a9aba2d6992ead24">uartRxActive</a></div><div class="ttdeci">bool uartRxActive(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00621">esp32-hal-uart.c:621</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_adaa4138616b4028820db55ef9b534b8e"><div class="ttname"><a href="esp32-hal-uart_8c.html#adaa4138616b4028820db55ef9b534b8e">uartFlush</a></div><div class="ttdeci">void uartFlush(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00360">esp32-hal-uart.c:360</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a05ce8140b8b56e64ac316dffd9e70c24"><div class="ttname"><a href="esp32-hal-uart_8c.html#a05ce8140b8b56e64ac316dffd9e70c24">uartGetDebug</a></div><div class="ttdeci">int uartGetDebug()</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00504">esp32-hal-uart.c:504</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a1e1ab6802c6e453059c526b1703546a3"><div class="ttname"><a href="esp32-hal-uart_8c.html#a1e1ab6802c6e453059c526b1703546a3">uartAvailable</a></div><div class="ttdeci">uint32_t uartAvailable(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00268">esp32-hal-uart.c:268</a></div></div>
<div class="ttc" id="aesp32-hal-matrix_8c_html_a4911e993064543ddd612bc48c7bbe3f8"><div class="ttname"><a href="esp32-hal-matrix_8c.html#a4911e993064543ddd612bc48c7bbe3f8">pinMatrixOutAttach</a></div><div class="ttdeci">void IRAM_ATTR pinMatrixOutAttach(uint8_t pin, uint8_t function, bool invertOut, bool invertEnable)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-matrix_8c_source.html#l00023">esp32-hal-matrix.c:23</a></div></div>
<div class="ttc" id="aesp32-hal-gpio_8c_html_a6732634a108a709990b0a9ea9c573ca5"><div class="ttname"><a href="esp32-hal-gpio_8c.html#a6732634a108a709990b0a9ea9c573ca5">pinMode</a></div><div class="ttdeci">void pinMode(uint8_t pin, uint8_t mode) __attribute__((weak</div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a7fb214a218cb589bd2a704c676f1b255"><div class="ttname"><a href="esp32-hal-uart_8c.html#a7fb214a218cb589bd2a704c676f1b255">UART_TXD_IDX</a></div><div class="ttdeci">#define UART_TXD_IDX(u)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00036">esp32-hal-uart.c:35</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a25af251b2911494f2e4fe36d56b89471"><div class="ttname"><a href="esp32-hal-uart_8c.html#a25af251b2911494f2e4fe36d56b89471">uartWrite</a></div><div class="ttdeci">void uartWrite(uart_t *uart, uint8_t c)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00335">esp32-hal-uart.c:335</a></div></div>
<div class="ttc" id="agroup__ets__printf__apis_html_ga0d5ec49104c1111f0718c92bbc5e6379"><div class="ttname"><a href="group__ets__printf__apis.html#ga0d5ec49104c1111f0718c92bbc5e6379">ets_install_putc1</a></div><div class="ttdeci">void ets_install_putc1(void(*p)(char c))</div><div class="ttdoc">Ets_printf have two output functions： putc1 and putc2, both of which will be called if need ouput....</div></div>
<div class="ttc" id="astructuart__dev__t_html_a82a2c485378159ee9487df795685384c"><div class="ttname"><a href="structuart__dev__t.html#a82a2c485378159ee9487df795685384c">uart_dev_t::rx_tout_thrhd</a></div><div class="ttdeci">uint32_t rx_tout_thrhd</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00205">uart_struct.h:205</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a89e01d7a1d31b1dcfb3812e528dc98f8"><div class="ttname"><a href="structuart__dev__t.html#a89e01d7a1d31b1dcfb3812e528dc98f8">uart_dev_t::conf1</a></div><div class="ttdeci">union uart_dev_t::@1396 conf1</div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a0df9f10a6f471f7a7958500e1dad8725"><div class="ttname"><a href="esp32-hal-uart_8c.html#a0df9f10a6f471f7a7958500e1dad8725">uartRead</a></div><div class="ttdeci">uint8_t uartRead(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00303">esp32-hal-uart.c:303</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a9cbec7a1801548d7bbe4078cb58ad59d"><div class="ttname"><a href="esp32-hal-uart_8c.html#a9cbec7a1801548d7bbe4078cb58ad59d">uart_install_putc</a></div><div class="ttdeci">void uart_install_putc()</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00472">esp32-hal-uart.c:472</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_ac3aab714f2e44ac05fbf9ed26b41feb2"><div class="ttname"><a href="structuart__dev__t.html#ac3aab714f2e44ac05fbf9ed26b41feb2">uart_dev_t::auto_baud</a></div><div class="ttdeci">union uart_dev_t::@1393 auto_baud</div></div>
<div class="ttc" id="astructuart__dev__t_html_ad67d3311a1b1bf6cb8b93979a036ea3c"><div class="ttname"><a href="structuart__dev__t.html#ad67d3311a1b1bf6cb8b93979a036ea3c">uart_dev_t::fifo</a></div><div class="ttdeci">union uart_dev_t::@1387 fifo</div></div>
<div class="ttc" id="adport__reg_8h_html_ab79a95f9eef41090e4229d34b165b949"><div class="ttname"><a href="dport__reg_8h.html#ab79a95f9eef41090e4229d34b165b949">DPORT_UART2_CLK_EN</a></div><div class="ttdeci">#define DPORT_UART2_CLK_EN</div><div class="ttdef"><b>Definition:</b> <a href="dport__reg_8h_source.html#l00958">dport_reg.h:957</a></div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html_a21d5919ed26c21d121df4a4debeb643c"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html#a21d5919ed26c21d121df4a4debeb643c">xQueueSendFromISR</a></div><div class="ttdeci">#define xQueueSendFromISR(xQueue, pvItemToQueue, pxHigherPriorityTaskWoken)</div><div class="ttdef"><b>Definition:</b> <a href="freertos_2freertos_2queue_8h_source.html#l01200">queue.h:1199</a></div></div>
<div class="ttc" id="acJSON_8h_html_adb411a44855a4c49231d72a0fc9a3b3b"><div class="ttname"><a href="cJSON_8h.html#adb411a44855a4c49231d72a0fc9a3b3b">format</a></div><div class="ttdeci">char const int const cJSON_bool format</div><div class="ttdef"><b>Definition:</b> <a href="cJSON_8h_source.html#l00161">cJSON.h:161</a></div></div>
<div class="ttc" id="atools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h_html_a520d8cf032327581ece00e5bd8e03a75"><div class="ttname"><a href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h.html#a520d8cf032327581ece00e5bd8e03a75">xSemaphoreHandle</a></div><div class="ttdeci">#define xSemaphoreHandle</div><div class="ttdef"><b>Definition:</b> <a href="tools_2sdk_2include_2freertos_2freertos_2FreeRTOS_8h_source.html#l00822">FreeRTOS.h:821</a></div></div>
<div class="ttc" id="agroup__ets__printf__apis_html_ga8fadc8e125d712386ef99a6b36386bea"><div class="ttname"><a href="group__ets__printf__apis.html#ga8fadc8e125d712386ef99a6b36386bea">ets_printf</a></div><div class="ttdeci">int ets_printf(const char *fmt,...)</div><div class="ttdoc">Printf the strings to uart or other devices, similar with printf, simple than printf....</div></div>
<div class="ttc" id="aesp__intr__alloc_8h_html_a785c44696cfa40da617263561bc974ea"><div class="ttname"><a href="esp__intr__alloc_8h.html#a785c44696cfa40da617263561bc974ea">esp_intr_alloc</a></div><div class="ttdeci">esp_err_t esp_intr_alloc(int source, int flags, intr_handler_t handler, void *arg, intr_handle_t *ret_handle)</div><div class="ttdoc">Allocate an interrupt with the given parameters.</div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_ada19c31cd67699a1ff90acd77b341685"><div class="ttname"><a href="esp32-hal-uart_8c.html#ada19c31cd67699a1ff90acd77b341685">UART_MUTEX_LOCK</a></div><div class="ttdeci">#define UART_MUTEX_LOCK()</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00061">esp32-hal-uart.c:60</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a851f8659f8a69a176e04fc08f454982f"><div class="ttname"><a href="structuart__dev__t.html#a851f8659f8a69a176e04fc08f454982f">uart_dev_t::div_int</a></div><div class="ttdeci">uint32_t div_int</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00133">uart_struct.h:133</a></div></div>
<div class="ttc" id="aesp32-hal-cpu_8h_html_a030cbe7d208b1f9b7c85765ccc5b4fffa5337858216a3483bafd454613bf1ce6d"><div class="ttname"><a href="esp32-hal-cpu_8h.html#a030cbe7d208b1f9b7c85765ccc5b4fffa5337858216a3483bafd454613bf1ce6d">APB_BEFORE_CHANGE</a></div><div class="ttdeci">@ APB_BEFORE_CHANGE</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-cpu_8h_source.html#l00026">esp32-hal-cpu.h:26</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a6a450799dc5c5c77d5ab04265826296c"><div class="ttname"><a href="esp32-hal-uart_8c.html#a6a450799dc5c5c77d5ab04265826296c">uartDisableInterrupt</a></div><div class="ttdeci">void uartDisableInterrupt(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00114">esp32-hal-uart.c:114</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_ac70da64ebf38842b719b8fe0ac91177c"><div class="ttname"><a href="esp32-hal-uart_8c.html#ac70da64ebf38842b719b8fe0ac91177c">uartGetBaudRate</a></div><div class="ttdeci">uint32_t uartGetBaudRate(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00440">esp32-hal-uart.c:440</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a10d8f40649015fda35a1632ba21ec9b0"><div class="ttname"><a href="structuart__dev__t.html#a10d8f40649015fda35a1632ba21ec9b0">uart_dev_t::min_cnt</a></div><div class="ttdeci">uint32_t min_cnt</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00212">uart_struct.h:212</a></div></div>
<div class="ttc" id="adport__reg_8h_html_a1add127eb7d72b1b1fcd5e4bd0376f86"><div class="ttname"><a href="dport__reg_8h.html#a1add127eb7d72b1b1fcd5e4bd0376f86">DPORT_UART2_RST</a></div><div class="ttdeci">#define DPORT_UART2_RST</div><div class="ttdef"><b>Definition:</b> <a href="dport__reg_8h_source.html#l00995">dport_reg.h:994</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_adc32f411c008668f3607f58af6c23bcb"><div class="ttname"><a href="structuart__dev__t.html#adc32f411c008668f3607f58af6c23bcb">uart_dev_t::rxfifo_cnt</a></div><div class="ttdeci">uint32_t rxfifo_cnt</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00150">uart_struct.h:150</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a24a07c3509d53b0d5be58b6735e41277"><div class="ttname"><a href="esp32-hal-uart_8c.html#a24a07c3509d53b0d5be58b6735e41277">UART_RXD_IDX</a></div><div class="ttdeci">#define UART_RXD_IDX(u)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00035">esp32-hal-uart.c:34</a></div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html_a2df70733bb875477cd9614c5b3446257"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html#a2df70733bb875477cd9614c5b3446257">xQueuePeek</a></div><div class="ttdeci">#define xQueuePeek(xQueue, pvBuffer, xTicksToWait)</div><div class="ttdef"><b>Definition:</b> <a href="freertos_2freertos_2queue_8h_source.html#l00701">queue.h:700</a></div></div>
<div class="ttc" id="aesp32-hal-gpio_8h_html_a61a3c9a18380aafb6e430e79bf596557"><div class="ttname"><a href="esp32-hal-gpio_8h.html#a61a3c9a18380aafb6e430e79bf596557">OUTPUT</a></div><div class="ttdeci">#define OUTPUT</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-gpio_8h_source.html#l00035">esp32-hal-gpio.h:34</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_ad4e5998726dde9d411db9786560d5cc5"><div class="ttname"><a href="structuart__dev__t.html#ad4e5998726dde9d411db9786560d5cc5">uart_dev_t::tx_idle_num</a></div><div class="ttdeci">uint32_t tx_idle_num</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00262">uart_struct.h:262</a></div></div>
<div class="ttc" id="aesp32-hal_8h_html"><div class="ttname"><a href="esp32-hal_8h.html">esp32-hal.h</a></div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html_a94df8d8bc938424151f8196db2f1177b"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html#a94df8d8bc938424151f8196db2f1177b">xQueueReset</a></div><div class="ttdeci">#define xQueueReset(xQueue)</div><div class="ttdef"><b>Definition:</b> <a href="freertos_2freertos_2queue_8h_source.html#l01424">queue.h:1423</a></div></div>
<div class="ttc" id="azconf_8lex_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="zconf_8lex_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="zconf_8lex_8c_source.html#l01348">zconf.lex.c:1348</a></div></div>
<div class="ttc" id="asoc_8h_html_ad6a7b605155a71289fcb3a8fcaf90d31"><div class="ttname"><a href="soc_8h.html#ad6a7b605155a71289fcb3a8fcaf90d31">DR_REG_UART1_BASE</a></div><div class="ttdeci">#define DR_REG_UART1_BASE</div><div class="ttdef"><b>Definition:</b> <a href="soc_8h_source.html#l00102">soc.h:101</a></div></div>
<div class="ttc" id="aBLEEddystoneTLM_8h_html_a36142ddde297ed1d5577c81230997301"><div class="ttname"><a href="BLEEddystoneTLM_8h.html#a36142ddde297ed1d5577c81230997301">temp</a></div><div class="ttdeci">uint16_t temp</div><div class="ttdef"><b>Definition:</b> <a href="BLEEddystoneTLM_8h_source.html#l00003">BLEEddystoneTLM.h:3</a></div></div>
<div class="ttc" id="adef_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="def_8h_source.html#l00071">def.h:70</a></div></div>
<div class="ttc" id="astructuart__struct__t_html_a2acc918ef93f1f446ebacb9fba8567c6"><div class="ttname"><a href="structuart__struct__t.html#a2acc918ef93f1f446ebacb9fba8567c6">uart_struct_t::queue</a></div><div class="ttdeci">xQueueHandle queue</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00046">esp32-hal-uart.c:46</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a17fbd1ff3ce91aefec0251de946998ef"><div class="ttname"><a href="structuart__dev__t.html#a17fbd1ff3ce91aefec0251de946998ef">uart_dev_t::rxfifo_full</a></div><div class="ttdeci">uint32_t rxfifo_full</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00033">uart_struct.h:33</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a6181da744d20bcba3f43c5b98f371b79"><div class="ttname"><a href="esp32-hal-uart_8c.html#a6181da744d20bcba3f43c5b98f371b79">UART_INTR_SOURCE</a></div><div class="ttdeci">#define UART_INTR_SOURCE(u)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00037">esp32-hal-uart.c:36</a></div></div>
<div class="ttc" id="aesp32_2rom_2uart_8h_html"><div class="ttname"><a href="esp32_2rom_2uart_8h.html">uart.h</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_ac1641ae50a26edb8748dff6e40733596"><div class="ttname"><a href="esp32-hal-uart_8c.html#ac1641ae50a26edb8748dff6e40733596">TWO_STOP_BITS_CONF</a></div><div class="ttdeci">#define TWO_STOP_BITS_CONF</div></div>
<div class="ttc" id="aesp__attr_8h_html"><div class="ttname"><a href="esp__attr_8h.html">esp_attr.h</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a06f76d6f17ac8f0d883cf27a53413e36"><div class="ttname"><a href="structuart__dev__t.html#a06f76d6f17ac8f0d883cf27a53413e36">uart_dev_t::int_clr</a></div><div class="ttdeci">union uart_dev_t::@1391 int_clr</div></div>
<div class="ttc" id="aesp32-hal-gpio_8h_html_a1bb283bd7893b9855e2f23013891fc82"><div class="ttname"><a href="esp32-hal-gpio_8h.html#a1bb283bd7893b9855e2f23013891fc82">INPUT</a></div><div class="ttdeci">#define INPUT</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-gpio_8h_source.html#l00034">esp32-hal-gpio.h:33</a></div></div>
<div class="ttc" id="auart__reg_8h_html_a450a8df365d3306ea53de5763b6a51e5"><div class="ttname"><a href="uart__reg_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a></div><div class="ttdeci">#define UART_TXFIFO_CNT_S</div><div class="ttdef"><b>Definition:</b> <a href="uart__reg_8h_source.html#l00587">uart_reg.h:586</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_ad384999c2c601a5d468f17d407cfa0c2"><div class="ttname"><a href="structuart__dev__t.html#ad384999c2c601a5d468f17d407cfa0c2">uart_dev_t::glitch_filt</a></div><div class="ttdeci">uint32_t glitch_filt</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00143">uart_struct.h:143</a></div></div>
<div class="ttc" id="aunity__fixture__malloc__overrides_8h_html_acf143577800376dd931c059ecc61ba06"><div class="ttname"><a href="unity__fixture__malloc__overrides_8h.html#acf143577800376dd931c059ecc61ba06">malloc</a></div><div class="ttdeci">#define malloc</div><div class="ttdef"><b>Definition:</b> <a href="unity__fixture__malloc__overrides_8h_source.html#l00038">unity_fixture_malloc_overrides.h:37</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_aa6183dacda6274f36ff3db4b41c7480c"><div class="ttname"><a href="structuart__dev__t.html#aa6183dacda6274f36ff3db4b41c7480c">uart_dev_t::txfifo_cnt</a></div><div class="ttdeci">uint32_t txfifo_cnt</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00156">uart_struct.h:156</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_ae77814a99fd09e0b4b38ddf2525c815b"><div class="ttname"><a href="structuart__dev__t.html#ae77814a99fd09e0b4b38ddf2525c815b">uart_dev_t::dl1_en</a></div><div class="ttdeci">uint32_t dl1_en</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00272">uart_struct.h:272</a></div></div>
<div class="ttc" id="asoc_8h_html_ada88294863766f5653ec63783a27d9c4"><div class="ttname"><a href="soc_8h.html#ada88294863766f5653ec63783a27d9c4">DR_REG_UART2_BASE</a></div><div class="ttdeci">#define DR_REG_UART2_BASE</div><div class="ttdef"><b>Definition:</b> <a href="soc_8h_source.html#l00131">soc.h:130</a></div></div>
<div class="ttc" id="adport__reg_8h_html_ac21cabca44da91931385ffa929ffc1f2"><div class="ttname"><a href="dport__reg_8h.html#ac21cabca44da91931385ffa929ffc1f2">DPORT_UART1_CLK_EN</a></div><div class="ttdeci">#define DPORT_UART1_CLK_EN</div><div class="ttdef"><b>Definition:</b> <a href="dport__reg_8h_source.html#l00978">dport_reg.h:977</a></div></div>
<div class="ttc" id="aesp__intr_8h_html"><div class="ttname"><a href="esp__intr_8h.html">esp_intr.h</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_affac7baf727bfe8a57cc596659a9e384"><div class="ttname"><a href="esp32-hal-uart_8c.html#affac7baf727bfe8a57cc596659a9e384">uartFlushTxOnly</a></div><div class="ttdeci">void uartFlushTxOnly(uart_t *uart, bool txOnly)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00365">esp32-hal-uart.c:365</a></div></div>
<div class="ttc" id="astructuart__struct__t_html"><div class="ttname"><a href="structuart__struct__t.html">uart_struct_t</a></div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00040">esp32-hal-uart.c:40</a></div></div>
<div class="ttc" id="aesp32-hal-cpu_8c_html_a52637cdc19ab4d49d5f63cc63e6bc832"><div class="ttname"><a href="esp32-hal-cpu_8c.html#a52637cdc19ab4d49d5f63cc63e6bc832">getApbFrequency</a></div><div class="ttdeci">uint32_t getApbFrequency()</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-cpu_8c_source.html#l00226">esp32-hal-cpu.c:226</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a2d0acfe97f571598b0af7f3825d3a911"><div class="ttname"><a href="structuart__dev__t.html#a2d0acfe97f571598b0af7f3825d3a911">uart_dev_t::highpulse</a></div><div class="ttdeci">union uart_dev_t::@1398 highpulse</div></div>
<div class="ttc" id="aets__sys_8h_html"><div class="ttname"><a href="ets__sys_8h.html">ets_sys.h</a></div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html_af7eb49d3249351176992950d9185abe9"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html#af7eb49d3249351176992950d9185abe9">xQueueSend</a></div><div class="ttdeci">#define xQueueSend(xQueue, pvItemToQueue, xTicksToWait)</div><div class="ttdef"><b>Definition:</b> <a href="freertos_2freertos_2queue_8h_source.html#l00463">queue.h:462</a></div></div>
<div class="ttc" id="agroup__Intr__Alloc_html_ga3fb8d6fa8b5e33b3503e86917bc8367b"><div class="ttname"><a href="group__Intr__Alloc.html#ga3fb8d6fa8b5e33b3503e86917bc8367b">ESP_INTR_FLAG_IRAM</a></div><div class="ttdeci">#define ESP_INTR_FLAG_IRAM</div><div class="ttdoc">ISR can be called if cache is disabled.</div><div class="ttdef"><b>Definition:</b> <a href="esp__intr__alloc_8h_source.html#l00050">esp_intr_alloc.h:49</a></div></div>
<div class="ttc" id="astdint_8h_html_a0238af00180b6d9278fa1c6aa790fdf4"><div class="ttname"><a href="stdint_8h.html#a0238af00180b6d9278fa1c6aa790fdf4">uint32_t</a></div><div class="ttdeci">__uint32_t uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00045">stdint.h:45</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_aa4ea4b7dbdafb73594f6fc953686ff07"><div class="ttname"><a href="esp32-hal-uart_8c.html#aa4ea4b7dbdafb73594f6fc953686ff07">uartStartDetectBaudrate</a></div><div class="ttdeci">void uartStartDetectBaudrate(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00571">esp32-hal-uart.c:571</a></div></div>
<div class="ttc" id="aesp32-hal_8h_html_a8de04d90dbfdd20c915b770f48436429"><div class="ttname"><a href="esp32-hal_8h.html#a8de04d90dbfdd20c915b770f48436429">ESP_REG</a></div><div class="ttdeci">#define ESP_REG(addr)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal_8h_source.html#l00048">esp32-hal.h:47</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_aef6b1e939b1e5a320c1d1eca594d47f1"><div class="ttname"><a href="structuart__dev__t.html#aef6b1e939b1e5a320c1d1eca594d47f1">uart_dev_t::conf0</a></div><div class="ttdeci">union uart_dev_t::@1395 conf0</div></div>
<div class="ttc" id="astructuart__dev__t_html_a06fc2dab44c574b35df71efc47fee389"><div class="ttname"><a href="structuart__dev__t.html#a06fc2dab44c574b35df71efc47fee389">uart_dev_t::rxfifo_tout</a></div><div class="ttdeci">uint32_t rxfifo_tout</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00041">uart_struct.h:41</a></div></div>
<div class="ttc" id="aesp32-hal-cpu_8c_html_ae85f8f9000f48e8e31f28a6088c27879"><div class="ttname"><a href="esp32-hal-cpu_8c.html#ae85f8f9000f48e8e31f28a6088c27879">removeApbChangeCallback</a></div><div class="ttdeci">bool removeApbChangeCallback(void *arg, apb_change_cb_t cb)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-cpu_8c_source.html#l00108">esp32-hal-cpu.c:108</a></div></div>
<div class="ttc" id="adport__reg_8h_html_a49880909661c594efee90557f9d01f2d"><div class="ttname"><a href="dport__reg_8h.html#a49880909661c594efee90557f9d01f2d">DPORT_PERIP_CLK_EN_REG</a></div><div class="ttdeci">#define DPORT_PERIP_CLK_EN_REG</div><div class="ttdef"><b>Definition:</b> <a href="dport__reg_8h_source.html#l00947">dport_reg.h:946</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_ab4126b89de98ce5d536de5b2e53d902e"><div class="ttname"><a href="structuart__dev__t.html#ab4126b89de98ce5d536de5b2e53d902e">uart_dev_t::int_ena</a></div><div class="ttdeci">union uart_dev_t::@1390 int_ena</div></div>
<div class="ttc" id="aesp32-hal-matrix_8c_html_a405c3b937758dd44931c5452f4397ff1"><div class="ttname"><a href="esp32-hal-matrix_8c.html#a405c3b937758dd44931c5452f4397ff1">pinMatrixOutDetach</a></div><div class="ttdeci">void IRAM_ATTR pinMatrixOutDetach(uint8_t pin, bool invertOut, bool invertEnable)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-matrix_8c_source.html#l00028">esp32-hal-matrix.c:28</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a46dc1cf88d7d9e61d5a156c1a1568777"><div class="ttname"><a href="structuart__dev__t.html#a46dc1cf88d7d9e61d5a156c1a1568777">uart_dev_t::edge_cnt</a></div><div class="ttdeci">uint32_t edge_cnt</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00226">uart_struct.h:226</a></div></div>
<div class="ttc" id="astructuart__struct__t_html_a2c739c339a2233bb18c304acbc77b2d4"><div class="ttname"><a href="structuart__struct__t.html#a2c739c339a2233bb18c304acbc77b2d4">uart_struct_t::dev</a></div><div class="ttdeci">uart_dev_t * dev</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00041">esp32-hal-uart.c:41</a></div></div>
<div class="ttc" id="aesp__intr__alloc_8h_html_a72b74e3a15147c3ca43e77875f71e908"><div class="ttname"><a href="esp__intr__alloc_8h.html#a72b74e3a15147c3ca43e77875f71e908">esp_intr_free</a></div><div class="ttdeci">esp_err_t esp_intr_free(intr_handle_t handle)</div><div class="ttdoc">Disable and free an interrupt.</div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a30e445576e19be0cb8c1e776bad308c2"><div class="ttname"><a href="esp32-hal-uart_8c.html#a30e445576e19be0cb8c1e776bad308c2">uartSetBaudRate</a></div><div class="ttdeci">void uartSetBaudRate(uart_t *uart, uint32_t baud_rate)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00389">esp32-hal-uart.c:389</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_aac69c2def84daa45eba9293bad633a47"><div class="ttname"><a href="structuart__dev__t.html#aac69c2def84daa45eba9293bad633a47">uart_dev_t::rs485_conf</a></div><div class="ttdeci">union uart_dev_t::@1404 rs485_conf</div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_acc2ae4d2162a2ec65e71f9f5401d570a"><div class="ttname"><a href="esp32-hal-uart_8c.html#acc2ae4d2162a2ec65e71f9f5401d570a">uartAttachRx</a></div><div class="ttdeci">void uartAttachRx(uart_t *uart, uint8_t rxPin, bool inverted)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00144">esp32-hal-uart.c:144</a></div></div>
<div class="ttc" id="auart__reg_8h_html"><div class="ttname"><a href="uart__reg_8h.html">uart_reg.h</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a190f0e85af7268cb574468f30df835b4"><div class="ttname"><a href="structuart__dev__t.html#a190f0e85af7268cb574468f30df835b4">uart_dev_t::rxd_cnt</a></div><div class="ttdeci">union uart_dev_t::@1399 rxd_cnt</div></div>
<div class="ttc" id="auart__struct_8h_html"><div class="ttname"><a href="uart__struct_8h.html">uart_struct.h</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a55b24d6957aeb43b9679aa9576e4d653"><div class="ttname"><a href="esp32-hal-uart_8c.html#a55b24d6957aeb43b9679aa9576e4d653">UART_MUTEX_UNLOCK</a></div><div class="ttdeci">#define UART_MUTEX_UNLOCK()</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00062">esp32-hal-uart.c:61</a></div></div>
<div class="ttc" id="asoc_2soc_2rtc_8h_html"><div class="ttname"><a href="soc_2soc_2rtc_8h.html">rtc.h</a></div><div class="ttdoc">Low-level RTC power, clock, and sleep functions.</div></div>
<div class="ttc" id="astructuart__dev__t_html_a23ce54c204e66f40c17a613387b0173c"><div class="ttname"><a href="structuart__dev__t.html#a23ce54c204e66f40c17a613387b0173c">uart_dev_t::stop_bit_num</a></div><div class="ttdeci">uint32_t stop_bit_num</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00170">uart_struct.h:170</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_a5d616b3669ff3e3595221fe4aaf8a023"><div class="ttname"><a href="structuart__dev__t.html#a5d616b3669ff3e3595221fe4aaf8a023">uart_dev_t::rxfifo_full_thrhd</a></div><div class="ttdeci">uint32_t rxfifo_full_thrhd</div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00199">uart_struct.h:199</a></div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html">queue.h</a></div></div>
<div class="ttc" id="astructuart__dev__t_html"><div class="ttname"><a href="structuart__dev__t.html">uart_dev_t</a></div><div class="ttdef"><b>Definition:</b> <a href="uart__struct_8h_source.html#l00023">uart_struct.h:23</a></div></div>
<div class="ttc" id="astdint_8h_html_a2aff71146ab4942b2b38860c749c4074"><div class="ttname"><a href="stdint_8h.html#a2aff71146ab4942b2b38860c749c4074">uint8_t</a></div><div class="ttdeci">__uint8_t uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00021">stdint.h:21</a></div></div>
<div class="ttc" id="agroup__ets__timer__apis_html_ga66cff33ccec02a8d522ba9c81b811408"><div class="ttname"><a href="group__ets__timer__apis.html#ga66cff33ccec02a8d522ba9c81b811408">ets_delay_us</a></div><div class="ttdeci">void ets_delay_us(uint32_t us)</div><div class="ttdoc">CPU do while loop for some time. In FreeRTOS task, please call FreeRTOS apis.</div></div>
<div class="ttc" id="asemphr_8h_html"><div class="ttname"><a href="semphr_8h.html">semphr.h</a></div></div>
<div class="ttc" id="adport__reg_8h_html"><div class="ttname"><a href="dport__reg_8h.html">dport_reg.h</a></div></div>
<div class="ttc" id="asoc_8h_html_a14c110c5360780defb1aa84ff53933d3"><div class="ttname"><a href="soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a></div><div class="ttdeci">#define READ_PERI_REG(addr)</div><div class="ttdef"><b>Definition:</b> <a href="soc_8h_source.html#l00224">soc.h:223</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a760876373cc635e8f82a7783f6772b4d"><div class="ttname"><a href="esp32-hal-uart_8c.html#a760876373cc635e8f82a7783f6772b4d">uartBaudrateDetect</a></div><div class="ttdeci">unsigned long uartBaudrateDetect(uart_t *uart, bool flg)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00552">esp32-hal-uart.c:552</a></div></div>
<div class="ttc" id="asemphr_8h_html_aae55761cabfa9bf85c8f4430f78c0953"><div class="ttname"><a href="semphr_8h.html#aae55761cabfa9bf85c8f4430f78c0953">xSemaphoreGive</a></div><div class="ttdeci">#define xSemaphoreGive(xSemaphore)</div><div class="ttdef"><b>Definition:</b> <a href="semphr_8h_source.html#l00475">semphr.h:474</a></div></div>
<div class="ttc" id="astructuart__dev__t_html_ab6de05c9e8c2055196b933441a8b6ee0"><div class="ttname"><a href="structuart__dev__t.html#ab6de05c9e8c2055196b933441a8b6ee0">uart_dev_t::lowpulse</a></div><div class="ttdeci">union uart_dev_t::@1397 lowpulse</div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_ac341e8373cf1e592a5c70d82751efe71"><div class="ttname"><a href="esp32-hal-uart_8c.html#ac341e8373cf1e592a5c70d82751efe71">uartPeek</a></div><div class="ttdeci">uint8_t uartPeek(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00319">esp32-hal-uart.c:319</a></div></div>
<div class="ttc" id="aio__mux__reg_8h_html"><div class="ttname"><a href="io__mux__reg_8h.html">io_mux_reg.h</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a7b5947f0ab025cf2bd1dd40626655d5a"><div class="ttname"><a href="esp32-hal-uart_8c.html#a7b5947f0ab025cf2bd1dd40626655d5a">uartBegin</a></div><div class="ttdeci">uart_t * uartBegin(uint8_t uart_nr, uint32_t baudrate, uint32_t config, int8_t rxPin, int8_t txPin, uint16_t queueLen, bool inverted)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00163">esp32-hal-uart.c:163</a></div></div>
<div class="ttc" id="astructuart__struct__t_html_a02fa3bf95d6734e86d0009ff72ab0ad7"><div class="ttname"><a href="structuart__struct__t.html#a02fa3bf95d6734e86d0009ff72ab0ad7">uart_struct_t::intr_handle</a></div><div class="ttdeci">intr_handle_t intr_handle</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00047">esp32-hal-uart.c:47</a></div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a769b81d375183247dd99eca0bfba47f0"><div class="ttname"><a href="esp32-hal-uart_8c.html#a769b81d375183247dd99eca0bfba47f0">uartEnableInterrupt</a></div><div class="ttdeci">void uartEnableInterrupt(uart_t *uart)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00099">esp32-hal-uart.c:99</a></div></div>
<div class="ttc" id="afreertos_2freertos_2queue_8h_html_add7ee0701ba35904d190811b9e5a4eda"><div class="ttname"><a href="freertos_2freertos_2queue_8h.html#add7ee0701ba35904d190811b9e5a4eda">uxQueueMessagesWaiting</a></div><div class="ttdeci">UBaseType_t uxQueueMessagesWaiting(const QueueHandle_t xQueue) PRIVILEGED_FUNCTION</div></div>
<div class="ttc" id="aesp32-hal-uart_8c_html_a9aafe24aefddcb5fd2d64d59025abccd"><div class="ttname"><a href="esp32-hal-uart_8c.html#a9aafe24aefddcb5fd2d64d59025abccd">uartAttachTx</a></div><div class="ttdeci">void uartAttachTx(uart_t *uart, uint8_t txPin, bool inverted)</div><div class="ttdef"><b>Definition:</b> <a href="esp32-hal-uart_8c_source.html#l00154">esp32-hal-uart.c:154</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
