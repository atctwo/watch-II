#
# Component Makefile
#
# This Makefile can be left empty. By default, it will take the sources in the
# src/ directory, compile them and link them into lib(subdirectory_name).a
# in the build directory. This behaviour is entirely configurable,
# please read the ESP-IDF documents if you need to do this.
#

set(COMPONENT_SRCS 
	cpu/dis6502.c
	cpu/nes6502.c
	libsnss/libsnss.c
	nes/mmclist.c
	nes/nes_mmc.c
	nes/nes_pal.c
	nes/nes_ppu.c
	nes/nes_rom.c
	nes/nes.c
	nes/nesinput.c
	nes/nesstate.c
	sndhrdw/fds_snd.c
	sndhrdw/mmc5_snd.c
	sndhrdw/nes_apu.c
	sndhrdw/vrcvisnd.c
	mappers/mspvrc.c
	mappers/map000.c
	mappers/map001.c
	mappers/map002.c
	mappers/map003.c
	mappers/map004.c
	mappers/map005.c
	mappers/map007.c
	mappers/map008.c
	mappers/map009.c
	mappers/map011.c
	mappers/map015.c
	mappers/map016.c
	mappers/map018.c
	mappers/map019.c
	mappers/map024.c
	mappers/map032.c
	mappers/map033.c
	mappers/map034.c
	mappers/map040.c
	mappers/map041.c
	mappers/map042.c
	mappers/map046.c
	mappers/map050.c
	mappers/map064.c
	mappers/map065.c
	mappers/map066.c
	mappers/map070.c
	mappers/map073.c
	mappers/map075.c
	mappers/map078.c
	mappers/map079.c
	mappers/map085.c
	mappers/map087.c
	mappers/map093.c
	mappers/map094.c
	mappers/map099.c
	mappers/map160.c
	mappers/map229.c
	mappers/map231.c
	bitmap.c
	config.c
	event.c
	gui_elem.c
	gui,c
	intro.c
	log.c
	memguard.c
	nofrendo.c
	pcx.c
	vid_drv.c
)

set(COMPONENT_ADD_INCLUDEDIRS
  cpu 
  libsnss 
  nes 
  sndhrdw 
  .
)

#register_component()

idf_component_register(SRCS         ${COMPONENT_SRCS}
                       INCLUDE_DIRS ${COMPONENT_INCLUDEDIRS}
                        )

target_compile_options(${COMPONENT_LIB} PRIVATE -Wno-error=char-subscripts)
target_compile_options(${COMPONENT_LIB} PRIVATE -Wno-error=attributes)
target_compile_options(${COMPONENT_LIB} PRIVATE -DNOFRENDO_DEBUG)